{
  "version": 3,
  "sources": ["../src/state.ts", "../src/divergenceState.ts", "../src/timezone.ts", "../src/divergenceTable.ts", "../src/utils.ts", "../src/components.ts", "../node_modules/fancy-canvas/size.mjs", "../node_modules/fancy-canvas/device-pixel-ratio.mjs", "../node_modules/fancy-canvas/canvas-element-bitmap-size.mjs", "../node_modules/fancy-canvas/canvas-rendering-target.mjs", "../node_modules/lightweight-charts/dist/lightweight-charts.production.mjs", "../src/chartApi.ts", "../src/rsi.ts", "../src/chart.ts", "../src/divergenceApi.ts", "../src/divergenceFeed.ts", "../src/ticker.ts", "../src/breadth.ts", "../src/logs.ts", "../src/main.ts"],
  "sourcesContent": ["import { Alert } from './types';\n\nlet allAlerts: Alert[] = [];\n\nexport function getAlerts(): Alert[] {\n    return allAlerts;\n}\n\nexport function setAlerts(alerts: Alert[]): void {\n    allAlerts = alerts;\n}\n", "import { Alert } from './types';\n\nlet allDivergenceSignals: Alert[] = [];\n\nexport function getDivergenceSignals(): Alert[] {\n    return allDivergenceSignals;\n}\n\nexport function setDivergenceSignals(signals: Alert[]): void {\n    allDivergenceSignals = signals;\n}\n\n/** Replace only signals matching `timeframe`, keeping the other timeframe untouched. */\nexport function setDivergenceSignalsByTimeframe(timeframe: '1d' | '1w', signals: Alert[]): void {\n    const kept = allDivergenceSignals.filter((a) => (a.timeframe || '').trim() !== timeframe);\n    allDivergenceSignals = [...kept, ...signals];\n}\n\n", "export interface AppTimeZoneOption {\n  value: string;\n  label: string;\n}\n\nconst APP_TIMEZONE_STORAGE_KEY = 'catvue_app_timezone_v1';\nexport const DEFAULT_APP_TIME_ZONE = 'America/Los_Angeles';\n\nconst APP_TIMEZONE_OPTIONS: AppTimeZoneOption[] = [\n  { value: 'America/Los_Angeles', label: 'Los Angeles (US Pacific time)' },\n  { value: 'America/Denver', label: 'Denver (US Mountain time)' },\n  { value: 'America/Chicago', label: 'Chicago (US Central time)' },\n  { value: 'America/New_York', label: 'New York (US Eastern time)' },\n  { value: 'UTC', label: 'UTC' }\n];\n\nconst APP_TIMEZONE_VALUES = new Set(APP_TIMEZONE_OPTIONS.map((option) => option.value));\nconst listeners = new Set<(nextTimeZone: string, previousTimeZone: string) => void>();\n\nlet currentAppTimeZone = resolveInitialTimeZone();\nlet formatterCacheTimeZone = currentAppTimeZone;\nconst formatterCache = new Map<string, Intl.DateTimeFormat>();\n\nfunction isSupportedTimeZone(value: string): boolean {\n  if (!value) return false;\n  try {\n    // Throws when the runtime does not support the given time zone.\n    // eslint-disable-next-line no-new\n    new Intl.DateTimeFormat('en-US', { timeZone: value });\n    return true;\n  } catch {\n    return false;\n  }\n}\n\nfunction normalizeAppTimeZone(value: unknown): string {\n  const candidate = String(value || '').trim();\n  if (!candidate) return DEFAULT_APP_TIME_ZONE;\n  if (!APP_TIMEZONE_VALUES.has(candidate)) return DEFAULT_APP_TIME_ZONE;\n  if (!isSupportedTimeZone(candidate)) return DEFAULT_APP_TIME_ZONE;\n  return candidate;\n}\n\nfunction resolveInitialTimeZone(): string {\n  let stored = '';\n  try {\n    stored = typeof window !== 'undefined'\n      ? String(window.localStorage.getItem(APP_TIMEZONE_STORAGE_KEY) || '')\n      : '';\n  } catch {\n    stored = '';\n  }\n  return normalizeAppTimeZone(stored);\n}\n\nfunction persistTimeZone(value: string): void {\n  try {\n    if (typeof window === 'undefined') return;\n    window.localStorage.setItem(APP_TIMEZONE_STORAGE_KEY, value);\n  } catch {\n    // Ignore storage write failures.\n  }\n}\n\nfunction buildFormatterCacheKey(\n  locale: string | string[],\n  options: Intl.DateTimeFormatOptions\n): string {\n  const localeKey = Array.isArray(locale) ? locale.join('|') : locale;\n  const entries = Object.entries(options)\n    .sort(([a], [b]) => a.localeCompare(b))\n    .map(([key, value]) => `${key}:${String(value)}`);\n  return `${localeKey}|${entries.join(',')}`;\n}\n\nexport function getAppTimeZoneOptions(): AppTimeZoneOption[] {\n  return APP_TIMEZONE_OPTIONS.map((option) => ({ ...option }));\n}\n\nexport function getAppTimeZone(): string {\n  return currentAppTimeZone;\n}\n\nexport function getAppTimeZoneLabel(timeZone: string = currentAppTimeZone): string {\n  const match = APP_TIMEZONE_OPTIONS.find((option) => option.value === timeZone);\n  return match?.label || APP_TIMEZONE_OPTIONS[0].label;\n}\n\nexport function getAppTimeZoneFormatter(\n  locale: string | string[] = 'en-US',\n  options: Intl.DateTimeFormatOptions = {}\n): Intl.DateTimeFormat {\n  const activeTimeZone = getAppTimeZone();\n  if (formatterCacheTimeZone !== activeTimeZone) {\n    formatterCache.clear();\n    formatterCacheTimeZone = activeTimeZone;\n  }\n  const cacheKey = buildFormatterCacheKey(locale, options);\n  const cached = formatterCache.get(cacheKey);\n  if (cached) return cached;\n\n  const formatter = new Intl.DateTimeFormat(locale, {\n    ...options,\n    timeZone: activeTimeZone\n  });\n  formatterCache.set(cacheKey, formatter);\n  return formatter;\n}\n\nexport function setAppTimeZone(value: string): string {\n  const nextTimeZone = normalizeAppTimeZone(value);\n  const previousTimeZone = currentAppTimeZone;\n  if (nextTimeZone === previousTimeZone) return nextTimeZone;\n\n  currentAppTimeZone = nextTimeZone;\n  persistTimeZone(nextTimeZone);\n  formatterCache.clear();\n  formatterCacheTimeZone = nextTimeZone;\n\n  listeners.forEach((listener) => {\n    try {\n      listener(nextTimeZone, previousTimeZone);\n    } catch {\n      // Keep listener failures isolated.\n    }\n  });\n\n  return nextTimeZone;\n}\n\nexport function onAppTimeZoneChange(\n  listener: (nextTimeZone: string, previousTimeZone: string) => void\n): () => void {\n  listeners.add(listener);\n  return () => {\n    listeners.delete(listener);\n  };\n}\n", "export type DivergenceState = 'bullish' | 'bearish' | 'neutral';\n\nexport const DIVERGENCE_LOOKBACK_DAYS = [1, 3, 7, 14, 28] as const;\n\nexport interface DivergenceSummaryEntry {\n  ticker: string;\n  tradeDate: string | null;\n  states: Record<string, DivergenceState>;\n  expiresAtMs: number;\n}\n\ninterface DivergenceSummaryApiPayload {\n  sourceInterval?: string;\n  refreshedAt?: string;\n  summaries?: Array<{\n    ticker?: string;\n    tradeDate?: string | null;\n    states?: Record<string, string>;\n    expiresAtMs?: number;\n  }>;\n}\n\ntype DivergenceSummaryApiItem = NonNullable<DivergenceSummaryApiPayload['summaries']>[number];\n\nconst divergenceSummaryCache = new Map<string, DivergenceSummaryEntry>();\nconst divergenceSummaryBatchInFlight = new Map<string, Promise<Map<string, DivergenceSummaryEntry>>>();\nconst CHART_SETTINGS_STORAGE_KEY = 'custom_chart_settings_v1';\nconst DEFAULT_DIVERGENCE_SOURCE_INTERVAL = '1min';\nconst VALID_DIVERGENCE_SOURCE_INTERVALS = new Set(['1min', '5min', '15min', '30min', '1hour', '4hour']);\n\ninterface PersistedDivergenceSourceSettings {\n  volumeDelta?: {\n    sourceInterval?: string;\n  };\n}\n\nfunction normalizeState(raw: unknown): DivergenceState {\n  const value = String(raw || '').trim().toLowerCase();\n  if (value === 'bullish' || value === 'bearish') return value;\n  return 'neutral';\n}\n\nfunction normalizeTicker(value: unknown): string {\n  return String(value || '').trim().toUpperCase();\n}\n\nfunction normalizeSourceInterval(raw: unknown): string {\n  const value = String(raw || '').trim();\n  return VALID_DIVERGENCE_SOURCE_INTERVALS.has(value)\n    ? value\n    : DEFAULT_DIVERGENCE_SOURCE_INTERVAL;\n}\n\nexport function getPreferredDivergenceSourceInterval(): string {\n  try {\n    if (typeof window === 'undefined') return DEFAULT_DIVERGENCE_SOURCE_INTERVAL;\n    const raw = window.localStorage.getItem(CHART_SETTINGS_STORAGE_KEY);\n    if (!raw) return DEFAULT_DIVERGENCE_SOURCE_INTERVAL;\n    const parsed = JSON.parse(raw) as PersistedDivergenceSourceSettings;\n    return normalizeSourceInterval(parsed?.volumeDelta?.sourceInterval);\n  } catch {\n    return DEFAULT_DIVERGENCE_SOURCE_INTERVAL;\n  }\n}\n\nfunction cacheKeyFor(ticker: string, sourceInterval: string): string {\n  return `${normalizeTicker(ticker)}|${normalizeSourceInterval(sourceInterval)}`;\n}\n\nfunction getCachedSummary(ticker: string, sourceInterval: string): DivergenceSummaryEntry | null {\n  const key = cacheKeyFor(ticker, sourceInterval);\n  const cached = divergenceSummaryCache.get(key);\n  if (!cached) return null;\n  if (!Number.isFinite(cached.expiresAtMs) || cached.expiresAtMs <= Date.now()) {\n    divergenceSummaryCache.delete(key);\n    return null;\n  }\n  return cached;\n}\n\nfunction setCachedSummary(sourceInterval: string, entry: DivergenceSummaryEntry): void {\n  const key = cacheKeyFor(entry.ticker, sourceInterval);\n  divergenceSummaryCache.set(key, entry);\n}\n\nfunction buildNeutralStates(): Record<string, DivergenceState> {\n  const out: Record<string, DivergenceState> = {};\n  for (const days of DIVERGENCE_LOOKBACK_DAYS) {\n    out[String(days)] = 'neutral';\n  }\n  return out;\n}\n\nfunction normalizeApiSummary(item: DivergenceSummaryApiItem): DivergenceSummaryEntry | null {\n  const ticker = normalizeTicker(item?.ticker);\n  if (!ticker) return null;\n  const states = buildNeutralStates();\n  const rawStates = item?.states || {};\n  for (const days of DIVERGENCE_LOOKBACK_DAYS) {\n    states[String(days)] = normalizeState(rawStates[String(days)]);\n  }\n  const expiresAtMs = Number(item?.expiresAtMs);\n  const safeExpiresAt = Number.isFinite(expiresAtMs) && expiresAtMs > Date.now()\n    ? expiresAtMs\n    : (Date.now() + (60 * 60 * 1000));\n  return {\n    ticker,\n    tradeDate: typeof item?.tradeDate === 'string' ? item.tradeDate : null,\n    states,\n    expiresAtMs: safeExpiresAt\n  };\n}\n\nasync function fetchDivergenceSummariesBatch(\n  tickers: string[],\n  sourceInterval: string,\n  options?: { forceRefresh?: boolean; noCache?: boolean }\n): Promise<Map<string, DivergenceSummaryEntry>> {\n  const normalizedSourceInterval = normalizeSourceInterval(sourceInterval);\n  const forceRefresh = options?.forceRefresh === true;\n  const noCache = options?.noCache === true;\n  const uniqueTickers = Array.from(new Set(\n    tickers\n      .map((ticker) => normalizeTicker(ticker))\n      .filter(Boolean)\n  ));\n  if (uniqueTickers.length === 0) return new Map();\n\n  const requestKey = `${normalizedSourceInterval}|${forceRefresh ? 'refresh' : 'cached'}|${noCache ? 'nocache' : 'cache'}|${uniqueTickers.join(',')}`;\n  if (divergenceSummaryBatchInFlight.has(requestKey)) {\n    return await divergenceSummaryBatchInFlight.get(requestKey)!;\n  }\n\n  const batchPromise = (async (): Promise<Map<string, DivergenceSummaryEntry>> => {\n    const resolved = new Map<string, DivergenceSummaryEntry>();\n    const params = new URLSearchParams();\n    params.set('tickers', uniqueTickers.join(','));\n    params.set('vdSourceInterval', normalizedSourceInterval);\n    if (forceRefresh) {\n      params.set('refresh', '1');\n    }\n    if (noCache) {\n      params.set('nocache', '1');\n    }\n    const response = await fetch(`/api/chart/divergence-summary?${params.toString()}`, {\n      cache: 'no-store'\n    });\n    if (!response.ok) {\n      throw new Error(`Failed to fetch divergence summary (HTTP ${response.status})`);\n    }\n    const payload = (await response.json()) as DivergenceSummaryApiPayload;\n    const rows = Array.isArray(payload?.summaries) ? payload.summaries : [];\n    for (const row of rows) {\n      const normalized = normalizeApiSummary(row);\n      if (!normalized) continue;\n      resolved.set(normalized.ticker, normalized);\n      setCachedSummary(normalizedSourceInterval, normalized);\n    }\n    return resolved;\n  })()\n    .catch(() => {\n      // Keep summary fetching best-effort.\n      return new Map<string, DivergenceSummaryEntry>();\n    })\n    .finally(() => {\n      divergenceSummaryBatchInFlight.delete(requestKey);\n    });\n\n  divergenceSummaryBatchInFlight.set(requestKey, batchPromise);\n  return await batchPromise;\n}\n\nexport async function getTickerDivergenceSummary(\n  ticker: string,\n  sourceInterval?: string,\n  options?: { forceRefresh?: boolean; noCache?: boolean }\n): Promise<DivergenceSummaryEntry | null> {\n  const normalizedTicker = normalizeTicker(ticker);\n  const normalizedSource = sourceInterval\n    ? normalizeSourceInterval(sourceInterval)\n    : getPreferredDivergenceSourceInterval();\n  const forceRefresh = options?.forceRefresh === true;\n  const noCache = options?.noCache === true;\n  if (!normalizedTicker) return null;\n\n  // When not forcing refresh, try the in-memory cache first.\n  if (!forceRefresh && !noCache) {\n    const cached = getCachedSummary(normalizedTicker, normalizedSource);\n    if (cached) return cached;\n  }\n\n  const resultMap = await fetchDivergenceSummariesBatch(\n    [normalizedTicker],\n    normalizedSource,\n    { forceRefresh, noCache }\n  );\n  return resultMap.get(normalizedTicker) || null;\n}\n\nexport function renderMiniDivergenceRow(\n  root: ParentNode,\n  summary: DivergenceSummaryEntry | null\n): void {\n  const nodes = root.querySelectorAll<HTMLElement>('.div-dot, .divergence-mini-cell');\n  nodes.forEach((node) => {\n    const dayKey = String(node.dataset.days || '').trim();\n    const state = summary?.states?.[dayKey] || 'neutral';\n    node.classList.remove('is-bullish', 'is-bearish', 'is-neutral');\n    if (state === 'bullish') {\n      node.classList.add('is-bullish');\n    } else if (state === 'bearish') {\n      node.classList.add('is-bearish');\n    } else {\n      node.classList.add('is-neutral');\n    }\n  });\n  const parent = root instanceof HTMLElement\n    ? root\n    : (root as Element | null);\n  if (parent instanceof HTMLElement) {\n    if (summary?.tradeDate) {\n      parent.dataset.tradeDate = summary.tradeDate;\n      parent.title = `Daily divergence as of ${summary.tradeDate} (${DIVERGENCE_LOOKBACK_DAYS.join(', ')}d)`;\n    } else {\n      parent.removeAttribute('data-trade-date');\n      parent.title = `Daily divergence (${DIVERGENCE_LOOKBACK_DAYS.join(', ')}d)`;\n    }\n  }\n}\n\nexport function renderMiniDivergencePlaceholders(root: ParentNode): void {\n  const nodes = root.querySelectorAll<HTMLElement>('.div-dot, .divergence-mini-cell');\n  nodes.forEach((node) => {\n    node.classList.remove('is-bullish', 'is-bearish');\n    node.classList.add('is-neutral');\n  });\n}\n\nconst DIVERGENCE_SCORE_WEIGHTS: Record<string, number> = {\n  '1': 3,\n  '3': 3,\n  '7': 2,\n  '14': 2,\n  '28': 1\n};\n\nexport function computeDivergenceScoreFromStates(\n  states?: Record<string, string | DivergenceState | null | undefined>,\n  maStates?: { ema8?: boolean; ema21?: boolean; sma50?: boolean; sma200?: boolean } | null\n): number {\n  let total = 0;\n  for (const days of DIVERGENCE_LOOKBACK_DAYS) {\n    const key = String(days);\n    const raw = String(states?.[key] || '').trim().toLowerCase();\n    const weight = Number(DIVERGENCE_SCORE_WEIGHTS[key] || 0);\n    if (raw === 'bullish') {\n      total += weight;\n    } else if (raw === 'bearish') {\n      total -= weight;\n    }\n  }\n  if (maStates) {\n    total += maStates.ema8 === true ? 1 : maStates.ema8 === false ? -1 : 0;\n    total += maStates.ema21 === true ? 1 : maStates.ema21 === false ? -1 : 0;\n    total += maStates.sma50 === true ? 1 : maStates.sma50 === false ? -1 : 0;\n    total += maStates.sma200 === true ? 1 : maStates.sma200 === false ? -1 : 0;\n  }\n  return total;\n}\n\nexport function getTickerDivergenceScoreFromCache(\n  ticker: string,\n  sourceInterval?: string\n): number {\n  const normalizedTicker = normalizeTicker(ticker);\n  if (!normalizedTicker) return 0;\n  const normalizedSource = sourceInterval\n    ? normalizeSourceInterval(sourceInterval)\n    : getPreferredDivergenceSourceInterval();\n  const summary = getCachedSummary(normalizedTicker, normalizedSource);\n  if (!summary) return 0;\n  return computeDivergenceScoreFromStates(summary.states);\n}\n\n\n\nexport function renderAlertCardDivergenceTablesFromCache(\n  container: ParentNode\n): void {\n  const normalizedSource = getPreferredDivergenceSourceInterval();\n  const cells = Array.from(container.querySelectorAll<HTMLElement>('.div-dot-row[data-ticker], .divergence-mini[data-ticker]'));\n  for (const cell of cells) {\n    const ticker = normalizeTicker(cell.dataset.ticker);\n    if (!ticker) continue;\n    const cached = getCachedSummary(ticker, normalizedSource);\n    if (cached) {\n      renderMiniDivergenceRow(cell, cached);\n    }\n  }\n}\n\nexport function primeDivergenceSummaryCacheFromAlerts(\n  alerts: Array<{ ticker?: string; divergence_states?: Record<string, string | null | undefined>; divergence_trade_date?: string | null }>,\n  sourceInterval?: string\n): void {\n  const normalizedSource = sourceInterval\n    ? normalizeSourceInterval(sourceInterval)\n    : getPreferredDivergenceSourceInterval();\n  const nowMs = Date.now();\n  const expiresAtMs = nowMs + (60 * 60 * 1000);\n  for (const alert of alerts || []) {\n    const ticker = normalizeTicker(alert?.ticker);\n    if (!ticker) continue;\n    const states = buildNeutralStates();\n    const rawStates = alert?.divergence_states || {};\n    for (const days of DIVERGENCE_LOOKBACK_DAYS) {\n      states[String(days)] = normalizeState(rawStates[String(days)]);\n    }\n    setCachedSummary(normalizedSource, {\n      ticker,\n      tradeDate: typeof alert?.divergence_trade_date === 'string'\n        ? alert.divergence_trade_date\n        : null,\n      states,\n      expiresAtMs\n    });\n  }\n}\n\nexport async function hydrateAlertCardDivergenceTables(\n  container: ParentNode,\n  sourceInterval?: string,\n  options?: { forceRefresh?: boolean; noCache?: boolean; resetPlaceholders?: boolean }\n): Promise<void> {\n  const forceRefresh = options?.forceRefresh === true;\n  const noCache = options?.noCache === true;\n  const resetPlaceholders = options?.resetPlaceholders === true;\n  const normalizedSource = sourceInterval\n    ? normalizeSourceInterval(sourceInterval)\n    : getPreferredDivergenceSourceInterval();\n  const cells = Array.from(container.querySelectorAll<HTMLElement>('.div-dot-row[data-ticker], .divergence-mini[data-ticker]'));\n  if (!cells.length) return;\n\n  if (resetPlaceholders) {\n    renderMiniDivergencePlaceholders(container);\n  }\n  const tickers = Array.from(new Set(\n    cells\n      .map((cell) => normalizeTicker(cell.dataset.ticker))\n      .filter(Boolean)\n  ));\n  if (!tickers.length) return;\n\n  const batchSize = 60;\n  const fetchedByTicker = new Map<string, DivergenceSummaryEntry>();\n  for (let i = 0; i < tickers.length; i += batchSize) {\n    const chunk = tickers.slice(i, i + batchSize);\n    const shouldForceRefreshChunk = (forceRefresh || noCache) && (noCache || chunk.length > 1);\n    const fetched = await fetchDivergenceSummariesBatch(\n      chunk,\n      normalizedSource,\n      shouldForceRefreshChunk ? { forceRefresh: true, noCache } : undefined\n    );\n    for (const [ticker, summary] of fetched.entries()) {\n      fetchedByTicker.set(ticker, summary);\n    }\n  }\n\n  for (const cell of cells) {\n    const ticker = normalizeTicker(cell.dataset.ticker);\n    if (!ticker) continue;\n    const summary = fetchedByTicker.get(ticker) || null;\n    renderMiniDivergenceRow(cell, summary);\n  }\n}\n", "import { SortMode, Alert } from './types';\nimport { getAppTimeZone } from './timezone';\nimport { computeDivergenceScoreFromStates, getTickerDivergenceScoreFromCache } from './divergenceTable';\n\ninterface DateParts {\n    year: number;\n    month: number;\n    day: number;\n}\n\nconst dateFormatterCache = new Map<string, Intl.DateTimeFormat>();\nconst DAY_MS = 24 * 60 * 60 * 1000;\n\nfunction getDateFormatterForTimeZone(timeZone: string): Intl.DateTimeFormat {\n    const key = `${timeZone}|date`;\n    const cached = dateFormatterCache.get(key);\n    if (cached) return cached;\n    const formatter = new Intl.DateTimeFormat('en-CA', {\n        timeZone,\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit'\n    });\n    dateFormatterCache.set(key, formatter);\n    return formatter;\n}\n\nfunction toNumberPart(parts: Intl.DateTimeFormatPart[], type: string): number {\n    const value = Number(parts.find((part) => part.type === type)?.value);\n    return Number.isFinite(value) ? value : 0;\n}\n\nfunction getDatePartsForTimeZone(date: Date, timeZone: string): DateParts {\n    const parts = getDateFormatterForTimeZone(timeZone).formatToParts(date);\n    return {\n        year: toNumberPart(parts, 'year'),\n        month: toNumberPart(parts, 'month'),\n        day: toNumberPart(parts, 'day')\n    };\n}\n\nfunction formatDateKey(year: number, month: number, day: number): string {\n    return `${year}-${String(month).padStart(2, '0')}-${String(day).padStart(2, '0')}`;\n}\n\nfunction shiftDateKey(dateKey: string, dayDelta: number): string {\n    const baseMs = dayKeyToUtcMs(dateKey);\n    if (!Number.isFinite(baseMs)) return '';\n    const shifted = new Date((baseMs as number) + (dayDelta * DAY_MS));\n    return formatDateKey(\n        shifted.getUTCFullYear(),\n        shifted.getUTCMonth() + 1,\n        shifted.getUTCDate()\n    );\n}\n\nfunction dayKeyToUtcMs(dayKey: string): number | null {\n    const match = String(dayKey || '').match(/^(\\d{4})-(\\d{2})-(\\d{2})$/);\n    if (!match) return null;\n    const year = Number(match[1]);\n    const month = Number(match[2]);\n    const day = Number(match[3]);\n    if (!Number.isFinite(year) || !Number.isFinite(month) || !Number.isFinite(day)) return null;\n    return Date.UTC(year, month - 1, day);\n}\n\nexport function getCurrentDateISO(timeZone: string = getAppTimeZone()): string {\n    const now = new Date();\n    const parts = getDatePartsForTimeZone(now, timeZone);\n    return formatDateKey(parts.year, parts.month, parts.day);\n}\n\nexport function getRelativeTime(timestamp?: string, timeZone: string = getAppTimeZone()): string {\n    if (!timestamp) return '';\n    const date = new Date(timestamp);\n    if (!Number.isFinite(date.getTime())) return '';\n\n    const dayFormatter = getDateFormatterForTimeZone(timeZone);\n    const alertDayKey = dayFormatter.format(date);\n    const nowDayKey = dayFormatter.format(new Date());\n\n    const alertDayMs = dayKeyToUtcMs(alertDayKey);\n    const nowDayMs = dayKeyToUtcMs(nowDayKey);\n    if (!Number.isFinite(alertDayMs) || !Number.isFinite(nowDayMs)) return '';\n\n    const diffDays = Math.floor(((nowDayMs as number) - (alertDayMs as number)) / DAY_MS);\n    if (diffDays === 0) return 'Today';\n    if (diffDays === 1) return '1d ago';\n    if (diffDays < 0) return 'Today';\n    return `${diffDays}d ago`;\n}\n\nexport function formatVolume(vol?: number): string {\n    if (!vol) return '0'.padEnd(7);\n    if (vol < 1000) return vol.toFixed(0).padEnd(7);\n    const str = Math.round(vol / 1000) + 'K';\n    return str.padEnd(7);\n}\n\nexport function getDateRangeForMode(\n    mode: string,\n    customFrom: string = '',\n    customTo: string = '',\n    timeZone: string = getAppTimeZone()\n): { startDate: string, endDate: string } {\n    const today = getCurrentDateISO(timeZone);\n    if (!today) return { startDate: '', endDate: '' };\n\n    // Numeric modes: fetch a generous 30-day window; client-side filters to N most recent dates\n    if (mode === '1' || mode === '2' || mode === '5') {\n        const startDate = shiftDateKey(today, -29);\n        return startDate ? { startDate, endDate: today } : { startDate: '', endDate: '' };\n    }\n\n    if (mode === 'custom') {\n        const from = String(customFrom || '').trim();\n        const to = String(customTo || '').trim();\n        if (/^\\d{4}-\\d{2}-\\d{2}$/.test(from) && /^\\d{4}-\\d{2}-\\d{2}$/.test(to)) {\n            return { startDate: from, endDate: to };\n        }\n        return { startDate: '', endDate: '' };\n    }\n\n    return { startDate: '', endDate: '' };\n}\n\nexport function escapeHtml(s: string): string {\n    return s\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&#39;');\n}\n\nexport function createAlertSortFn(mode: SortMode, direction: 'asc' | 'desc' = 'desc'): (a: Alert, b: Alert) => number {\n    return (a: Alert, b: Alert): number => {\n        let result = 0;\n        if (mode === 'time') {\n            result = (b.timestamp || '').localeCompare(a.timestamp || '');\n        } else if (mode === 'favorite') {\n            if (a.is_favorite === b.is_favorite) {\n                return (b.timestamp || '').localeCompare(a.timestamp || '');\n            }\n            return (b.is_favorite ? 1 : 0) - (a.is_favorite ? 1 : 0);\n        } else if (mode === 'volume') {\n            result = (b.signal_volume || 0) - (a.signal_volume || 0);\n        } else if (mode === 'score') {\n            let bScore = b.divergence_states\n                ? computeDivergenceScoreFromStates(b.divergence_states, b.ma_states)\n                : getTickerDivergenceScoreFromCache(b.ticker);\n            let aScore = a.divergence_states\n                ? computeDivergenceScoreFromStates(a.divergence_states, a.ma_states)\n                : getTickerDivergenceScoreFromCache(a.ticker);\n            if (b.vdf_score) bScore += Math.round(b.vdf_score / 10);\n            if (a.vdf_score) aScore += Math.round(a.vdf_score / 10);\n            if (bScore !== aScore) {\n                result = bScore - aScore;\n            } else {\n                const volumeDiff = (b.signal_volume || 0) - (a.signal_volume || 0);\n                if (volumeDiff !== 0) {\n                    result = volumeDiff;\n                } else {\n                    result = (b.timestamp || '').localeCompare(a.timestamp || '');\n                }\n            }\n        } else {\n            result = (b.timestamp || '').localeCompare(a.timestamp || '');\n        }\n\n        if ((mode as string) !== 'favorite' && direction === 'asc') {\n            return -result;\n        }\n        return result;\n    };\n}\n\nexport function updateSortButtonUi(\n    containerSelector: string,\n    currentMode: SortMode,\n    direction: 'asc' | 'desc'\n): void {\n    const header = document.querySelector(containerSelector);\n    if (!header) return;\n    header.querySelectorAll('.tf-btn').forEach(btn => {\n        const el = btn as HTMLElement;\n        const mode = el.dataset.sort as SortMode;\n        if (mode === currentMode) {\n            el.classList.add('active');\n            // Set arrow indicator via CSS pseudo-element (positioned top-right by CSS)\n            if (mode !== 'favorite') {\n                el.setAttribute('data-sort-dir', direction === 'asc' ? '\u2191' : '\u2193');\n            }\n        } else {\n            el.classList.remove('active');\n            el.removeAttribute('data-sort-dir');\n        }\n    });\n}\n", "import { Alert } from './types';\nimport { formatVolume, escapeHtml } from './utils';\nimport { DIVERGENCE_LOOKBACK_DAYS } from './divergenceTable';\n\nfunction formatAlertCardDate(rawDate: string | null | undefined): string {\n    const value = String(rawDate || '').trim();\n    if (!value) return '';\n\n    const dateOnlyMatch = value.match(/^(\\d{4})-(\\d{2})-(\\d{2})/);\n    if (dateOnlyMatch) {\n        const month = Number(dateOnlyMatch[2]);\n        const day = Number(dateOnlyMatch[3]);\n        if (Number.isFinite(month) && month > 0 && Number.isFinite(day) && day > 0) {\n            return `${month}/${day}`;\n        }\n    }\n\n    const parsed = new Date(value);\n    if (Number.isNaN(parsed.getTime())) {\n        return '';\n    }\n\n    return `${parsed.getMonth() + 1}/${parsed.getDate()}`;\n}\n\nexport function createAlertCard(alert: Alert): string {\n    const timeStr = formatAlertCardDate(alert.signal_trade_date || alert.divergence_trade_date || alert.timestamp) || '--';\n    const source = 'DataAPI';\n    const maStates = alert.ma_states || {};\n    \n    let isBull = false;\n    let isBear = false;\n\n    if (alert.signal_direction !== undefined && alert.signal_direction !== null) {\n        const dir = Number(alert.signal_direction);\n        isBull = dir === 1;\n        isBear = dir === -1;\n    } else {\n        isBull = !!(alert.signal_type && alert.signal_type.toLowerCase().includes('bull'));\n        isBear = !isBull;\n    }\n\n    const cardClass = isBull ? 'bullish-card' : (isBear ? 'bearish-card' : '');\n    \n    const volStr = formatVolume(alert.signal_volume || 0);\n    // Strict boolean check\n    const isFav = alert.is_favorite === true || String(alert.is_favorite).toLowerCase() === 'true';\n    const starClass = isFav ? 'filled' : '';\n    \n    // Explicit HTML for Checked vs Unchecked states\n    const checkmarkVisibility = isFav ? 'visible' : 'hidden';\n    const checkmarkOpacity = isFav ? '1' : '0';\n\n    // Checkbox Icon\n    const starIcon = `\n        <svg class=\"fav-icon ${starClass}\" data-id=\"${alert.id}\" data-source=\"${source}\" viewBox=\"0 0 24 24\" width=\"15\" height=\"15\" stroke=\"currentColor\" stroke-width=\"2.25\" fill=\"none\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n            <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect>\n            <polyline class=\"check-mark\" points=\"7.5 12.5 10.5 15.5 16.5 9.5\" style=\"visibility: ${checkmarkVisibility}; opacity: ${checkmarkOpacity};\"></polyline>\n        </svg>\n    `;\n\n    const divergenceDots = DIVERGENCE_LOOKBACK_DAYS\n        .map((days) => {\n            const key = String(days);\n            const state = String(alert.divergence_states?.[key] || 'neutral').toLowerCase();\n            const cls = state === 'bullish'\n                ? 'is-bullish'\n                : (state === 'bearish' ? 'is-bearish' : 'is-neutral');\n            return `<span class=\"div-dot ${cls}\" data-days=\"${days}\"></span>`;\n        })\n        .join('');\n\n    const divergenceTitle = alert.divergence_trade_date\n        ? `Daily divergence as of ${escapeHtml(alert.divergence_trade_date)} (${DIVERGENCE_LOOKBACK_DAYS.join(', ')}d)`\n        : `Daily divergence (${DIVERGENCE_LOOKBACK_DAYS.join(', ')}d)`;\n    const maDots = `\n        <span class=\"ma-dot-row\" title=\"8 EMA, 21 EMA, 50 SMA, 200 SMA\">\n            <span class=\"ma-dot ${maStates.ema8 ? 'is-up' : 'is-down'}\"></span>\n            <span class=\"ma-dot ${maStates.ema21 ? 'is-up' : 'is-down'}\"></span>\n            <span class=\"ma-dot ${maStates.sma50 ? 'is-up' : 'is-down'}\"></span>\n            <span class=\"ma-dot ${maStates.sma200 ? 'is-up' : 'is-down'}\"></span>\n        </span>\n    `;\n\n    return `\n        <div class=\"alert-card ${cardClass}\" data-ticker=\"${escapeHtml(alert.ticker)}\" data-source=\"${source}\">\n            ${starIcon}\n            <h3>${escapeHtml(alert.ticker)}</h3>\n            \n            <div class=\"metrics-container\">\n                <div class=\"metric-item\" title=\"Daily divergence summary\">\n                    <span class=\"div-dot-row\" data-ticker=\"${escapeHtml(alert.ticker)}\" title=\"${divergenceTitle}\">\n                        ${divergenceDots}\n                    </span>\n                </div>\n                <div class=\"metric-item\" title=\"Signal Volume\">\n                    <span class=\"volume-text\">${volStr}</span>\n                    ${alert.vdf_detected && alert.vdf_score\n                        ? `<span class=\"vdf-score-badge${alert.vdf_proximity === 'imminent' ? ' vdf-imminent' : alert.vdf_proximity === 'high' ? ' vdf-high' : ''}\" title=\"VD Accumulation Score: ${alert.vdf_score}\">${alert.vdf_score}</span>`\n                        : (alert.vdf_detected ? '<span class=\"vdf-tag\" title=\"VD Accumulation detected\">VDF</span>' : '')}\n                    ${maDots}\n                </div>\n            </div>\n\n            <span class=\"alert-time\">${timeStr}</span>\n        </div>\n    `;\n}\n", "export function size(_a) {\n    var width = _a.width, height = _a.height;\n    if (width < 0) {\n        throw new Error('Negative width is not allowed for Size');\n    }\n    if (height < 0) {\n        throw new Error('Negative height is not allowed for Size');\n    }\n    return {\n        width: width,\n        height: height,\n    };\n}\nexport function equalSizes(first, second) {\n    return (first.width === second.width) &&\n        (first.height === second.height);\n}\n", "var Observable = /** @class */ (function () {\n    function Observable(win) {\n        var _this = this;\n        this._resolutionListener = function () { return _this._onResolutionChanged(); };\n        this._resolutionMediaQueryList = null;\n        this._observers = [];\n        this._window = win;\n        this._installResolutionListener();\n    }\n    Observable.prototype.dispose = function () {\n        this._uninstallResolutionListener();\n        this._window = null;\n    };\n    Object.defineProperty(Observable.prototype, \"value\", {\n        get: function () {\n            return this._window.devicePixelRatio;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Observable.prototype.subscribe = function (next) {\n        var _this = this;\n        var observer = { next: next };\n        this._observers.push(observer);\n        return {\n            unsubscribe: function () {\n                _this._observers = _this._observers.filter(function (o) { return o !== observer; });\n            },\n        };\n    };\n    Observable.prototype._installResolutionListener = function () {\n        if (this._resolutionMediaQueryList !== null) {\n            throw new Error('Resolution listener is already installed');\n        }\n        var dppx = this._window.devicePixelRatio;\n        this._resolutionMediaQueryList = this._window.matchMedia(\"all and (resolution: \".concat(dppx, \"dppx)\"));\n        // IE and some versions of Edge do not support addEventListener/removeEventListener, and we are going to use the deprecated addListener/removeListener\n        this._resolutionMediaQueryList.addListener(this._resolutionListener);\n    };\n    Observable.prototype._uninstallResolutionListener = function () {\n        if (this._resolutionMediaQueryList !== null) {\n            // IE and some versions of Edge do not support addEventListener/removeEventListener, and we are going to use the deprecated addListener/removeListener\n            this._resolutionMediaQueryList.removeListener(this._resolutionListener);\n            this._resolutionMediaQueryList = null;\n        }\n    };\n    Observable.prototype._reinstallResolutionListener = function () {\n        this._uninstallResolutionListener();\n        this._installResolutionListener();\n    };\n    Observable.prototype._onResolutionChanged = function () {\n        var _this = this;\n        this._observers.forEach(function (observer) { return observer.next(_this._window.devicePixelRatio); });\n        this._reinstallResolutionListener();\n    };\n    return Observable;\n}());\nexport function createObservable(win) {\n    return new Observable(win);\n}\n", "import { equalSizes, size } from \"./size.mjs\";\nimport { createObservable as createDevicePixelRatioObservable } from \"./device-pixel-ratio.mjs\";\nvar DevicePixelContentBoxBinding = /** @class */ (function () {\n    function DevicePixelContentBoxBinding(canvasElement, transformBitmapSize, options) {\n        var _a;\n        this._canvasElement = null;\n        this._bitmapSizeChangedListeners = [];\n        this._suggestedBitmapSize = null;\n        this._suggestedBitmapSizeChangedListeners = [];\n        // devicePixelRatio approach\n        this._devicePixelRatioObservable = null;\n        // ResizeObserver approach\n        this._canvasElementResizeObserver = null;\n        this._canvasElement = canvasElement;\n        this._canvasElementClientSize = size({\n            width: this._canvasElement.clientWidth,\n            height: this._canvasElement.clientHeight,\n        });\n        this._transformBitmapSize = transformBitmapSize !== null && transformBitmapSize !== void 0 ? transformBitmapSize : (function (size) { return size; });\n        this._allowResizeObserver = (_a = options === null || options === void 0 ? void 0 : options.allowResizeObserver) !== null && _a !== void 0 ? _a : true;\n        this._chooseAndInitObserver();\n        // we MAY leave the constuctor without any bitmap size observation mechanics initialized\n    }\n    DevicePixelContentBoxBinding.prototype.dispose = function () {\n        var _a, _b;\n        if (this._canvasElement === null) {\n            throw new Error('Object is disposed');\n        }\n        (_a = this._canvasElementResizeObserver) === null || _a === void 0 ? void 0 : _a.disconnect();\n        this._canvasElementResizeObserver = null;\n        (_b = this._devicePixelRatioObservable) === null || _b === void 0 ? void 0 : _b.dispose();\n        this._devicePixelRatioObservable = null;\n        this._suggestedBitmapSizeChangedListeners.length = 0;\n        this._bitmapSizeChangedListeners.length = 0;\n        this._canvasElement = null;\n    };\n    Object.defineProperty(DevicePixelContentBoxBinding.prototype, \"canvasElement\", {\n        get: function () {\n            if (this._canvasElement === null) {\n                throw new Error('Object is disposed');\n            }\n            return this._canvasElement;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DevicePixelContentBoxBinding.prototype, \"canvasElementClientSize\", {\n        get: function () {\n            return this._canvasElementClientSize;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DevicePixelContentBoxBinding.prototype, \"bitmapSize\", {\n        get: function () {\n            return size({\n                width: this.canvasElement.width,\n                height: this.canvasElement.height,\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Use this function to change canvas element client size until binding is disposed\n     * @param clientSize New client size for bound HTMLCanvasElement\n     */\n    DevicePixelContentBoxBinding.prototype.resizeCanvasElement = function (clientSize) {\n        this._canvasElementClientSize = size(clientSize);\n        this.canvasElement.style.width = \"\".concat(this._canvasElementClientSize.width, \"px\");\n        this.canvasElement.style.height = \"\".concat(this._canvasElementClientSize.height, \"px\");\n        this._invalidateBitmapSize();\n    };\n    DevicePixelContentBoxBinding.prototype.subscribeBitmapSizeChanged = function (listener) {\n        this._bitmapSizeChangedListeners.push(listener);\n    };\n    DevicePixelContentBoxBinding.prototype.unsubscribeBitmapSizeChanged = function (listener) {\n        this._bitmapSizeChangedListeners = this._bitmapSizeChangedListeners.filter(function (l) { return l !== listener; });\n    };\n    Object.defineProperty(DevicePixelContentBoxBinding.prototype, \"suggestedBitmapSize\", {\n        get: function () {\n            return this._suggestedBitmapSize;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DevicePixelContentBoxBinding.prototype.subscribeSuggestedBitmapSizeChanged = function (listener) {\n        this._suggestedBitmapSizeChangedListeners.push(listener);\n    };\n    DevicePixelContentBoxBinding.prototype.unsubscribeSuggestedBitmapSizeChanged = function (listener) {\n        this._suggestedBitmapSizeChangedListeners = this._suggestedBitmapSizeChangedListeners.filter(function (l) { return l !== listener; });\n    };\n    DevicePixelContentBoxBinding.prototype.applySuggestedBitmapSize = function () {\n        if (this._suggestedBitmapSize === null) {\n            // nothing to apply\n            return;\n        }\n        var oldSuggestedSize = this._suggestedBitmapSize;\n        this._suggestedBitmapSize = null;\n        this._resizeBitmap(oldSuggestedSize);\n        this._emitSuggestedBitmapSizeChanged(oldSuggestedSize, this._suggestedBitmapSize);\n    };\n    DevicePixelContentBoxBinding.prototype._resizeBitmap = function (newSize) {\n        var oldSize = this.bitmapSize;\n        if (equalSizes(oldSize, newSize)) {\n            return;\n        }\n        this.canvasElement.width = newSize.width;\n        this.canvasElement.height = newSize.height;\n        this._emitBitmapSizeChanged(oldSize, newSize);\n    };\n    DevicePixelContentBoxBinding.prototype._emitBitmapSizeChanged = function (oldSize, newSize) {\n        var _this = this;\n        this._bitmapSizeChangedListeners.forEach(function (listener) { return listener.call(_this, oldSize, newSize); });\n    };\n    DevicePixelContentBoxBinding.prototype._suggestNewBitmapSize = function (newSize) {\n        var oldSuggestedSize = this._suggestedBitmapSize;\n        var finalNewSize = size(this._transformBitmapSize(newSize, this._canvasElementClientSize));\n        var newSuggestedSize = equalSizes(this.bitmapSize, finalNewSize) ? null : finalNewSize;\n        if (oldSuggestedSize === null && newSuggestedSize === null) {\n            return;\n        }\n        if (oldSuggestedSize !== null && newSuggestedSize !== null\n            && equalSizes(oldSuggestedSize, newSuggestedSize)) {\n            return;\n        }\n        this._suggestedBitmapSize = newSuggestedSize;\n        this._emitSuggestedBitmapSizeChanged(oldSuggestedSize, newSuggestedSize);\n    };\n    DevicePixelContentBoxBinding.prototype._emitSuggestedBitmapSizeChanged = function (oldSize, newSize) {\n        var _this = this;\n        this._suggestedBitmapSizeChangedListeners.forEach(function (listener) { return listener.call(_this, oldSize, newSize); });\n    };\n    DevicePixelContentBoxBinding.prototype._chooseAndInitObserver = function () {\n        var _this = this;\n        if (!this._allowResizeObserver) {\n            this._initDevicePixelRatioObservable();\n            return;\n        }\n        isDevicePixelContentBoxSupported()\n            .then(function (isSupported) {\n            return isSupported ?\n                _this._initResizeObserver() :\n                _this._initDevicePixelRatioObservable();\n        });\n    };\n    // devicePixelRatio approach\n    DevicePixelContentBoxBinding.prototype._initDevicePixelRatioObservable = function () {\n        var _this = this;\n        if (this._canvasElement === null) {\n            // it looks like we are already dead\n            return;\n        }\n        var win = canvasElementWindow(this._canvasElement);\n        if (win === null) {\n            throw new Error('No window is associated with the canvas');\n        }\n        this._devicePixelRatioObservable = createDevicePixelRatioObservable(win);\n        this._devicePixelRatioObservable.subscribe(function () { return _this._invalidateBitmapSize(); });\n        this._invalidateBitmapSize();\n    };\n    DevicePixelContentBoxBinding.prototype._invalidateBitmapSize = function () {\n        var _a, _b;\n        if (this._canvasElement === null) {\n            // it looks like we are already dead\n            return;\n        }\n        var win = canvasElementWindow(this._canvasElement);\n        if (win === null) {\n            return;\n        }\n        var ratio = (_b = (_a = this._devicePixelRatioObservable) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : win.devicePixelRatio;\n        var canvasRects = this._canvasElement.getClientRects();\n        var newSize = \n        // eslint-disable-next-line no-negated-condition\n        canvasRects[0] !== undefined ?\n            predictedBitmapSize(canvasRects[0], ratio) :\n            size({\n                width: this._canvasElementClientSize.width * ratio,\n                height: this._canvasElementClientSize.height * ratio,\n            });\n        this._suggestNewBitmapSize(newSize);\n    };\n    // ResizeObserver approach\n    DevicePixelContentBoxBinding.prototype._initResizeObserver = function () {\n        var _this = this;\n        if (this._canvasElement === null) {\n            // it looks like we are already dead\n            return;\n        }\n        this._canvasElementResizeObserver = new ResizeObserver(function (entries) {\n            var entry = entries.find(function (entry) { return entry.target === _this._canvasElement; });\n            if (!entry || !entry.devicePixelContentBoxSize || !entry.devicePixelContentBoxSize[0]) {\n                return;\n            }\n            var entrySize = entry.devicePixelContentBoxSize[0];\n            var newSize = size({\n                width: entrySize.inlineSize,\n                height: entrySize.blockSize,\n            });\n            _this._suggestNewBitmapSize(newSize);\n        });\n        this._canvasElementResizeObserver.observe(this._canvasElement, { box: 'device-pixel-content-box' });\n    };\n    return DevicePixelContentBoxBinding;\n}());\nexport function bindTo(canvasElement, target) {\n    if (target.type === 'device-pixel-content-box') {\n        return new DevicePixelContentBoxBinding(canvasElement, target.transform, target.options);\n    }\n    throw new Error('Unsupported binding target');\n}\nfunction canvasElementWindow(canvasElement) {\n    // According to DOM Level 2 Core specification, ownerDocument should never be null for HTMLCanvasElement\n    // see https://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#node-ownerDoc\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    return canvasElement.ownerDocument.defaultView;\n}\nfunction isDevicePixelContentBoxSupported() {\n    return new Promise(function (resolve) {\n        var ro = new ResizeObserver(function (entries) {\n            resolve(entries.every(function (entry) { return 'devicePixelContentBoxSize' in entry; }));\n            ro.disconnect();\n        });\n        ro.observe(document.body, { box: 'device-pixel-content-box' });\n    })\n        .catch(function () { return false; });\n}\nfunction predictedBitmapSize(canvasRect, ratio) {\n    return size({\n        width: Math.round(canvasRect.left * ratio + canvasRect.width * ratio) -\n            Math.round(canvasRect.left * ratio),\n        height: Math.round(canvasRect.top * ratio + canvasRect.height * ratio) -\n            Math.round(canvasRect.top * ratio),\n    });\n}\n", "/**\n * @experimental\n */\nvar CanvasRenderingTarget2D = /** @class */ (function () {\n    function CanvasRenderingTarget2D(context, mediaSize, bitmapSize) {\n        if (mediaSize.width === 0 || mediaSize.height === 0) {\n            throw new TypeError('Rendering target could only be created on a media with positive width and height');\n        }\n        this._mediaSize = mediaSize;\n        // !Number.isInteger(bitmapSize.width) || !Number.isInteger(bitmapSize.height)\n        if (bitmapSize.width === 0 || bitmapSize.height === 0) {\n            throw new TypeError('Rendering target could only be created using a bitmap with positive integer width and height');\n        }\n        this._bitmapSize = bitmapSize;\n        this._context = context;\n    }\n    CanvasRenderingTarget2D.prototype.useMediaCoordinateSpace = function (f) {\n        try {\n            this._context.save();\n            // do not use resetTransform to support old versions of Edge\n            this._context.setTransform(1, 0, 0, 1, 0, 0);\n            this._context.scale(this._horizontalPixelRatio, this._verticalPixelRatio);\n            return f({\n                context: this._context,\n                mediaSize: this._mediaSize,\n            });\n        }\n        finally {\n            this._context.restore();\n        }\n    };\n    CanvasRenderingTarget2D.prototype.useBitmapCoordinateSpace = function (f) {\n        try {\n            this._context.save();\n            // do not use resetTransform to support old versions of Edge\n            this._context.setTransform(1, 0, 0, 1, 0, 0);\n            return f({\n                context: this._context,\n                mediaSize: this._mediaSize,\n                bitmapSize: this._bitmapSize,\n                horizontalPixelRatio: this._horizontalPixelRatio,\n                verticalPixelRatio: this._verticalPixelRatio,\n            });\n        }\n        finally {\n            this._context.restore();\n        }\n    };\n    Object.defineProperty(CanvasRenderingTarget2D.prototype, \"_horizontalPixelRatio\", {\n        get: function () {\n            return this._bitmapSize.width / this._mediaSize.width;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CanvasRenderingTarget2D.prototype, \"_verticalPixelRatio\", {\n        get: function () {\n            return this._bitmapSize.height / this._mediaSize.height;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return CanvasRenderingTarget2D;\n}());\nexport { CanvasRenderingTarget2D };\n/**\n * @experimental\n */\nexport function createCanvasRenderingTarget2D(binding, contextOptions) {\n    var mediaSize = binding.canvasElementClientSize;\n    var bitmapSize = binding.bitmapSize;\n    var context = binding.canvasElement.getContext('2d', contextOptions);\n    if (context === null) {\n        throw new Error('Could not get 2d drawing context from bound canvas element. Has the canvas already been set to a different context mode?');\n    }\n    return new CanvasRenderingTarget2D(context, mediaSize, bitmapSize);\n}\n/**\n * @experimental\n */\nexport function tryCreateCanvasRenderingTarget2D(binding, contextOptions) {\n    var mediaSize = binding.canvasElementClientSize;\n    if (mediaSize.width === 0 || mediaSize.height === 0) {\n        return null;\n    }\n    var bitmapSize = binding.bitmapSize;\n    if (bitmapSize.width === 0 || bitmapSize.height === 0) {\n        return null;\n    }\n    var context = binding.canvasElement.getContext('2d', contextOptions);\n    if (context === null) {\n        return null;\n    }\n    return new CanvasRenderingTarget2D(context, mediaSize, bitmapSize);\n}\n", "/*!\n * @license\n * TradingView Lightweight Charts\u2122 v4.2.1\n * Copyright (c) 2024 TradingView, Inc.\n * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0\n */\nimport{size as t,bindCanvasElementBitmapSizeTo as i,equalSizes as n,tryCreateCanvasRenderingTarget2D as s}from\"fancy-canvas\";const e={upColor:\"#26a69a\",downColor:\"#ef5350\",wickVisible:!0,borderVisible:!0,borderColor:\"#378658\",borderUpColor:\"#26a69a\",borderDownColor:\"#ef5350\",wickColor:\"#737375\",wickUpColor:\"#26a69a\",wickDownColor:\"#ef5350\"},r={upColor:\"#26a69a\",downColor:\"#ef5350\",openVisible:!0,thinBars:!0},h={color:\"#2196f3\",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:\"\",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:\"\",lastPriceAnimation:0,pointMarkersVisible:!1},l={topColor:\"rgba( 46, 220, 135, 0.4)\",bottomColor:\"rgba( 40, 221, 100, 0)\",invertFilledArea:!1,lineColor:\"#33D778\",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:\"\",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:\"\",lastPriceAnimation:0,pointMarkersVisible:!1},a={baseValue:{type:\"price\",price:0},topFillColor1:\"rgba(38, 166, 154, 0.28)\",topFillColor2:\"rgba(38, 166, 154, 0.05)\",topLineColor:\"rgba(38, 166, 154, 1)\",bottomFillColor1:\"rgba(239, 83, 80, 0.05)\",bottomFillColor2:\"rgba(239, 83, 80, 0.28)\",bottomLineColor:\"rgba(239, 83, 80, 1)\",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:\"\",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:\"\",lastPriceAnimation:0,pointMarkersVisible:!1},o={color:\"#26a69a\",base:0},_={color:\"#2196f3\"},u={title:\"\",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:\"\",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:\"#B2B5BE\",baseLineStyle:0,priceFormat:{type:\"price\",precision:2,minMove:.01}};var c,d;function f(t,i){const n={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[i];t.setLineDash(n)}function v(t,i,n,s){t.beginPath();const e=t.lineWidth%2?.5:0;t.moveTo(n,i+e),t.lineTo(s,i+e),t.stroke()}function p(t,i){if(!t)throw new Error(\"Assertion failed\"+(i?\": \"+i:\"\"))}function m(t){if(void 0===t)throw new Error(\"Value is undefined\");return t}function b(t){if(null===t)throw new Error(\"Value is null\");return t}function w(t){return b(m(t))}!function(t){t[t.Simple=0]=\"Simple\",t[t.WithSteps=1]=\"WithSteps\",t[t.Curved=2]=\"Curved\"}(c||(c={})),function(t){t[t.Solid=0]=\"Solid\",t[t.Dotted=1]=\"Dotted\",t[t.Dashed=2]=\"Dashed\",t[t.LargeDashed=3]=\"LargeDashed\",t[t.SparseDotted=4]=\"SparseDotted\"}(d||(d={}));const g={khaki:\"#f0e68c\",azure:\"#f0ffff\",aliceblue:\"#f0f8ff\",ghostwhite:\"#f8f8ff\",gold:\"#ffd700\",goldenrod:\"#daa520\",gainsboro:\"#dcdcdc\",gray:\"#808080\",green:\"#008000\",honeydew:\"#f0fff0\",floralwhite:\"#fffaf0\",lightblue:\"#add8e6\",lightcoral:\"#f08080\",lemonchiffon:\"#fffacd\",hotpink:\"#ff69b4\",lightyellow:\"#ffffe0\",greenyellow:\"#adff2f\",lightgoldenrodyellow:\"#fafad2\",limegreen:\"#32cd32\",linen:\"#faf0e6\",lightcyan:\"#e0ffff\",magenta:\"#f0f\",maroon:\"#800000\",olive:\"#808000\",orange:\"#ffa500\",oldlace:\"#fdf5e6\",mediumblue:\"#0000cd\",transparent:\"#0000\",lime:\"#0f0\",lightpink:\"#ffb6c1\",mistyrose:\"#ffe4e1\",moccasin:\"#ffe4b5\",midnightblue:\"#191970\",orchid:\"#da70d6\",mediumorchid:\"#ba55d3\",mediumturquoise:\"#48d1cc\",orangered:\"#ff4500\",royalblue:\"#4169e1\",powderblue:\"#b0e0e6\",red:\"#f00\",coral:\"#ff7f50\",turquoise:\"#40e0d0\",white:\"#fff\",whitesmoke:\"#f5f5f5\",wheat:\"#f5deb3\",teal:\"#008080\",steelblue:\"#4682b4\",bisque:\"#ffe4c4\",aquamarine:\"#7fffd4\",aqua:\"#0ff\",sienna:\"#a0522d\",silver:\"#c0c0c0\",springgreen:\"#00ff7f\",antiquewhite:\"#faebd7\",burlywood:\"#deb887\",brown:\"#a52a2a\",beige:\"#f5f5dc\",chocolate:\"#d2691e\",chartreuse:\"#7fff00\",cornflowerblue:\"#6495ed\",cornsilk:\"#fff8dc\",crimson:\"#dc143c\",cadetblue:\"#5f9ea0\",tomato:\"#ff6347\",fuchsia:\"#f0f\",blue:\"#00f\",salmon:\"#fa8072\",blanchedalmond:\"#ffebcd\",slateblue:\"#6a5acd\",slategray:\"#708090\",thistle:\"#d8bfd8\",tan:\"#d2b48c\",cyan:\"#0ff\",darkblue:\"#00008b\",darkcyan:\"#008b8b\",darkgoldenrod:\"#b8860b\",darkgray:\"#a9a9a9\",blueviolet:\"#8a2be2\",black:\"#000\",darkmagenta:\"#8b008b\",darkslateblue:\"#483d8b\",darkkhaki:\"#bdb76b\",darkorchid:\"#9932cc\",darkorange:\"#ff8c00\",darkgreen:\"#006400\",darkred:\"#8b0000\",dodgerblue:\"#1e90ff\",darkslategray:\"#2f4f4f\",dimgray:\"#696969\",deepskyblue:\"#00bfff\",firebrick:\"#b22222\",forestgreen:\"#228b22\",indigo:\"#4b0082\",ivory:\"#fffff0\",lavenderblush:\"#fff0f5\",feldspar:\"#d19275\",indianred:\"#cd5c5c\",lightgreen:\"#90ee90\",lightgrey:\"#d3d3d3\",lightskyblue:\"#87cefa\",lightslategray:\"#789\",lightslateblue:\"#8470ff\",snow:\"#fffafa\",lightseagreen:\"#20b2aa\",lightsalmon:\"#ffa07a\",darksalmon:\"#e9967a\",darkviolet:\"#9400d3\",mediumpurple:\"#9370d8\",mediumaquamarine:\"#66cdaa\",skyblue:\"#87ceeb\",lavender:\"#e6e6fa\",lightsteelblue:\"#b0c4de\",mediumvioletred:\"#c71585\",mintcream:\"#f5fffa\",navajowhite:\"#ffdead\",navy:\"#000080\",olivedrab:\"#6b8e23\",palevioletred:\"#d87093\",violetred:\"#d02090\",yellow:\"#ff0\",yellowgreen:\"#9acd32\",lawngreen:\"#7cfc00\",pink:\"#ffc0cb\",paleturquoise:\"#afeeee\",palegoldenrod:\"#eee8aa\",darkolivegreen:\"#556b2f\",darkseagreen:\"#8fbc8f\",darkturquoise:\"#00ced1\",peachpuff:\"#ffdab9\",deeppink:\"#ff1493\",violet:\"#ee82ee\",palegreen:\"#98fb98\",mediumseagreen:\"#3cb371\",peru:\"#cd853f\",saddlebrown:\"#8b4513\",sandybrown:\"#f4a460\",rosybrown:\"#bc8f8f\",purple:\"#800080\",seagreen:\"#2e8b57\",seashell:\"#fff5ee\",papayawhip:\"#ffefd5\",mediumslateblue:\"#7b68ee\",plum:\"#dda0dd\",mediumspringgreen:\"#00fa9a\"};function M(t){return t<0?0:t>255?255:Math.round(t)||0}function x(t){return t<=0||t>1?Math.min(Math.max(t,0),1):Math.round(1e4*t)/1e4}const S=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,k=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,y=/^rgb\\(\\s*(-?\\d{1,10})\\s*,\\s*(-?\\d{1,10})\\s*,\\s*(-?\\d{1,10})\\s*\\)$/,C=/^rgba\\(\\s*(-?\\d{1,10})\\s*,\\s*(-?\\d{1,10})\\s*,\\s*(-?\\d{1,10})\\s*,\\s*(-?\\d*\\.?\\d+)\\s*\\)$/;function T(t){(t=t.toLowerCase())in g&&(t=g[t]);{const i=C.exec(t)||y.exec(t);if(i)return[M(parseInt(i[1],10)),M(parseInt(i[2],10)),M(parseInt(i[3],10)),x(i.length<5?1:parseFloat(i[4]))]}{const i=k.exec(t);if(i)return[M(parseInt(i[1],16)),M(parseInt(i[2],16)),M(parseInt(i[3],16)),1]}{const i=S.exec(t);if(i)return[M(17*parseInt(i[1],16)),M(17*parseInt(i[2],16)),M(17*parseInt(i[3],16)),1]}throw new Error(`Cannot parse color: ${t}`)}function P(t){return.199*t[0]+.687*t[1]+.114*t[2]}function R(t){const i=T(t);return{t:`rgb(${i[0]}, ${i[1]}, ${i[2]})`,i:P(i)>160?\"black\":\"white\"}}class D{constructor(){this.h=[]}l(t,i,n){const s={o:t,_:i,u:!0===n};this.h.push(s)}v(t){const i=this.h.findIndex((i=>t===i.o));i>-1&&this.h.splice(i,1)}p(t){this.h=this.h.filter((i=>i._!==t))}m(t,i,n){const s=[...this.h];this.h=this.h.filter((t=>!t.u)),s.forEach((s=>s.o(t,i,n)))}M(){return this.h.length>0}S(){this.h=[]}}function V(t,...i){for(const n of i)for(const i in n)void 0!==n[i]&&(\"object\"!=typeof n[i]||void 0===t[i]||Array.isArray(n[i])?t[i]=n[i]:V(t[i],n[i]));return t}function O(t){return\"number\"==typeof t&&isFinite(t)}function B(t){return\"number\"==typeof t&&t%1==0}function A(t){return\"string\"==typeof t}function I(t){return\"boolean\"==typeof t}function z(t){const i=t;if(!i||\"object\"!=typeof i)return i;let n,s,e;for(s in n=Array.isArray(i)?[]:{},i)i.hasOwnProperty(s)&&(e=i[s],n[s]=e&&\"object\"==typeof e?z(e):e);return n}function L(t){return null!==t}function E(t){return null===t?void 0:t}const N=\"-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif\";function F(t,i,n){return void 0===i&&(i=N),`${n=void 0!==n?`${n} `:\"\"}${t}px ${i}`}class W{constructor(t){this.k={C:1,T:5,P:NaN,R:\"\",D:\"\",V:\"\",O:\"\",B:0,A:0,I:0,L:0,N:0},this.F=t}W(){const t=this.k,i=this.j(),n=this.H();return t.P===i&&t.D===n||(t.P=i,t.D=n,t.R=F(i,n),t.L=2.5/12*i,t.B=t.L,t.A=i/12*t.T,t.I=i/12*t.T,t.N=0),t.V=this.$(),t.O=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class j{constructor(){this.Y=[]}Z(t){this.Y=t}X(t,i,n){this.Y.forEach((s=>{s.X(t,i,n)}))}}class H{X(t,i,n){t.useBitmapCoordinateSpace((t=>this.K(t,i,n)))}}class $ extends H{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K({context:t,horizontalPixelRatio:i,verticalPixelRatio:n}){if(null===this.G||null===this.G.tt)return;const s=this.G.tt,e=this.G,r=Math.max(1,Math.floor(i))%2/2,h=h=>{t.beginPath();for(let l=s.to-1;l>=s.from;--l){const s=e.it[l],a=Math.round(s.nt*i)+r,o=s.st*n,_=h*n+r;t.moveTo(a,o),t.arc(a,o,_,0,2*Math.PI)}t.fill()};e.et>0&&(t.fillStyle=e.rt,h(e.ht+e.et)),t.fillStyle=e.lt,h(e.ht)}}function U(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:\"\",rt:\"\",ht:0,et:0,tt:null}}const q={from:0,to:1};class Y{constructor(t,i){this.ut=new j,this.ct=[],this.dt=[],this.ft=!0,this.F=t,this.vt=i,this.ut.Z(this.ct)}bt(t){const i=this.F.wt();i.length!==this.ct.length&&(this.dt=i.map(U),this.ct=this.dt.map((t=>{const i=new $;return i.J(t),i})),this.ut.Z(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const t=2===this.vt.W().mode,i=this.F.wt(),n=this.vt.xt(),s=this.F.St();i.forEach(((i,e)=>{var r;const h=this.dt[e],l=i.kt(n);if(t||null===l||!i.yt())return void(h.tt=null);const a=b(i.Ct());h.lt=l.Tt,h.ht=l.ht,h.et=l.Pt,h.it[0]._t=l._t,h.it[0].st=i.Dt().Rt(l._t,a.Vt),h.rt=null!==(r=l.Ot)&&void 0!==r?r:this.F.Bt(h.it[0].st/i.Dt().At()),h.it[0].ot=n,h.it[0].nt=s.It(n),h.tt=q}))}}class Z extends H{constructor(t){super(),this.zt=t}K({context:t,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:s}){if(null===this.zt)return;const e=this.zt.Lt.yt,r=this.zt.Et.yt;if(!e&&!r)return;const h=Math.round(this.zt.nt*n),l=Math.round(this.zt.st*s);t.lineCap=\"butt\",e&&h>=0&&(t.lineWidth=Math.floor(this.zt.Lt.et*n),t.strokeStyle=this.zt.Lt.V,t.fillStyle=this.zt.Lt.V,f(t,this.zt.Lt.Nt),function(t,i,n,s){t.beginPath();const e=t.lineWidth%2?.5:0;t.moveTo(i+e,n),t.lineTo(i+e,s),t.stroke()}(t,h,0,i.height)),r&&l>=0&&(t.lineWidth=Math.floor(this.zt.Et.et*s),t.strokeStyle=this.zt.Et.V,t.fillStyle=this.zt.Et.V,f(t,this.zt.Et.Nt),v(t,l,0,i.width))}}class X{constructor(t){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,V:\"\",yt:!1},Et:{et:1,Nt:0,V:\"\",yt:!1},nt:0,st:0},this.Wt=new Z(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const t=this.jt.yt(),i=b(this.jt.Ht()),n=i.$t().W().crosshair,s=this.Ft;if(2===n.mode)return s.Et.yt=!1,void(s.Lt.yt=!1);s.Et.yt=t&&this.jt.Ut(i),s.Lt.yt=t&&this.jt.qt(),s.Et.et=n.horzLine.width,s.Et.Nt=n.horzLine.style,s.Et.V=n.horzLine.color,s.Lt.et=n.vertLine.width,s.Lt.Nt=n.vertLine.style,s.Lt.V=n.vertLine.color,s.nt=this.jt.Yt(),s.st=this.jt.Zt()}}function K(t,i,n,s,e,r){t.fillRect(i+r,n,s-2*r,r),t.fillRect(i+r,n+e-r,s-2*r,r),t.fillRect(i,n,r,e),t.fillRect(i+s-r,n,r,e)}function G(t,i,n,s,e,r){t.save(),t.globalCompositeOperation=\"copy\",t.fillStyle=r,t.fillRect(i,n,s,e),t.restore()}function J(t,i,n,s,e,r){t.beginPath(),t.roundRect?t.roundRect(i,n,s,e,r):(t.lineTo(i+s-r[1],n),0!==r[1]&&t.arcTo(i+s,n,i+s,n+r[1],r[1]),t.lineTo(i+s,n+e-r[2]),0!==r[2]&&t.arcTo(i+s,n+e,i+s-r[2],n+e,r[2]),t.lineTo(i+r[3],n+e),0!==r[3]&&t.arcTo(i,n+e,i,n+e-r[3],r[3]),t.lineTo(i,n+r[0]),0!==r[0]&&t.arcTo(i,n,i+r[0],n,r[0]))}function Q(t,i,n,s,e,r,h=0,l=[0,0,0,0],a=\"\"){if(t.save(),!h||!a||a===r)return J(t,i,n,s,e,l),t.fillStyle=r,t.fill(),void t.restore();const o=h/2;var _;J(t,i+o,n+o,s-h,e-h,(_=-o,l.map((t=>0===t?t:t+_)))),\"transparent\"!==r&&(t.fillStyle=r,t.fill()),\"transparent\"!==a&&(t.lineWidth=h,t.strokeStyle=a,t.closePath(),t.stroke()),t.restore()}function tt(t,i,n,s,e,r,h){t.save(),t.globalCompositeOperation=\"copy\";const l=t.createLinearGradient(0,0,0,e);l.addColorStop(0,r),l.addColorStop(1,h),t.fillStyle=l,t.fillRect(i,n,s,e),t.restore()}class it{constructor(t,i){this.J(t,i)}J(t,i){this.zt=t,this.Xt=i}At(t,i){return this.zt.yt?t.P+t.L+t.B:0}X(t,i,n,s){if(!this.zt.yt||0===this.zt.Kt.length)return;const e=this.zt.V,r=this.Xt.t,h=t.useBitmapCoordinateSpace((t=>{const h=t.context;h.font=i.R;const l=this.Gt(t,i,n,s),a=l.Jt;return l.Qt?Q(h,a.ti,a.ii,a.ni,a.si,r,a.ei,[a.ht,0,0,a.ht],r):Q(h,a.ri,a.ii,a.ni,a.si,r,a.ei,[0,a.ht,a.ht,0],r),this.zt.hi&&(h.fillStyle=e,h.fillRect(a.ri,a.li,a.ai-a.ri,a.oi)),this.zt._i&&(h.fillStyle=i.O,h.fillRect(l.Qt?a.ui-a.ei:0,a.ii,a.ei,a.ci-a.ii)),l}));t.useMediaCoordinateSpace((({context:t})=>{const n=h.di;t.font=i.R,t.textAlign=h.Qt?\"right\":\"left\",t.textBaseline=\"middle\",t.fillStyle=e,t.fillText(this.zt.Kt,n.fi,(n.ii+n.ci)/2+n.pi)}))}Gt(t,i,n,s){var e;const{context:r,bitmapSize:h,mediaSize:l,horizontalPixelRatio:a,verticalPixelRatio:o}=t,_=this.zt.hi||!this.zt.mi?i.T:0,u=this.zt.bi?i.C:0,c=i.L+this.Xt.wi,d=i.B+this.Xt.gi,f=i.A,v=i.I,p=this.zt.Kt,m=i.P,b=n.Mi(r,p),w=Math.ceil(n.xi(r,p)),g=m+c+d,M=i.C+f+v+w+_,x=Math.max(1,Math.floor(o));let S=Math.round(g*o);S%2!=x%2&&(S+=1);const k=u>0?Math.max(1,Math.floor(u*a)):0,y=Math.round(M*a),C=Math.round(_*a),T=null!==(e=this.Xt.Si)&&void 0!==e?e:this.Xt.ki,P=Math.round(T*o)-Math.floor(.5*o),R=Math.floor(P+x/2-S/2),D=R+S,V=\"right\"===s,O=V?l.width-u:u,B=V?h.width-k:k;let A,I,z;return V?(A=B-y,I=B-C,z=O-_-f-u):(A=B+y,I=B+C,z=O+_+f),{Qt:V,Jt:{ii:R,li:P,ci:D,ni:y,si:S,ht:2*a,ei:k,ti:A,ri:B,ai:I,oi:x,ui:h.width},di:{ii:R/o,ci:D/o,fi:z,pi:b}}}}class nt{constructor(t){this.yi={ki:0,t:\"#000\",gi:0,wi:0},this.Ci={Kt:\"\",yt:!1,hi:!0,mi:!1,Ot:\"\",V:\"#FFF\",_i:!1,bi:!1},this.Ti={Kt:\"\",yt:!1,hi:!1,mi:!0,Ot:\"\",V:\"#FFF\",_i:!0,bi:!0},this.ft=!0,this.Pi=new(t||it)(this.Ci,this.yi),this.Ri=new(t||it)(this.Ti,this.yi)}Kt(){return this.Di(),this.Ci.Kt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}At(t,i=!1){return Math.max(this.Pi.At(t,i),this.Ri.At(t,i))}Vi(){return this.yi.Si||0}Oi(t){this.yi.Si=t}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Ai(){return this.Di(),this.Ci.yt}gt(t){return this.Di(),this.Ci.hi=this.Ci.hi&&t.W().ticksVisible,this.Ti.hi=this.Ti.hi&&t.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}}class st extends nt{constructor(t,i,n){super(),this.jt=t,this.Li=i,this.Ei=n}zi(t,i,n){if(t.yt=!1,2===this.jt.W().mode)return;const s=this.jt.W().horzLine;if(!s.labelVisible)return;const e=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||null===e)return;const r=R(s.labelBackgroundColor);n.t=r.t,t.V=r.i;const h=2/12*this.Li.P();n.wi=h,n.gi=h;const l=this.Ei(this.Li);n.ki=l.ki,t.Kt=this.Li.Fi(l._t,e),t.yt=!0}}const et=/[1-9]/g;class rt{constructor(){this.zt=null}J(t){this.zt=t}X(t,i){if(null===this.zt||!1===this.zt.yt||0===this.zt.Kt.length)return;const n=t.useMediaCoordinateSpace((({context:t})=>(t.font=i.R,Math.round(i.Wi.xi(t,b(this.zt).Kt,et)))));if(n<=0)return;const s=i.ji,e=n+2*s,r=e/2,h=this.zt.Hi;let l=this.zt.ki,a=Math.floor(l-r)+.5;a<0?(l+=Math.abs(0-a),a=Math.floor(l-r)+.5):a+e>h&&(l-=Math.abs(h-(a+e)),a=Math.floor(l-r)+.5);const o=a+e,_=Math.ceil(0+i.C+i.T+i.L+i.P+i.B);t.useBitmapCoordinateSpace((({context:t,horizontalPixelRatio:n,verticalPixelRatio:s})=>{const e=b(this.zt);t.fillStyle=e.t;const r=Math.round(a*n),h=Math.round(0*s),l=Math.round(o*n),u=Math.round(_*s),c=Math.round(2*n);if(t.beginPath(),t.moveTo(r,h),t.lineTo(r,u-c),t.arcTo(r,u,r+c,u,c),t.lineTo(l-c,u),t.arcTo(l,u,l,u-c,c),t.lineTo(l,h),t.fill(),e.hi){const r=Math.round(e.ki*n),l=h,a=Math.round((l+i.T)*s);t.fillStyle=e.V;const o=Math.max(1,Math.floor(n)),_=Math.floor(.5*n);t.fillRect(r-_,l,o,a-l)}})),t.useMediaCoordinateSpace((({context:t})=>{const n=b(this.zt),e=0+i.C+i.T+i.L+i.P/2;t.font=i.R,t.textAlign=\"left\",t.textBaseline=\"middle\",t.fillStyle=n.V;const r=i.Wi.Mi(t,\"Apr0\");t.translate(a+s,e+r),t.fillText(n.Kt,0,0)}))}}class ht{constructor(t,i,n){this.ft=!0,this.Wt=new rt,this.Ft={yt:!1,t:\"#4c525e\",V:\"white\",Kt:\"\",Hi:0,ki:NaN,hi:!0},this.vt=t,this.$i=i,this.Ei=n}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const t=this.Ft;if(t.yt=!1,2===this.vt.W().mode)return;const i=this.vt.W().vertLine;if(!i.labelVisible)return;const n=this.$i.St();if(n.Ni())return;t.Hi=n.Hi();const s=this.Ei();if(null===s)return;t.ki=s.ki;const e=n.Ui(this.vt.xt());t.Kt=n.qi(b(e)),t.yt=!0;const r=R(i.labelBackgroundColor);t.t=r.t,t.V=r.i,t.hi=n.W().ticksVisible}}class lt{constructor(){this.Yi=null,this.Zi=0}Xi(){return this.Zi}Ki(t){this.Zi=t}Dt(){return this.Yi}Gi(t){this.Yi=t}Ji(t){return[]}Qi(){return[]}yt(){return!0}}var at;!function(t){t[t.Normal=0]=\"Normal\",t[t.Magnet=1]=\"Magnet\",t[t.Hidden=2]=\"Hidden\"}(at||(at={}));class ot extends lt{constructor(t,i){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=t,this.cn=i,this.dn=new Y(t,this);this.fn=((t,i)=>n=>{const s=i(),e=t();if(n===b(this.tn).vn())return{_t:e,ki:s};{const t=b(n.Ct());return{_t:n.pn(s,t),ki:s}}})((()=>this.nn),(()=>this.an));const n=((t,i)=>()=>{const n=this.$i.St().mn(t()),s=i();return n&&Number.isFinite(s)?{ot:n,ki:s}:null})((()=>this.sn),(()=>this.Yt()));this.bn=new ht(this,t,n),this.wn=new X(this)}W(){return this.cn}gn(t,i){this._n=t,this.un=i}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(t,i,n){this.hn||(this.hn=!0),this.en=!0,this.yn(t,i,n)}xt(){return this.sn}Yt(){return this.ln}Zt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(t){return null!==this.tn?[this.wn,this.dn]:[]}Ut(t){return t===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(t,i){this.en&&this.tn===t||this.rn.clear();const n=[];return this.tn===t&&n.push(this.Dn(this.rn,i,this.fn)),n}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}Vn(){this.wn.bt(),this.rn.forEach((t=>t.bt())),this.bn.bt(),this.dn.bt()}On(t){return t&&!t.vn().Ni()?t.vn():null}yn(t,i,n){this.Bn(t,i,n)&&this.Vn()}Bn(t,i,n){const s=this.ln,e=this.an,r=this.nn,h=this.sn,l=this.tn,a=this.On(n);this.sn=t,this.ln=isNaN(t)?NaN:this.$i.St().It(t),this.tn=n;const o=null!==a?a.Ct():null;return null!==a&&null!==o?(this.nn=i,this.an=a.Rt(i,o)):(this.nn=NaN,this.an=NaN),s!==this.ln||e!==this.an||h!==this.sn||r!==this.nn||l!==this.tn}Tn(){const t=this.$i.wt().map((t=>t.In().An())).filter(L),i=0===t.length?null:Math.max(...t);this.sn=null!==i?i:NaN}Dn(t,i,n){let s=t.get(i);return void 0===s&&(s=new st(this,i,n),t.set(i,s)),s}}function _t(t){return\"left\"===t||\"right\"===t}class ut{constructor(t){this.zn=new Map,this.Ln=[],this.En=t}Nn(t,i){const n=function(t,i){return void 0===t?i:{Fn:Math.max(t.Fn,i.Fn),Wn:t.Wn||i.Wn}}(this.zn.get(t),i);this.zn.set(t,n)}jn(){return this.En}Hn(t){const i=this.zn.get(t);return void 0===i?{Fn:this.En}:{Fn:Math.max(this.En,i.Fn),Wn:i.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(t){this.Un(),this.Ln=[{qn:1,Vt:t}]}Zn(t){this.Xn(),this.Ln.push({qn:5,Vt:t})}Un(){this.Xn(),this.Ln.push({qn:6})}Kn(){this.Un(),this.Ln=[{qn:4}]}Gn(t){this.Un(),this.Ln.push({qn:2,Vt:t})}Jn(t){this.Un(),this.Ln.push({qn:3,Vt:t})}Qn(){return this.Ln}ts(t){for(const i of t.Ln)this.ns(i);this.En=Math.max(this.En,t.En),t.zn.forEach(((t,i)=>{this.Nn(i,t)}))}static ss(){return new ut(2)}static es(){return new ut(3)}ns(t){switch(t.qn){case 0:this.$n();break;case 1:this.Yn(t.Vt);break;case 2:this.Gn(t.Vt);break;case 3:this.Jn(t.Vt);break;case 4:this.Kn();break;case 5:this.Zn(t.Vt);break;case 6:this.Xn()}}Xn(){const t=this.Ln.findIndex((t=>5===t.qn));-1!==t&&this.Ln.splice(t,1)}}const ct=\".\";function dt(t,i){if(!O(t))return\"n/a\";if(!B(i))throw new TypeError(\"invalid length\");if(i<0||i>16)throw new TypeError(\"invalid length\");if(0===i)return t.toString();return(\"0000000000000000\"+t.toString()).slice(-i)}class ft{constructor(t,i){if(i||(i=1),O(t)&&B(t)||(t=100),t<0)throw new TypeError(\"invalid base\");this.Li=t,this.rs=i,this.hs()}format(t){const i=t<0?\"\u2212\":\"\";return t=Math.abs(t),i+this.ls(t)}hs(){if(this.os=0,this.Li>0&&this.rs>0){let t=this.Li;for(;t>1;)t/=10,this.os++}}ls(t){const i=this.Li/this.rs;let n=Math.floor(t),s=\"\";const e=void 0!==this.os?this.os:NaN;if(i>1){let r=+(Math.round(t*i)-n*i).toFixed(this.os);r>=i&&(r-=i,n+=1),s=ct+dt(+r.toFixed(this.os)*this.rs,e)}else n=Math.round(n*i)/i,e>0&&(s=ct+dt(0,e));return n.toFixed(0)+s}}class vt extends ft{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class pt{constructor(t){this._s=t}format(t){let i=\"\";return t<0&&(i=\"-\",t=-t),t<995?i+this.us(t):t<999995?i+this.us(t/1e3)+\"K\":t<999999995?(t=1e3*Math.round(t/1e3),i+this.us(t/1e6)+\"M\"):(t=1e6*Math.round(t/1e6),i+this.us(t/1e9)+\"B\")}us(t){let i;const n=Math.pow(10,this._s);return i=(t=Math.round(t*n)/n)>=1e-15&&t<1?t.toFixed(this._s).replace(/\\.?0+$/,\"\"):String(t),i.replace(/(\\.[1-9]*)0+$/,((t,i)=>i))}}function mt(t,i,n,s,e,r,h){if(0===i.length||s.from>=i.length||s.to<=0)return;const{context:l,horizontalPixelRatio:a,verticalPixelRatio:o}=t,_=i[s.from];let u=r(t,_),c=_;if(s.to-s.from<2){const i=e/2;l.beginPath();const n={nt:_.nt-i,st:_.st},s={nt:_.nt+i,st:_.st};l.moveTo(n.nt*a,n.st*o),l.lineTo(s.nt*a,s.st*o),h(t,u,n,s)}else{const e=(i,n)=>{h(t,u,c,n),l.beginPath(),u=i,c=n};let d=c;l.beginPath(),l.moveTo(_.nt*a,_.st*o);for(let h=s.from+1;h<s.to;++h){d=i[h];const s=r(t,d);switch(n){case 0:l.lineTo(d.nt*a,d.st*o);break;case 1:l.lineTo(d.nt*a,i[h-1].st*o),s!==u&&(e(s,d),l.lineTo(d.nt*a,i[h-1].st*o)),l.lineTo(d.nt*a,d.st*o);break;case 2:{const[t,n]=Mt(i,h-1,h);l.bezierCurveTo(t.nt*a,t.st*o,n.nt*a,n.st*o,d.nt*a,d.st*o);break}}1!==n&&s!==u&&(e(s,d),l.moveTo(d.nt*a,d.st*o))}(c!==d||c===d&&1===n)&&h(t,u,c,d)}}const bt=6;function wt(t,i){return{nt:t.nt-i.nt,st:t.st-i.st}}function gt(t,i){return{nt:t.nt/i,st:t.st/i}}function Mt(t,i,n){const s=Math.max(0,i-1),e=Math.min(t.length-1,n+1);var r,h;return[(r=t[i],h=gt(wt(t[n],t[s]),bt),{nt:r.nt+h.nt,st:r.st+h.st}),wt(t[n],gt(wt(t[e],t[i]),bt))]}function xt(t,i,n,s,e){const{context:r,horizontalPixelRatio:h,verticalPixelRatio:l}=i;r.lineTo(e.nt*h,t*l),r.lineTo(s.nt*h,t*l),r.closePath(),r.fillStyle=n,r.fill()}class St extends H{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K(t){var i;if(null===this.G)return;const{it:n,tt:s,cs:e,et:r,Nt:h,ds:l}=this.G,a=null!==(i=this.G.fs)&&void 0!==i?i:this.G.vs?0:t.mediaSize.height;if(null===s)return;const o=t.context;o.lineCap=\"butt\",o.lineJoin=\"round\",o.lineWidth=r,f(o,h),o.lineWidth=1,mt(t,n,l,s,e,this.ps.bind(this),xt.bind(null,a))}}function kt(t,i,n){return Math.min(Math.max(t,i),n)}function yt(t,i,n){return i-t<=n}function Ct(t){const i=Math.ceil(t);return i%2==0?i-1:i}class Tt{bs(t,i){const n=this.ws,{gs:s,Ms:e,xs:r,Ss:h,ks:l,fs:a}=i;if(void 0===this.ys||void 0===n||n.gs!==s||n.Ms!==e||n.xs!==r||n.Ss!==h||n.fs!==a||n.ks!==l){const n=t.context.createLinearGradient(0,0,0,l);if(n.addColorStop(0,s),null!=a){const i=kt(a*t.verticalPixelRatio/l,0,1);n.addColorStop(i,e),n.addColorStop(i,r)}n.addColorStop(1,h),this.ys=n,this.ws=i}return this.ys}}class Pt extends St{constructor(){super(...arguments),this.Cs=new Tt}ps(t,i){return this.Cs.bs(t,{gs:i.Ts,Ms:\"\",xs:\"\",Ss:i.Ps,ks:t.bitmapSize.height})}}function Rt(t,i){const n=t.context;n.strokeStyle=i,n.stroke()}class Dt extends H{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K(t){if(null===this.G)return;const{it:i,tt:n,cs:s,ds:e,et:r,Nt:h,Rs:l}=this.G;if(null===n)return;const a=t.context;a.lineCap=\"butt\",a.lineWidth=r*t.verticalPixelRatio,f(a,h),a.lineJoin=\"round\";const o=this.Ds.bind(this);void 0!==e&&mt(t,i,e,n,s,o,Rt),l&&function(t,i,n,s,e){const{horizontalPixelRatio:r,verticalPixelRatio:h,context:l}=t;let a=null;const o=Math.max(1,Math.floor(r))%2/2,_=n*h+o;for(let n=s.to-1;n>=s.from;--n){const s=i[n];if(s){const i=e(t,s);i!==a&&(l.beginPath(),null!==a&&l.fill(),l.fillStyle=i,a=i);const n=Math.round(s.nt*r)+o,u=s.st*h;l.moveTo(n,u),l.arc(n,u,_,0,2*Math.PI)}}l.fill()}(t,i,l,n,o)}}class Vt extends Dt{Ds(t,i){return i.lt}}function Ot(t,i,n,s,e=0,r=i.length){let h=r-e;for(;0<h;){const r=h>>1,l=e+r;s(i[l],n)===t?(e=l+1,h-=r+1):h=r}return e}const Bt=Ot.bind(null,!0),At=Ot.bind(null,!1);function It(t,i){return t.ot<i}function zt(t,i){return i<t.ot}function Lt(t,i,n){const s=i.Vs(),e=i.ui(),r=Bt(t,s,It),h=At(t,e,zt);if(!n)return{from:r,to:h};let l=r,a=h;return r>0&&r<t.length&&t[r].ot>=s&&(l=r-1),h>0&&h<t.length&&t[h-1].ot<=e&&(a=h+1),{from:l,to:a}}class Et{constructor(t,i,n){this.Os=!0,this.Bs=!0,this.As=!0,this.Is=[],this.zs=null,this.Ls=t,this.Es=i,this.Ns=n}bt(t){this.Os=!0,\"data\"===t&&(this.Bs=!0),\"options\"===t&&(this.As=!0)}gt(){return this.Ls.yt()?(this.Fs(),null===this.zs?null:this.Ws):null}js(){this.Is=this.Is.map((t=>Object.assign(Object.assign({},t),this.Ls.$s().Hs(t.ot))))}Us(){this.zs=null}Fs(){this.Bs&&(this.qs(),this.Bs=!1),this.As&&(this.js(),this.As=!1),this.Os&&(this.Ys(),this.Os=!1)}Ys(){const t=this.Ls.Dt(),i=this.Es.St();if(this.Us(),i.Ni()||t.Ni())return;const n=i.Zs();if(null===n)return;if(0===this.Ls.In().Xs())return;const s=this.Ls.Ct();null!==s&&(this.zs=Lt(this.Is,n,this.Ns),this.Ks(t,i,s.Vt),this.Gs())}}class Nt extends Et{constructor(t,i){super(t,i,!0)}Ks(t,i,n){i.Js(this.Is,E(this.zs)),t.Qs(this.Is,n,E(this.zs))}te(t,i){return{ot:t,_t:i,nt:NaN,st:NaN}}qs(){const t=this.Ls.$s();this.Is=this.Ls.In().ie().map((i=>{const n=i.Vt[3];return this.ne(i.se,n,t)}))}}class Ft extends Nt{constructor(t,i){super(t,i),this.Ws=new j,this.ee=new Pt,this.re=new Vt,this.Ws.Z([this.ee,this.re])}ne(t,i,n){return Object.assign(Object.assign({},this.te(t,i)),n.Hs(t))}Gs(){const t=this.Ls.W();this.ee.J({ds:t.lineType,it:this.Is,Nt:t.lineStyle,et:t.lineWidth,fs:null,vs:t.invertFilledArea,tt:this.zs,cs:this.Es.St().he()}),this.re.J({ds:t.lineVisible?t.lineType:void 0,it:this.Is,Nt:t.lineStyle,et:t.lineWidth,tt:this.zs,cs:this.Es.St().he(),Rs:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}class Wt extends H{constructor(){super(...arguments),this.zt=null,this.le=0,this.ae=0}J(t){this.zt=t}K({context:t,horizontalPixelRatio:i,verticalPixelRatio:n}){if(null===this.zt||0===this.zt.In.length||null===this.zt.tt)return;if(this.le=this.oe(i),this.le>=2){Math.max(1,Math.floor(i))%2!=this.le%2&&this.le--}this.ae=this.zt._e?Math.min(this.le,Math.floor(i)):this.le;let s=null;const e=this.ae<=this.le&&this.zt.he>=Math.floor(1.5*i);for(let r=this.zt.tt.from;r<this.zt.tt.to;++r){const h=this.zt.In[r];s!==h.ue&&(t.fillStyle=h.ue,s=h.ue);const l=Math.floor(.5*this.ae),a=Math.round(h.nt*i),o=a-l,_=this.ae,u=o+_-1,c=Math.min(h.ce,h.de),d=Math.max(h.ce,h.de),f=Math.round(c*n)-l,v=Math.round(d*n)+l,p=Math.max(v-f,this.ae);t.fillRect(o,f,_,p);const m=Math.ceil(1.5*this.le);if(e){if(this.zt.fe){const i=a-m;let s=Math.max(f,Math.round(h.ve*n)-l),e=s+_-1;e>f+p-1&&(e=f+p-1,s=e-_+1),t.fillRect(i,s,o-i,e-s+1)}const i=a+m;let s=Math.max(f,Math.round(h.pe*n)-l),e=s+_-1;e>f+p-1&&(e=f+p-1,s=e-_+1),t.fillRect(u+1,s,i-u,e-s+1)}}}oe(t){const i=Math.floor(t);return Math.max(i,Math.floor(function(t,i){return Math.floor(.3*t*i)}(b(this.zt).he,t)))}}class jt extends Et{constructor(t,i){super(t,i,!1)}Ks(t,i,n){i.Js(this.Is,E(this.zs)),t.me(this.Is,n,E(this.zs))}be(t,i,n){return{ot:t,we:i.Vt[0],ge:i.Vt[1],Me:i.Vt[2],xe:i.Vt[3],nt:NaN,ve:NaN,ce:NaN,de:NaN,pe:NaN}}qs(){const t=this.Ls.$s();this.Is=this.Ls.In().ie().map((i=>this.ne(i.se,i,t)))}}class Ht extends jt{constructor(){super(...arguments),this.Ws=new Wt}ne(t,i,n){return Object.assign(Object.assign({},this.be(t,i,n)),n.Hs(t))}Gs(){const t=this.Ls.W();this.Ws.J({In:this.Is,he:this.Es.St().he(),fe:t.openVisible,_e:t.thinBars,tt:this.zs})}}class $t extends St{constructor(){super(...arguments),this.Cs=new Tt}ps(t,i){const n=this.G;return this.Cs.bs(t,{gs:i.Se,Ms:i.ke,xs:i.ye,Ss:i.Ce,ks:t.bitmapSize.height,fs:n.fs})}}class Ut extends Dt{constructor(){super(...arguments),this.Te=new Tt}Ds(t,i){const n=this.G;return this.Te.bs(t,{gs:i.Pe,Ms:i.Pe,xs:i.Re,Ss:i.Re,ks:t.bitmapSize.height,fs:n.fs})}}class qt extends Nt{constructor(t,i){super(t,i),this.Ws=new j,this.De=new $t,this.Ve=new Ut,this.Ws.Z([this.De,this.Ve])}ne(t,i,n){return Object.assign(Object.assign({},this.te(t,i)),n.Hs(t))}Gs(){const t=this.Ls.Ct();if(null===t)return;const i=this.Ls.W(),n=this.Ls.Dt().Rt(i.baseValue.price,t.Vt),s=this.Es.St().he();this.De.J({it:this.Is,et:i.lineWidth,Nt:i.lineStyle,ds:i.lineType,fs:n,vs:!1,tt:this.zs,cs:s}),this.Ve.J({it:this.Is,et:i.lineWidth,Nt:i.lineStyle,ds:i.lineVisible?i.lineType:void 0,Rs:i.pointMarkersVisible?i.pointMarkersRadius||i.lineWidth/2+2:void 0,fs:n,tt:this.zs,cs:s})}}class Yt extends H{constructor(){super(...arguments),this.zt=null,this.le=0}J(t){this.zt=t}K(t){if(null===this.zt||0===this.zt.In.length||null===this.zt.tt)return;const{horizontalPixelRatio:i}=t;if(this.le=function(t,i){if(t>=2.5&&t<=4)return Math.floor(3*i);const n=1-.2*Math.atan(Math.max(4,t)-4)/(.5*Math.PI),s=Math.floor(t*n*i),e=Math.floor(t*i),r=Math.min(s,e);return Math.max(Math.floor(i),r)}(this.zt.he,i),this.le>=2){Math.floor(i)%2!=this.le%2&&this.le--}const n=this.zt.In;this.zt.Oe&&this.Be(t,n,this.zt.tt),this.zt._i&&this.Ae(t,n,this.zt.tt);const s=this.Ie(i);(!this.zt._i||this.le>2*s)&&this.ze(t,n,this.zt.tt)}Be(t,i,n){if(null===this.zt)return;const{context:s,horizontalPixelRatio:e,verticalPixelRatio:r}=t;let h=\"\",l=Math.min(Math.floor(e),Math.floor(this.zt.he*e));l=Math.max(Math.floor(e),Math.min(l,this.le));const a=Math.floor(.5*l);let o=null;for(let t=n.from;t<n.to;t++){const n=i[t];n.Le!==h&&(s.fillStyle=n.Le,h=n.Le);const _=Math.round(Math.min(n.ve,n.pe)*r),u=Math.round(Math.max(n.ve,n.pe)*r),c=Math.round(n.ce*r),d=Math.round(n.de*r);let f=Math.round(e*n.nt)-a;const v=f+l-1;null!==o&&(f=Math.max(o+1,f),f=Math.min(f,v));const p=v-f+1;s.fillRect(f,c,p,_-c),s.fillRect(f,u+1,p,d-u),o=v}}Ie(t){let i=Math.floor(1*t);this.le<=2*i&&(i=Math.floor(.5*(this.le-1)));const n=Math.max(Math.floor(t),i);return this.le<=2*n?Math.max(Math.floor(t),Math.floor(1*t)):n}Ae(t,i,n){if(null===this.zt)return;const{context:s,horizontalPixelRatio:e,verticalPixelRatio:r}=t;let h=\"\";const l=this.Ie(e);let a=null;for(let t=n.from;t<n.to;t++){const n=i[t];n.Ee!==h&&(s.fillStyle=n.Ee,h=n.Ee);let o=Math.round(n.nt*e)-Math.floor(.5*this.le);const _=o+this.le-1,u=Math.round(Math.min(n.ve,n.pe)*r),c=Math.round(Math.max(n.ve,n.pe)*r);if(null!==a&&(o=Math.max(a+1,o),o=Math.min(o,_)),this.zt.he*e>2*l)K(s,o,u,_-o+1,c-u+1,l);else{const t=_-o+1;s.fillRect(o,u,t,c-u+1)}a=_}}ze(t,i,n){if(null===this.zt)return;const{context:s,horizontalPixelRatio:e,verticalPixelRatio:r}=t;let h=\"\";const l=this.Ie(e);for(let t=n.from;t<n.to;t++){const n=i[t];let a=Math.round(Math.min(n.ve,n.pe)*r),o=Math.round(Math.max(n.ve,n.pe)*r),_=Math.round(n.nt*e)-Math.floor(.5*this.le),u=_+this.le-1;if(n.ue!==h){const t=n.ue;s.fillStyle=t,h=t}this.zt._i&&(_+=l,a+=l,u-=l,o-=l),a>o||s.fillRect(_,a,u-_+1,o-a+1)}}}class Zt extends jt{constructor(){super(...arguments),this.Ws=new Yt}ne(t,i,n){return Object.assign(Object.assign({},this.be(t,i,n)),n.Hs(t))}Gs(){const t=this.Ls.W();this.Ws.J({In:this.Is,he:this.Es.St().he(),Oe:t.wickVisible,_i:t.borderVisible,tt:this.zs})}}class Xt{constructor(t,i){this.Ne=t,this.Li=i}X(t,i,n){this.Ne.draw(t,this.Li,i,n)}}class Kt extends Et{constructor(t,i,n){super(t,i,!1),this.wn=n,this.Ws=new Xt(this.wn.renderer(),(i=>{const n=t.Ct();return null===n?null:t.Dt().Rt(i,n.Vt)}))}Fe(t){return this.wn.priceValueBuilder(t)}We(t){return this.wn.isWhitespace(t)}qs(){const t=this.Ls.$s();this.Is=this.Ls.In().ie().map((i=>Object.assign(Object.assign({ot:i.se,nt:NaN},t.Hs(i.se)),{je:i.He})))}Ks(t,i){i.Js(this.Is,E(this.zs))}Gs(){this.wn.update({bars:this.Is.map(Gt),barSpacing:this.Es.St().he(),visibleRange:this.zs},this.Ls.W())}}function Gt(t){return{x:t.nt,time:t.ot,originalData:t.je,barColor:t.ue}}class Jt extends H{constructor(){super(...arguments),this.zt=null,this.$e=[]}J(t){this.zt=t,this.$e=[]}K({context:t,horizontalPixelRatio:i,verticalPixelRatio:n}){if(null===this.zt||0===this.zt.it.length||null===this.zt.tt)return;this.$e.length||this.Ue(i);const s=Math.max(1,Math.floor(n)),e=Math.round(this.zt.qe*n)-Math.floor(s/2),r=e+s;for(let i=this.zt.tt.from;i<this.zt.tt.to;i++){const h=this.zt.it[i],l=this.$e[i-this.zt.tt.from],a=Math.round(h.st*n);let o,_;t.fillStyle=h.ue,a<=e?(o=a,_=r):(o=e,_=a-Math.floor(s/2)+s),t.fillRect(l.Vs,o,l.ui-l.Vs+1,_-o)}}Ue(t){if(null===this.zt||0===this.zt.it.length||null===this.zt.tt)return void(this.$e=[]);const i=Math.ceil(this.zt.he*t)<=1?0:Math.max(1,Math.floor(t)),n=Math.round(this.zt.he*t)-i;this.$e=new Array(this.zt.tt.to-this.zt.tt.from);for(let i=this.zt.tt.from;i<this.zt.tt.to;i++){const s=this.zt.it[i],e=Math.round(s.nt*t);let r,h;if(n%2){const t=(n-1)/2;r=e-t,h=e+t}else{const t=n/2;r=e-t,h=e+t-1}this.$e[i-this.zt.tt.from]={Vs:r,ui:h,Ye:e,Ze:s.nt*t,ot:s.ot}}for(let t=this.zt.tt.from+1;t<this.zt.tt.to;t++){const n=this.$e[t-this.zt.tt.from],s=this.$e[t-this.zt.tt.from-1];n.ot===s.ot+1&&(n.Vs-s.ui!==i+1&&(s.Ye>s.Ze?s.ui=n.Vs-i-1:n.Vs=s.ui+i+1))}let s=Math.ceil(this.zt.he*t);for(let t=this.zt.tt.from;t<this.zt.tt.to;t++){const i=this.$e[t-this.zt.tt.from];i.ui<i.Vs&&(i.ui=i.Vs);const n=i.ui-i.Vs+1;s=Math.min(n,s)}if(i>0&&s<4)for(let t=this.zt.tt.from;t<this.zt.tt.to;t++){const i=this.$e[t-this.zt.tt.from];i.ui-i.Vs+1>s&&(i.Ye>i.Ze?i.ui-=1:i.Vs+=1)}}}class Qt extends Nt{constructor(){super(...arguments),this.Ws=new Jt}ne(t,i,n){return Object.assign(Object.assign({},this.te(t,i)),n.Hs(t))}Gs(){const t={it:this.Is,he:this.Es.St().he(),tt:this.zs,qe:this.Ls.Dt().Rt(this.Ls.W().base,b(this.Ls.Ct()).Vt)};this.Ws.J(t)}}class ti extends Nt{constructor(){super(...arguments),this.Ws=new Vt}ne(t,i,n){return Object.assign(Object.assign({},this.te(t,i)),n.Hs(t))}Gs(){const t=this.Ls.W(),i={it:this.Is,Nt:t.lineStyle,ds:t.lineVisible?t.lineType:void 0,et:t.lineWidth,Rs:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,tt:this.zs,cs:this.Es.St().he()};this.Ws.J(i)}}const ii=/[2-9]/g;class ni{constructor(t=50){this.Xe=0,this.Ke=1,this.Ge=1,this.Je={},this.Qe=new Map,this.tr=t}ir(){this.Xe=0,this.Qe.clear(),this.Ke=1,this.Ge=1,this.Je={}}xi(t,i,n){return this.nr(t,i,n).width}Mi(t,i,n){const s=this.nr(t,i,n);return((s.actualBoundingBoxAscent||0)-(s.actualBoundingBoxDescent||0))/2}nr(t,i,n){const s=n||ii,e=String(i).replace(s,\"0\");if(this.Qe.has(e))return m(this.Qe.get(e)).sr;if(this.Xe===this.tr){const t=this.Je[this.Ge];delete this.Je[this.Ge],this.Qe.delete(t),this.Ge++,this.Xe--}t.save(),t.textBaseline=\"middle\";const r=t.measureText(e);return t.restore(),0===r.width&&i.length||(this.Qe.set(e,{sr:r,er:this.Ke}),this.Je[this.Ke]=e,this.Xe++,this.Ke++),r}}class si{constructor(t){this.rr=null,this.k=null,this.hr=\"right\",this.lr=t}ar(t,i,n){this.rr=t,this.k=i,this.hr=n}X(t){null!==this.k&&null!==this.rr&&this.rr.X(t,this.k,this.lr,this.hr)}}class ei{constructor(t,i,n){this._r=t,this.lr=new ni(50),this.ur=i,this.F=n,this.j=-1,this.Wt=new si(this.lr)}gt(){const t=this.F.cr(this.ur);if(null===t)return null;const i=t.dr(this.ur)?t.vr():this.ur.Dt();if(null===i)return null;const n=t.pr(i);if(\"overlay\"===n)return null;const s=this.F.mr();return s.P!==this.j&&(this.j=s.P,this.lr.ir()),this.Wt.ar(this._r.Ii(),s,n),this.Wt}}class ri extends H{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}br(t,i){var n;if(!(null===(n=this.zt)||void 0===n?void 0:n.yt))return null;const{st:s,et:e,wr:r}=this.zt;return i>=s-e-7&&i<=s+e+7?{gr:this.zt,wr:r}:null}K({context:t,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:s}){if(null===this.zt)return;if(!1===this.zt.yt)return;const e=Math.round(this.zt.st*s);e<0||e>i.height||(t.lineCap=\"butt\",t.strokeStyle=this.zt.V,t.lineWidth=Math.floor(this.zt.et*n),f(t,this.zt.Nt),v(t,e,0,i.width))}}class hi{constructor(t){this.Mr={st:0,V:\"rgba(0, 0, 0, 0)\",et:1,Nt:0,yt:!1},this.Sr=new ri,this.ft=!0,this.Ls=t,this.Es=t.$t(),this.Sr.J(this.Mr)}bt(){this.ft=!0}gt(){return this.Ls.yt()?(this.ft&&(this.kr(),this.ft=!1),this.Sr):null}}class li extends hi{constructor(t){super(t)}kr(){this.Mr.yt=!1;const t=this.Ls.Dt(),i=t.yr().yr;if(2!==i&&3!==i)return;const n=this.Ls.W();if(!n.baseLineVisible||!this.Ls.yt())return;const s=this.Ls.Ct();null!==s&&(this.Mr.yt=!0,this.Mr.st=t.Rt(s.Vt,s.Vt),this.Mr.V=n.baseLineColor,this.Mr.et=n.baseLineWidth,this.Mr.Nt=n.baseLineStyle)}}class ai extends H{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}He(){return this.zt}K({context:t,horizontalPixelRatio:i,verticalPixelRatio:n}){const s=this.zt;if(null===s)return;const e=Math.max(1,Math.floor(i)),r=e%2/2,h=Math.round(s.Ze.x*i)+r,l=s.Ze.y*n;t.fillStyle=s.Cr,t.beginPath();const a=Math.max(2,1.5*s.Tr)*i;t.arc(h,l,a,0,2*Math.PI,!1),t.fill(),t.fillStyle=s.Pr,t.beginPath(),t.arc(h,l,s.ht*i,0,2*Math.PI,!1),t.fill(),t.lineWidth=e,t.strokeStyle=s.Rr,t.beginPath(),t.arc(h,l,s.ht*i+e/2,0,2*Math.PI,!1),t.stroke()}}const oi=[{Dr:0,Vr:.25,Or:4,Br:10,Ar:.25,Ir:0,zr:.4,Lr:.8},{Dr:.25,Vr:.525,Or:10,Br:14,Ar:0,Ir:0,zr:.8,Lr:0},{Dr:.525,Vr:1,Or:14,Br:14,Ar:0,Ir:0,zr:0,Lr:0}];function _i(t,i,n,s){return function(t,i){if(\"transparent\"===t)return t;const n=T(t),s=n[3];return`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${i*s})`}(t,n+(s-n)*i)}function ui(t,i){const n=t%2600/2600;let s;for(const t of oi)if(n>=t.Dr&&n<=t.Vr){s=t;break}p(void 0!==s,\"Last price animation internal logic error\");const e=(n-s.Dr)/(s.Vr-s.Dr);return{Pr:_i(i,e,s.Ar,s.Ir),Rr:_i(i,e,s.zr,s.Lr),ht:(r=e,h=s.Or,l=s.Br,h+(l-h)*r)};var r,h,l}class ci{constructor(t){this.Wt=new ai,this.ft=!0,this.Er=!0,this.Nr=performance.now(),this.Fr=this.Nr-1,this.Wr=t}jr(){this.Fr=this.Nr-1,this.bt()}Hr(){if(this.bt(),2===this.Wr.W().lastPriceAnimation){const t=performance.now(),i=this.Fr-t;if(i>0)return void(i<650&&(this.Fr+=2600));this.Nr=t,this.Fr=t+2600}}bt(){this.ft=!0}$r(){this.Er=!0}yt(){return 0!==this.Wr.W().lastPriceAnimation}Ur(){switch(this.Wr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Fr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Er=!1):this.Er&&(this.qr(),this.Er=!1),this.Wt}Mt(){this.Wt.J(null);const t=this.Wr.$t().St(),i=t.Zs(),n=this.Wr.Ct();if(null===i||null===n)return;const s=this.Wr.Yr(!0);if(s.Zr||!i.Xr(s.se))return;const e={x:t.It(s.se),y:this.Wr.Dt().Rt(s._t,n.Vt)},r=s.V,h=this.Wr.W().lineWidth,l=ui(this.Kr(),r);this.Wt.J({Cr:r,Tr:h,Pr:l.Pr,Rr:l.Rr,ht:l.ht,Ze:e})}qr(){const t=this.Wt.He();if(null!==t){const i=ui(this.Kr(),t.Cr);t.Pr=i.Pr,t.Rr=i.Rr,t.ht=i.ht}}Kr(){return this.Ur()?performance.now()-this.Nr:2599}}function di(t,i){return Ct(Math.min(Math.max(t,12),30)*i)}function fi(t,i){switch(t){case\"arrowDown\":case\"arrowUp\":return di(i,1);case\"circle\":return di(i,.8);case\"square\":return di(i,.7)}}function vi(t){return function(t){const i=Math.ceil(t);return i%2!=0?i-1:i}(di(t,1))}function pi(t){return Math.max(di(t,.1),3)}function mi(t,i,n){return i?t:n?Math.ceil(t/2):0}function bi(t,i,n,s,e){const r=fi(\"square\",n),h=(r-1)/2,l=t-h,a=i-h;return s>=l&&s<=l+r&&e>=a&&e<=a+r}function wi(t,i,n,s){const e=(fi(\"arrowUp\",s)-1)/2*n.Gr,r=(Ct(s/2)-1)/2*n.Gr;i.beginPath(),t?(i.moveTo(n.nt-e,n.st),i.lineTo(n.nt,n.st-e),i.lineTo(n.nt+e,n.st),i.lineTo(n.nt+r,n.st),i.lineTo(n.nt+r,n.st+e),i.lineTo(n.nt-r,n.st+e),i.lineTo(n.nt-r,n.st)):(i.moveTo(n.nt-e,n.st),i.lineTo(n.nt,n.st+e),i.lineTo(n.nt+e,n.st),i.lineTo(n.nt+r,n.st),i.lineTo(n.nt+r,n.st-e),i.lineTo(n.nt-r,n.st-e),i.lineTo(n.nt-r,n.st)),i.fill()}function gi(t,i,n,s,e,r){return bi(i,n,s,e,r)}class Mi extends H{constructor(){super(...arguments),this.zt=null,this.lr=new ni,this.j=-1,this.H=\"\",this.Jr=\"\"}J(t){this.zt=t}ar(t,i){this.j===t&&this.H===i||(this.j=t,this.H=i,this.Jr=F(t,i),this.lr.ir())}br(t,i){if(null===this.zt||null===this.zt.tt)return null;for(let n=this.zt.tt.from;n<this.zt.tt.to;n++){const s=this.zt.it[n];if(Si(s,t,i))return{gr:s.Qr,wr:s.wr}}return null}K({context:t,horizontalPixelRatio:i,verticalPixelRatio:n},s,e){if(null!==this.zt&&null!==this.zt.tt){t.textBaseline=\"middle\",t.font=this.Jr;for(let s=this.zt.tt.from;s<this.zt.tt.to;s++){const e=this.zt.it[s];void 0!==e.Kt&&(e.Kt.Hi=this.lr.xi(t,e.Kt.th),e.Kt.At=this.j,e.Kt.nt=e.nt-e.Kt.Hi/2),xi(e,t,i,n)}}}}function xi(t,i,n,s){i.fillStyle=t.V,void 0!==t.Kt&&function(t,i,n,s,e,r){t.save(),t.scale(e,r),t.fillText(i,n,s),t.restore()}(i,t.Kt.th,t.Kt.nt,t.Kt.st,n,s),function(t,i,n){if(0===t.Xs)return;switch(t.ih){case\"arrowDown\":return void wi(!1,i,n,t.Xs);case\"arrowUp\":return void wi(!0,i,n,t.Xs);case\"circle\":return void function(t,i,n){const s=(fi(\"circle\",n)-1)/2;t.beginPath(),t.arc(i.nt,i.st,s*i.Gr,0,2*Math.PI,!1),t.fill()}(i,n,t.Xs);case\"square\":return void function(t,i,n){const s=fi(\"square\",n),e=(s-1)*i.Gr/2,r=i.nt-e,h=i.st-e;t.fillRect(r,h,s*i.Gr,s*i.Gr)}(i,n,t.Xs)}t.ih}(t,i,function(t,i,n){const s=Math.max(1,Math.floor(i))%2/2;return{nt:Math.round(t.nt*i)+s,st:t.st*n,Gr:i}}(t,n,s))}function Si(t,i,n){return!(void 0===t.Kt||!function(t,i,n,s,e,r){const h=s/2;return e>=t&&e<=t+n&&r>=i-h&&r<=i+h}(t.Kt.nt,t.Kt.st,t.Kt.Hi,t.Kt.At,i,n))||function(t,i,n){if(0===t.Xs)return!1;switch(t.ih){case\"arrowDown\":case\"arrowUp\":return gi(0,t.nt,t.st,t.Xs,i,n);case\"circle\":return function(t,i,n,s,e){const r=2+fi(\"circle\",n)/2,h=t-s,l=i-e;return Math.sqrt(h*h+l*l)<=r}(t.nt,t.st,t.Xs,i,n);case\"square\":return bi(t.nt,t.st,t.Xs,i,n)}}(t,i,n)}function ki(t,i,n,s,e,r,h,l,a){const o=O(n)?n:n.xe,_=O(n)?n:n.ge,u=O(n)?n:n.Me,c=O(i.size)?Math.max(i.size,0):1,d=vi(l.he())*c,f=d/2;switch(t.Xs=d,i.position){case\"inBar\":return t.st=h.Rt(o,a),void(void 0!==t.Kt&&(t.Kt.st=t.st+f+r+.6*e));case\"aboveBar\":return t.st=h.Rt(_,a)-f-s.nh,void 0!==t.Kt&&(t.Kt.st=t.st-f-.6*e,s.nh+=1.2*e),void(s.nh+=d+r);case\"belowBar\":return t.st=h.Rt(u,a)+f+s.sh,void 0!==t.Kt&&(t.Kt.st=t.st+f+r+.6*e,s.sh+=1.2*e),void(s.sh+=d+r)}i.position}class yi{constructor(t,i){this.ft=!0,this.eh=!0,this.rh=!0,this.hh=null,this.ah=null,this.Wt=new Mi,this.Wr=t,this.$i=i,this.zt={it:[],tt:null}}bt(t){this.ft=!0,this.rh=!0,\"data\"===t&&(this.eh=!0,this.ah=null)}gt(t){if(!this.Wr.yt())return null;this.ft&&this.oh();const i=this.$i.W().layout;return this.Wt.ar(i.fontSize,i.fontFamily),this.Wt.J(this.zt),this.Wt}_h(){if(this.rh){if(this.Wr.uh().length>0){const t=this.$i.St().he(),i=pi(t),n=1.5*vi(t)+2*i,s=this.dh();this.hh={above:mi(n,s.aboveBar,s.inBar),below:mi(n,s.belowBar,s.inBar)}}else this.hh=null;this.rh=!1}return this.hh}dh(){return null===this.ah&&(this.ah=this.Wr.uh().reduce(((t,i)=>(t[i.position]||(t[i.position]=!0),t)),{inBar:!1,aboveBar:!1,belowBar:!1})),this.ah}oh(){const t=this.Wr.Dt(),i=this.$i.St(),n=this.Wr.uh();this.eh&&(this.zt.it=n.map((t=>({ot:t.time,nt:0,st:0,Xs:0,ih:t.shape,V:t.color,Qr:t.Qr,wr:t.id,Kt:void 0}))),this.eh=!1);const s=this.$i.W().layout;this.zt.tt=null;const e=i.Zs();if(null===e)return;const r=this.Wr.Ct();if(null===r)return;if(0===this.zt.it.length)return;let h=NaN;const l=pi(i.he()),a={nh:l,sh:l};this.zt.tt=Lt(this.zt.it,e,!0);for(let e=this.zt.tt.from;e<this.zt.tt.to;e++){const o=n[e];o.time!==h&&(a.nh=l,a.sh=l,h=o.time);const _=this.zt.it[e];_.nt=i.It(o.time),void 0!==o.text&&o.text.length>0&&(_.Kt={th:o.text,nt:0,st:0,Hi:0,At:0});const u=this.Wr.fh(o.time);null!==u&&ki(_,o,u,a,s.fontSize,l,t,i,r.Vt)}this.ft=!1}}class Ci extends hi{constructor(t){super(t)}kr(){const t=this.Mr;t.yt=!1;const i=this.Ls.W();if(!i.priceLineVisible||!this.Ls.yt())return;const n=this.Ls.Yr(0===i.priceLineSource);n.Zr||(t.yt=!0,t.st=n.ki,t.V=this.Ls.ph(n.V),t.et=i.priceLineWidth,t.Nt=i.priceLineStyle)}}class Ti extends nt{constructor(t){super(),this.jt=t}zi(t,i,n){t.yt=!1,i.yt=!1;const s=this.jt;if(!s.yt())return;const e=s.W(),r=e.lastValueVisible,h=\"\"!==s.mh(),l=0===e.seriesLastValueMode,a=s.Yr(!1);if(a.Zr)return;r&&(t.Kt=this.bh(a,r,l),t.yt=0!==t.Kt.length),(h||l)&&(i.Kt=this.wh(a,r,h,l),i.yt=i.Kt.length>0);const o=s.ph(a.V),_=R(o);n.t=_.t,n.ki=a.ki,i.Ot=s.$t().Bt(a.ki/s.Dt().At()),t.Ot=o,t.V=_.i,i.V=_.i}wh(t,i,n,s){let e=\"\";const r=this.jt.mh();return n&&0!==r.length&&(e+=`${r} `),i&&s&&(e+=this.jt.Dt().gh()?t.Mh:t.xh),e.trim()}bh(t,i,n){return i?n?this.jt.Dt().gh()?t.xh:t.Mh:t.Kt:\"\"}}function Pi(t,i,n,s){const e=Number.isFinite(i),r=Number.isFinite(n);return e&&r?t(i,n):e||r?e?i:n:s}class Ri{constructor(t,i){this.Sh=t,this.kh=i}yh(t){return null!==t&&(this.Sh===t.Sh&&this.kh===t.kh)}Ch(){return new Ri(this.Sh,this.kh)}Th(){return this.Sh}Ph(){return this.kh}Rh(){return this.kh-this.Sh}Ni(){return this.kh===this.Sh||Number.isNaN(this.kh)||Number.isNaN(this.Sh)}ts(t){return null===t?this:new Ri(Pi(Math.min,this.Th(),t.Th(),-1/0),Pi(Math.max,this.Ph(),t.Ph(),1/0))}Dh(t){if(!O(t))return;if(0===this.kh-this.Sh)return;const i=.5*(this.kh+this.Sh);let n=this.kh-i,s=this.Sh-i;n*=t,s*=t,this.kh=i+n,this.Sh=i+s}Vh(t){O(t)&&(this.kh+=t,this.Sh+=t)}Oh(){return{minValue:this.Sh,maxValue:this.kh}}static Bh(t){return null===t?null:new Ri(t.minValue,t.maxValue)}}class Di{constructor(t,i){this.Ah=t,this.Ih=i||null}zh(){return this.Ah}Lh(){return this.Ih}Oh(){return null===this.Ah?null:{priceRange:this.Ah.Oh(),margins:this.Ih||void 0}}static Bh(t){return null===t?null:new Di(Ri.Bh(t.priceRange),t.margins)}}class Vi extends hi{constructor(t,i){super(t),this.Eh=i}kr(){const t=this.Mr;t.yt=!1;const i=this.Eh.W();if(!this.Ls.yt()||!i.lineVisible)return;const n=this.Eh.Nh();null!==n&&(t.yt=!0,t.st=n,t.V=i.color,t.et=i.lineWidth,t.Nt=i.lineStyle,t.wr=this.Eh.W().id)}}class Oi extends nt{constructor(t,i){super(),this.Wr=t,this.Eh=i}zi(t,i,n){t.yt=!1,i.yt=!1;const s=this.Eh.W(),e=s.axisLabelVisible,r=\"\"!==s.title,h=this.Wr;if(!e||!h.yt())return;const l=this.Eh.Nh();if(null===l)return;r&&(i.Kt=s.title,i.yt=!0),i.Ot=h.$t().Bt(l/h.Dt().At()),t.Kt=this.Fh(s.price),t.yt=!0;const a=R(s.axisLabelColor||s.color);n.t=a.t;const o=s.axisLabelTextColor||a.i;t.V=o,i.V=o,n.ki=l}Fh(t){const i=this.Wr.Ct();return null===i?\"\":this.Wr.Dt().Fi(t,i.Vt)}}class Bi{constructor(t,i){this.Wr=t,this.cn=i,this.Wh=new Vi(t,this),this._r=new Oi(t,this),this.jh=new ei(this._r,t,t.$t())}Hh(t){V(this.cn,t),this.bt(),this.Wr.$t().$h()}W(){return this.cn}Uh(){return this.Wh}qh(){return this.jh}Yh(){return this._r}bt(){this.Wh.bt(),this._r.bt()}Nh(){const t=this.Wr,i=t.Dt();if(t.$t().St().Ni()||i.Ni())return null;const n=t.Ct();return null===n?null:i.Rt(this.cn.price,n.Vt)}}class Ai extends lt{constructor(t){super(),this.$i=t}$t(){return this.$i}}const Ii={Bar:(t,i,n,s)=>{var e;const r=i.upColor,h=i.downColor,l=b(t(n,s)),a=w(l.Vt[0])<=w(l.Vt[3]);return{ue:null!==(e=l.V)&&void 0!==e?e:a?r:h}},Candlestick:(t,i,n,s)=>{var e,r,h;const l=i.upColor,a=i.downColor,o=i.borderUpColor,_=i.borderDownColor,u=i.wickUpColor,c=i.wickDownColor,d=b(t(n,s)),f=w(d.Vt[0])<=w(d.Vt[3]);return{ue:null!==(e=d.V)&&void 0!==e?e:f?l:a,Ee:null!==(r=d.Ot)&&void 0!==r?r:f?o:_,Le:null!==(h=d.Zh)&&void 0!==h?h:f?u:c}},Custom:(t,i,n,s)=>{var e;return{ue:null!==(e=b(t(n,s)).V)&&void 0!==e?e:i.color}},Area:(t,i,n,s)=>{var e,r,h,l;const a=b(t(n,s));return{ue:null!==(e=a.lt)&&void 0!==e?e:i.lineColor,lt:null!==(r=a.lt)&&void 0!==r?r:i.lineColor,Ts:null!==(h=a.Ts)&&void 0!==h?h:i.topColor,Ps:null!==(l=a.Ps)&&void 0!==l?l:i.bottomColor}},Baseline:(t,i,n,s)=>{var e,r,h,l,a,o;const _=b(t(n,s));return{ue:_.Vt[3]>=i.baseValue.price?i.topLineColor:i.bottomLineColor,Pe:null!==(e=_.Pe)&&void 0!==e?e:i.topLineColor,Re:null!==(r=_.Re)&&void 0!==r?r:i.bottomLineColor,Se:null!==(h=_.Se)&&void 0!==h?h:i.topFillColor1,ke:null!==(l=_.ke)&&void 0!==l?l:i.topFillColor2,ye:null!==(a=_.ye)&&void 0!==a?a:i.bottomFillColor1,Ce:null!==(o=_.Ce)&&void 0!==o?o:i.bottomFillColor2}},Line:(t,i,n,s)=>{var e,r;const h=b(t(n,s));return{ue:null!==(e=h.V)&&void 0!==e?e:i.color,lt:null!==(r=h.V)&&void 0!==r?r:i.color}},Histogram:(t,i,n,s)=>{var e;return{ue:null!==(e=b(t(n,s)).V)&&void 0!==e?e:i.color}}};class zi{constructor(t){this.Xh=(t,i)=>void 0!==i?i.Vt:this.Wr.In().Kh(t),this.Wr=t,this.Gh=Ii[t.Jh()]}Hs(t,i){return this.Gh(this.Xh,this.Wr.W(),t,i)}}var Li;!function(t){t[t.NearestLeft=-1]=\"NearestLeft\",t[t.None=0]=\"None\",t[t.NearestRight=1]=\"NearestRight\"}(Li||(Li={}));const Ei=30;class Ni{constructor(){this.Qh=[],this.tl=new Map,this.il=new Map}nl(){return this.Xs()>0?this.Qh[this.Qh.length-1]:null}sl(){return this.Xs()>0?this.el(0):null}An(){return this.Xs()>0?this.el(this.Qh.length-1):null}Xs(){return this.Qh.length}Ni(){return 0===this.Xs()}Xr(t){return null!==this.rl(t,0)}Kh(t){return this.hl(t)}hl(t,i=0){const n=this.rl(t,i);return null===n?null:Object.assign(Object.assign({},this.ll(n)),{se:this.el(n)})}ie(){return this.Qh}al(t,i,n){if(this.Ni())return null;let s=null;for(const e of n){s=Fi(s,this.ol(t,i,e))}return s}J(t){this.il.clear(),this.tl.clear(),this.Qh=t}el(t){return this.Qh[t].se}ll(t){return this.Qh[t]}rl(t,i){const n=this._l(t);if(null===n&&0!==i)switch(i){case-1:return this.ul(t);case 1:return this.cl(t);default:throw new TypeError(\"Unknown search mode\")}return n}ul(t){let i=this.dl(t);return i>0&&(i-=1),i!==this.Qh.length&&this.el(i)<t?i:null}cl(t){const i=this.fl(t);return i!==this.Qh.length&&t<this.el(i)?i:null}_l(t){const i=this.dl(t);return i===this.Qh.length||t<this.Qh[i].se?null:i}dl(t){return Bt(this.Qh,t,((t,i)=>t.se<i))}fl(t){return At(this.Qh,t,((t,i)=>t.se>i))}vl(t,i,n){let s=null;for(let e=t;e<i;e++){const t=this.Qh[e].Vt[n];Number.isNaN(t)||(null===s?s={pl:t,ml:t}:(t<s.pl&&(s.pl=t),t>s.ml&&(s.ml=t)))}return s}ol(t,i,n){if(this.Ni())return null;let s=null;const e=b(this.sl()),r=b(this.An()),h=Math.max(t,e),l=Math.min(i,r),a=Math.ceil(h/Ei)*Ei,o=Math.max(a,Math.floor(l/Ei)*Ei);{const t=this.dl(h),e=this.fl(Math.min(l,a,i));s=Fi(s,this.vl(t,e,n))}let _=this.tl.get(n);void 0===_&&(_=new Map,this.tl.set(n,_));for(let t=Math.max(a+1,h);t<o;t+=Ei){const i=Math.floor(t/Ei);let e=_.get(i);if(void 0===e){const t=this.dl(i*Ei),s=this.fl((i+1)*Ei-1);e=this.vl(t,s,n),_.set(i,e)}s=Fi(s,e)}{const t=this.dl(o),i=this.fl(l);s=Fi(s,this.vl(t,i,n))}return s}}function Fi(t,i){if(null===t)return i;if(null===i)return t;return{pl:Math.min(t.pl,i.pl),ml:Math.max(t.ml,i.ml)}}class Wi{constructor(t){this.bl=t}X(t,i,n){this.bl.draw(t)}wl(t,i,n){var s,e;null===(e=(s=this.bl).drawBackground)||void 0===e||e.call(s,t)}}class ji{constructor(t){this.Qe=null,this.wn=t}gt(){var t;const i=this.wn.renderer();if(null===i)return null;if((null===(t=this.Qe)||void 0===t?void 0:t.gl)===i)return this.Qe.Ml;const n=new Wi(i);return this.Qe={gl:i,Ml:n},n}xl(){var t,i,n;return null!==(n=null===(i=(t=this.wn).zOrder)||void 0===i?void 0:i.call(t))&&void 0!==n?n:\"normal\"}}function Hi(t){var i,n,s,e,r;return{Kt:t.text(),ki:t.coordinate(),Si:null===(i=t.fixedCoordinate)||void 0===i?void 0:i.call(t),V:t.textColor(),t:t.backColor(),yt:null===(s=null===(n=t.visible)||void 0===n?void 0:n.call(t))||void 0===s||s,hi:null===(r=null===(e=t.tickVisible)||void 0===e?void 0:e.call(t))||void 0===r||r}}class $i{constructor(t,i){this.Wt=new rt,this.Sl=t,this.kl=i}gt(){return this.Wt.J(Object.assign({Hi:this.kl.Hi()},Hi(this.Sl))),this.Wt}}class Ui extends nt{constructor(t,i){super(),this.Sl=t,this.Li=i}zi(t,i,n){const s=Hi(this.Sl);n.t=s.t,t.V=s.V;const e=2/12*this.Li.P();n.wi=e,n.gi=e,n.ki=s.ki,n.Si=s.Si,t.Kt=s.Kt,t.yt=s.yt,t.hi=s.hi}}class qi{constructor(t,i){this.yl=null,this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=t,this.Wr=i}Vl(){return this.Dl}Vn(){var t,i;null===(i=(t=this.Dl).updateAllViews)||void 0===i||i.call(t)}Pn(){var t,i,n,s;const e=null!==(n=null===(i=(t=this.Dl).paneViews)||void 0===i?void 0:i.call(t))&&void 0!==n?n:[];if((null===(s=this.yl)||void 0===s?void 0:s.gl)===e)return this.yl.Ml;const r=e.map((t=>new ji(t)));return this.yl={gl:e,Ml:r},r}Qi(){var t,i,n,s;const e=null!==(n=null===(i=(t=this.Dl).timeAxisViews)||void 0===i?void 0:i.call(t))&&void 0!==n?n:[];if((null===(s=this.Cl)||void 0===s?void 0:s.gl)===e)return this.Cl.Ml;const r=this.Wr.$t().St(),h=e.map((t=>new $i(t,r)));return this.Cl={gl:e,Ml:h},h}Rn(){var t,i,n,s;const e=null!==(n=null===(i=(t=this.Dl).priceAxisViews)||void 0===i?void 0:i.call(t))&&void 0!==n?n:[];if((null===(s=this.Tl)||void 0===s?void 0:s.gl)===e)return this.Tl.Ml;const r=this.Wr.Dt(),h=e.map((t=>new Ui(t,r)));return this.Tl={gl:e,Ml:h},h}Ol(){var t,i,n,s;const e=null!==(n=null===(i=(t=this.Dl).priceAxisPaneViews)||void 0===i?void 0:i.call(t))&&void 0!==n?n:[];if((null===(s=this.Pl)||void 0===s?void 0:s.gl)===e)return this.Pl.Ml;const r=e.map((t=>new ji(t)));return this.Pl={gl:e,Ml:r},r}Bl(){var t,i,n,s;const e=null!==(n=null===(i=(t=this.Dl).timeAxisPaneViews)||void 0===i?void 0:i.call(t))&&void 0!==n?n:[];if((null===(s=this.Rl)||void 0===s?void 0:s.gl)===e)return this.Rl.Ml;const r=e.map((t=>new ji(t)));return this.Rl={gl:e,Ml:r},r}Al(t,i){var n,s,e;return null!==(e=null===(s=(n=this.Dl).autoscaleInfo)||void 0===s?void 0:s.call(n,t,i))&&void 0!==e?e:null}br(t,i){var n,s,e;return null!==(e=null===(s=(n=this.Dl).hitTest)||void 0===s?void 0:s.call(n,t,i))&&void 0!==e?e:null}}function Yi(t,i,n,s){t.forEach((t=>{i(t).forEach((t=>{t.xl()===n&&s.push(t)}))}))}function Zi(t){return t.Pn()}function Xi(t){return t.Ol()}function Ki(t){return t.Bl()}class Gi extends Ai{constructor(t,i,n,s,e){super(t),this.zt=new Ni,this.Wh=new Ci(this),this.Il=[],this.zl=new li(this),this.Ll=null,this.El=null,this.Nl=[],this.Fl=[],this.Wl=null,this.jl=[],this.cn=i,this.Hl=n;const r=new Ti(this);this.rn=[r],this.jh=new ei(r,this,t),\"Area\"!==n&&\"Line\"!==n&&\"Baseline\"!==n||(this.Ll=new ci(this)),this.$l(),this.Ul(e)}S(){null!==this.Wl&&clearTimeout(this.Wl)}ph(t){return this.cn.priceLineColor||t}Yr(t){const i={Zr:!0},n=this.Dt();if(this.$t().St().Ni()||n.Ni()||this.zt.Ni())return i;const s=this.$t().St().Zs(),e=this.Ct();if(null===s||null===e)return i;let r,h;if(t){const t=this.zt.nl();if(null===t)return i;r=t,h=t.se}else{const t=this.zt.hl(s.ui(),-1);if(null===t)return i;if(r=this.zt.Kh(t.se),null===r)return i;h=t.se}const l=r.Vt[3],a=this.$s().Hs(h,{Vt:r}),o=n.Rt(l,e.Vt);return{Zr:!1,_t:l,Kt:n.Fi(l,e.Vt),Mh:n.ql(l),xh:n.Yl(l,e.Vt),V:a.ue,ki:o,se:h}}$s(){return null!==this.El||(this.El=new zi(this)),this.El}W(){return this.cn}Hh(t){const i=t.priceScaleId;void 0!==i&&i!==this.cn.priceScaleId&&this.$t().Zl(this,i),V(this.cn,t),void 0!==t.priceFormat&&(this.$l(),this.$t().Xl()),this.$t().Kl(this),this.$t().Gl(),this.wn.bt(\"options\")}J(t,i){this.zt.J(t),this.Jl(),this.wn.bt(\"data\"),this.dn.bt(\"data\"),null!==this.Ll&&(i&&i.Ql?this.Ll.Hr():0===t.length&&this.Ll.jr());const n=this.$t().cr(this);this.$t().ta(n),this.$t().Kl(this),this.$t().Gl(),this.$t().$h()}ia(t){this.Nl=t,this.Jl();const i=this.$t().cr(this);this.dn.bt(\"data\"),this.$t().ta(i),this.$t().Kl(this),this.$t().Gl(),this.$t().$h()}na(){return this.Nl}uh(){return this.Fl}sa(t){const i=new Bi(this,t);return this.Il.push(i),this.$t().Kl(this),i}ea(t){const i=this.Il.indexOf(t);-1!==i&&this.Il.splice(i,1),this.$t().Kl(this)}Jh(){return this.Hl}Ct(){const t=this.ra();return null===t?null:{Vt:t.Vt[3],ha:t.ot}}ra(){const t=this.$t().St().Zs();if(null===t)return null;const i=t.Vs();return this.zt.hl(i,1)}In(){return this.zt}fh(t){const i=this.zt.Kh(t);return null===i?null:\"Bar\"===this.Hl||\"Candlestick\"===this.Hl||\"Custom\"===this.Hl?{we:i.Vt[0],ge:i.Vt[1],Me:i.Vt[2],xe:i.Vt[3]}:i.Vt[3]}la(t){const i=[];Yi(this.jl,Zi,\"top\",i);const n=this.Ll;return null!==n&&n.yt()?(null===this.Wl&&n.Ur()&&(this.Wl=setTimeout((()=>{this.Wl=null,this.$t().aa()}),0)),n.$r(),i.unshift(n),i):i}Pn(){const t=[];this.oa()||t.push(this.zl),t.push(this.wn,this.Wh,this.dn);const i=this.Il.map((t=>t.Uh()));return t.push(...i),Yi(this.jl,Zi,\"normal\",t),t}_a(){return this.ua(Zi,\"bottom\")}ca(t){return this.ua(Xi,t)}da(t){return this.ua(Ki,t)}fa(t,i){return this.jl.map((n=>n.br(t,i))).filter((t=>null!==t))}Ji(t){return[this.jh,...this.Il.map((t=>t.qh()))]}Rn(t,i){if(i!==this.Yi&&!this.oa())return[];const n=[...this.rn];for(const t of this.Il)n.push(t.Yh());return this.jl.forEach((t=>{n.push(...t.Rn())})),n}Qi(){const t=[];return this.jl.forEach((i=>{t.push(...i.Qi())})),t}Al(t,i){if(void 0!==this.cn.autoscaleInfoProvider){const n=this.cn.autoscaleInfoProvider((()=>{const n=this.va(t,i);return null===n?null:n.Oh()}));return Di.Bh(n)}return this.va(t,i)}pa(){return this.cn.priceFormat.minMove}ma(){return this.ba}Vn(){var t;this.wn.bt(),this.dn.bt();for(const t of this.rn)t.bt();for(const t of this.Il)t.bt();this.Wh.bt(),this.zl.bt(),null===(t=this.Ll)||void 0===t||t.bt(),this.jl.forEach((t=>t.Vn()))}Dt(){return b(super.Dt())}kt(t){if(!((\"Line\"===this.Hl||\"Area\"===this.Hl||\"Baseline\"===this.Hl)&&this.cn.crosshairMarkerVisible))return null;const i=this.zt.Kh(t);if(null===i)return null;return{_t:i.Vt[3],ht:this.wa(),Ot:this.ga(),Pt:this.Ma(),Tt:this.xa(t)}}mh(){return this.cn.title}yt(){return this.cn.visible}Sa(t){this.jl.push(new qi(t,this))}ka(t){this.jl=this.jl.filter((i=>i.Vl()!==t))}ya(){if(this.wn instanceof Kt!=!1)return t=>this.wn.Fe(t)}Ca(){if(this.wn instanceof Kt!=!1)return t=>this.wn.We(t)}oa(){return!_t(this.Dt().Ta())}va(t,i){if(!B(t)||!B(i)||this.zt.Ni())return null;const n=\"Line\"===this.Hl||\"Area\"===this.Hl||\"Baseline\"===this.Hl||\"Histogram\"===this.Hl?[3]:[2,1],s=this.zt.al(t,i,n);let e=null!==s?new Ri(s.pl,s.ml):null;if(\"Histogram\"===this.Jh()){const t=this.cn.base,i=new Ri(t,t);e=null!==e?e.ts(i):i}let r=this.dn._h();return this.jl.forEach((n=>{const s=n.Al(t,i);if(null==s?void 0:s.priceRange){const t=new Ri(s.priceRange.minValue,s.priceRange.maxValue);e=null!==e?e.ts(t):t}var h,l,a,o;(null==s?void 0:s.margins)&&(h=r,l=s.margins,r={above:Math.max(null!==(a=null==h?void 0:h.above)&&void 0!==a?a:0,l.above),below:Math.max(null!==(o=null==h?void 0:h.below)&&void 0!==o?o:0,l.below)})})),new Di(e,r)}wa(){switch(this.Hl){case\"Line\":case\"Area\":case\"Baseline\":return this.cn.crosshairMarkerRadius}return 0}ga(){switch(this.Hl){case\"Line\":case\"Area\":case\"Baseline\":{const t=this.cn.crosshairMarkerBorderColor;if(0!==t.length)return t}}return null}Ma(){switch(this.Hl){case\"Line\":case\"Area\":case\"Baseline\":return this.cn.crosshairMarkerBorderWidth}return 0}xa(t){switch(this.Hl){case\"Line\":case\"Area\":case\"Baseline\":{const t=this.cn.crosshairMarkerBackgroundColor;if(0!==t.length)return t}}return this.$s().Hs(t).ue}$l(){switch(this.cn.priceFormat.type){case\"custom\":this.ba={format:this.cn.priceFormat.formatter};break;case\"volume\":this.ba=new pt(this.cn.priceFormat.precision);break;case\"percent\":this.ba=new vt(this.cn.priceFormat.precision);break;default:{const t=Math.pow(10,this.cn.priceFormat.precision);this.ba=new ft(t,this.cn.priceFormat.minMove*t)}}null!==this.Yi&&this.Yi.Pa()}Jl(){const t=this.$t().St();if(!t.Ra()||this.zt.Ni())return void(this.Fl=[]);const i=b(this.zt.sl());this.Fl=this.Nl.map(((n,s)=>{const e=b(t.Da(n.time,!0)),r=e<i?1:-1;return{time:b(this.zt.hl(e,r)).se,position:n.position,shape:n.shape,color:n.color,id:n.id,Qr:s,text:n.text,size:n.size,originalTime:n.originalTime}}))}Ul(t){switch(this.dn=new yi(this,this.$t()),this.Hl){case\"Bar\":this.wn=new Ht(this,this.$t());break;case\"Candlestick\":this.wn=new Zt(this,this.$t());break;case\"Line\":this.wn=new ti(this,this.$t());break;case\"Custom\":this.wn=new Kt(this,this.$t(),m(t));break;case\"Area\":this.wn=new Ft(this,this.$t());break;case\"Baseline\":this.wn=new qt(this,this.$t());break;case\"Histogram\":this.wn=new Qt(this,this.$t());break;default:throw Error(\"Unknown chart style assigned: \"+this.Hl)}}ua(t,i){const n=[];return Yi(this.jl,t,i,n),n}}class Ji{constructor(t){this.cn=t}Va(t,i,n){let s=t;if(0===this.cn.mode)return s;const e=n.vn(),r=e.Ct();if(null===r)return s;const h=e.Rt(t,r),l=n.Oa().filter((t=>t instanceof Gi)).reduce(((t,s)=>{if(n.dr(s)||!s.yt())return t;const e=s.Dt(),r=s.In();if(e.Ni()||!r.Xr(i))return t;const h=r.Kh(i);if(null===h)return t;const l=w(s.Ct());return t.concat([e.Rt(h.Vt[3],l.Vt)])}),[]);if(0===l.length)return s;l.sort(((t,i)=>Math.abs(t-h)-Math.abs(i-h)));const a=l[0];return s=e.pn(a,r),s}}class Qi extends H{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}K({context:t,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:s}){if(null===this.zt)return;const e=Math.max(1,Math.floor(n));t.lineWidth=e,function(t,i){t.save(),t.lineWidth%2&&t.translate(.5,.5),i(),t.restore()}(t,(()=>{const r=b(this.zt);if(r.Ba){t.strokeStyle=r.Aa,f(t,r.Ia),t.beginPath();for(const s of r.za){const r=Math.round(s.La*n);t.moveTo(r,-e),t.lineTo(r,i.height+e)}t.stroke()}if(r.Ea){t.strokeStyle=r.Na,f(t,r.Fa),t.beginPath();for(const n of r.Wa){const r=Math.round(n.La*s);t.moveTo(-e,r),t.lineTo(i.width+e,r)}t.stroke()}}))}}class tn{constructor(t){this.Wt=new Qi,this.ft=!0,this.tn=t}bt(){this.ft=!0}gt(){if(this.ft){const t=this.tn.$t().W().grid,i={Ea:t.horzLines.visible,Ba:t.vertLines.visible,Na:t.horzLines.color,Aa:t.vertLines.color,Fa:t.horzLines.style,Ia:t.vertLines.style,Wa:this.tn.vn().ja(),za:(this.tn.$t().St().ja()||[]).map((t=>({La:t.coord})))};this.Wt.J(i),this.ft=!1}return this.Wt}}class nn{constructor(t){this.wn=new tn(t)}Uh(){return this.wn}}const sn={Ha:4,$a:1e-4};function en(t,i){const n=100*(t-i)/i;return i<0?-n:n}function rn(t,i){const n=en(t.Th(),i),s=en(t.Ph(),i);return new Ri(n,s)}function hn(t,i){const n=100*(t-i)/i+100;return i<0?-n:n}function ln(t,i){const n=hn(t.Th(),i),s=hn(t.Ph(),i);return new Ri(n,s)}function an(t,i){const n=Math.abs(t);if(n<1e-15)return 0;const s=Math.log10(n+i.$a)+i.Ha;return t<0?-s:s}function on(t,i){const n=Math.abs(t);if(n<1e-15)return 0;const s=Math.pow(10,n-i.Ha)-i.$a;return t<0?-s:s}function _n(t,i){if(null===t)return null;const n=an(t.Th(),i),s=an(t.Ph(),i);return new Ri(n,s)}function un(t,i){if(null===t)return null;const n=on(t.Th(),i),s=on(t.Ph(),i);return new Ri(n,s)}function cn(t){if(null===t)return sn;const i=Math.abs(t.Ph()-t.Th());if(i>=1||i<1e-15)return sn;const n=Math.ceil(Math.abs(Math.log10(i))),s=sn.Ha+n;return{Ha:s,$a:1/Math.pow(10,s)}}class dn{constructor(t,i){if(this.Ua=t,this.qa=i,function(t){if(t<0)return!1;for(let i=t;i>1;i/=10)if(i%10!=0)return!1;return!0}(this.Ua))this.Ya=[2,2.5,2];else{this.Ya=[];for(let t=this.Ua;1!==t;){if(t%2==0)this.Ya.push(2),t/=2;else{if(t%5!=0)throw new Error(\"unexpected base\");this.Ya.push(2,2.5),t/=5}if(this.Ya.length>100)throw new Error(\"something wrong with base\")}}}Za(t,i,n){const s=0===this.Ua?0:1/this.Ua;let e=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-i)))),r=0,h=this.qa[0];for(;;){const t=yt(e,s,1e-14)&&e>s+1e-14,i=yt(e,n*h,1e-14),l=yt(e,1,1e-14);if(!(t&&i&&l))break;e/=h,h=this.qa[++r%this.qa.length]}if(e<=s+1e-14&&(e=s),e=Math.max(1,e),this.Ya.length>0&&(l=e,a=1,o=1e-14,Math.abs(l-a)<o))for(r=0,h=this.Ya[0];yt(e,n*h,1e-14)&&e>s+1e-14;)e/=h,h=this.Ya[++r%this.Ya.length];var l,a,o;return e}}class fn{constructor(t,i,n,s){this.Xa=[],this.Li=t,this.Ua=i,this.Ka=n,this.Ga=s}Za(t,i){if(t<i)throw new Error(\"high < low\");const n=this.Li.At(),s=(t-i)*this.Ja()/n,e=new dn(this.Ua,[2,2.5,2]),r=new dn(this.Ua,[2,2,2.5]),h=new dn(this.Ua,[2.5,2,2]),l=[];return l.push(e.Za(t,i,s),r.Za(t,i,s),h.Za(t,i,s)),function(t){if(t.length<1)throw Error(\"array is empty\");let i=t[0];for(let n=1;n<t.length;++n)t[n]<i&&(i=t[n]);return i}(l)}Qa(){const t=this.Li,i=t.Ct();if(null===i)return void(this.Xa=[]);const n=t.At(),s=this.Ka(n-1,i),e=this.Ka(0,i),r=this.Li.W().entireTextOnly?this.io()/2:0,h=r,l=n-1-r,a=Math.max(s,e),o=Math.min(s,e);if(a===o)return void(this.Xa=[]);let _=this.Za(a,o),u=a%_;u+=u<0?_:0;const c=a>=o?1:-1;let d=null,f=0;for(let n=a-u;n>o;n-=_){const s=this.Ga(n,i,!0);null!==d&&Math.abs(s-d)<this.Ja()||(s<h||s>l||(f<this.Xa.length?(this.Xa[f].La=s,this.Xa[f].no=t.so(n)):this.Xa.push({La:s,no:t.so(n)}),f++,d=s,t.eo()&&(_=this.Za(n*c,o))))}this.Xa.length=f}ja(){return this.Xa}io(){return this.Li.P()}Ja(){return Math.ceil(2.5*this.io())}}function vn(t){return t.slice().sort(((t,i)=>b(t.Xi())-b(i.Xi())))}var pn;!function(t){t[t.Normal=0]=\"Normal\",t[t.Logarithmic=1]=\"Logarithmic\",t[t.Percentage=2]=\"Percentage\",t[t.IndexedTo100=3]=\"IndexedTo100\"}(pn||(pn={}));const mn=new vt,bn=new ft(100,1);class wn{constructor(t,i,n,s){this.ro=0,this.ho=null,this.Ah=null,this.lo=null,this.ao={oo:!1,_o:null},this.uo=0,this.co=0,this.do=new D,this.fo=new D,this.vo=[],this.po=null,this.mo=null,this.bo=null,this.wo=null,this.ba=bn,this.Mo=cn(null),this.xo=t,this.cn=i,this.So=n,this.ko=s,this.yo=new fn(this,100,this.Co.bind(this),this.To.bind(this))}Ta(){return this.xo}W(){return this.cn}Hh(t){if(V(this.cn,t),this.Pa(),void 0!==t.mode&&this.Po({yr:t.mode}),void 0!==t.scaleMargins){const i=m(t.scaleMargins.top),n=m(t.scaleMargins.bottom);if(i<0||i>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${i}`);if(n<0||n>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${n}`);if(i+n>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${i+n}`);this.Ro(),this.mo=null}}Do(){return this.cn.autoScale}eo(){return 1===this.cn.mode}gh(){return 2===this.cn.mode}Vo(){return 3===this.cn.mode}yr(){return{Wn:this.cn.autoScale,Oo:this.cn.invertScale,yr:this.cn.mode}}Po(t){const i=this.yr();let n=null;void 0!==t.Wn&&(this.cn.autoScale=t.Wn),void 0!==t.yr&&(this.cn.mode=t.yr,2!==t.yr&&3!==t.yr||(this.cn.autoScale=!0),this.ao.oo=!1),1===i.yr&&t.yr!==i.yr&&(!function(t,i){if(null===t)return!1;const n=on(t.Th(),i),s=on(t.Ph(),i);return isFinite(n)&&isFinite(s)}(this.Ah,this.Mo)?this.cn.autoScale=!0:(n=un(this.Ah,this.Mo),null!==n&&this.Bo(n))),1===t.yr&&t.yr!==i.yr&&(n=_n(this.Ah,this.Mo),null!==n&&this.Bo(n));const s=i.yr!==this.cn.mode;s&&(2===i.yr||this.gh())&&this.Pa(),s&&(3===i.yr||this.Vo())&&this.Pa(),void 0!==t.Oo&&i.Oo!==t.Oo&&(this.cn.invertScale=t.Oo,this.Ao()),this.fo.m(i,this.yr())}Io(){return this.fo}P(){return this.So.fontSize}At(){return this.ro}zo(t){this.ro!==t&&(this.ro=t,this.Ro(),this.mo=null)}Lo(){if(this.ho)return this.ho;const t=this.At()-this.Eo()-this.No();return this.ho=t,t}zh(){return this.Fo(),this.Ah}Bo(t,i){const n=this.Ah;(i||null===n&&null!==t||null!==n&&!n.yh(t))&&(this.mo=null,this.Ah=t)}Ni(){return this.Fo(),0===this.ro||!this.Ah||this.Ah.Ni()}Wo(t){return this.Oo()?t:this.At()-1-t}Rt(t,i){return this.gh()?t=en(t,i):this.Vo()&&(t=hn(t,i)),this.To(t,i)}Qs(t,i,n){this.Fo();const s=this.No(),e=b(this.zh()),r=e.Th(),h=e.Ph(),l=this.Lo()-1,a=this.Oo(),o=l/(h-r),_=void 0===n?0:n.from,u=void 0===n?t.length:n.to,c=this.jo();for(let n=_;n<u;n++){const e=t[n],h=e._t;if(isNaN(h))continue;let l=h;null!==c&&(l=c(e._t,i));const _=s+o*(l-r),u=a?_:this.ro-1-_;e.st=u}}me(t,i,n){this.Fo();const s=this.No(),e=b(this.zh()),r=e.Th(),h=e.Ph(),l=this.Lo()-1,a=this.Oo(),o=l/(h-r),_=void 0===n?0:n.from,u=void 0===n?t.length:n.to,c=this.jo();for(let n=_;n<u;n++){const e=t[n];let h=e.we,l=e.ge,_=e.Me,u=e.xe;null!==c&&(h=c(e.we,i),l=c(e.ge,i),_=c(e.Me,i),u=c(e.xe,i));let d=s+o*(h-r),f=a?d:this.ro-1-d;e.ve=f,d=s+o*(l-r),f=a?d:this.ro-1-d,e.ce=f,d=s+o*(_-r),f=a?d:this.ro-1-d,e.de=f,d=s+o*(u-r),f=a?d:this.ro-1-d,e.pe=f}}pn(t,i){const n=this.Co(t,i);return this.Ho(n,i)}Ho(t,i){let n=t;return this.gh()?n=function(t,i){return i<0&&(t=-t),t/100*i+i}(n,i):this.Vo()&&(n=function(t,i){return t-=100,i<0&&(t=-t),t/100*i+i}(n,i)),n}Oa(){return this.vo}$o(){if(this.po)return this.po;let t=[];for(let i=0;i<this.vo.length;i++){const n=this.vo[i];null===n.Xi()&&n.Ki(i+1),t.push(n)}return t=vn(t),this.po=t,this.po}Uo(t){-1===this.vo.indexOf(t)&&(this.vo.push(t),this.Pa(),this.qo())}Yo(t){const i=this.vo.indexOf(t);if(-1===i)throw new Error(\"source is not attached to scale\");this.vo.splice(i,1),0===this.vo.length&&(this.Po({Wn:!0}),this.Bo(null)),this.Pa(),this.qo()}Ct(){let t=null;for(const i of this.vo){const n=i.Ct();null!==n&&((null===t||n.ha<t.ha)&&(t=n))}return null===t?null:t.Vt}Oo(){return this.cn.invertScale}ja(){const t=null===this.Ct();if(null!==this.mo&&(t||this.mo.Zo===t))return this.mo.ja;this.yo.Qa();const i=this.yo.ja();return this.mo={ja:i,Zo:t},this.do.m(),i}Xo(){return this.do}Ko(t){this.gh()||this.Vo()||null===this.bo&&null===this.lo&&(this.Ni()||(this.bo=this.ro-t,this.lo=b(this.zh()).Ch()))}Go(t){if(this.gh()||this.Vo())return;if(null===this.bo)return;this.Po({Wn:!1}),(t=this.ro-t)<0&&(t=0);let i=(this.bo+.2*(this.ro-1))/(t+.2*(this.ro-1));const n=b(this.lo).Ch();i=Math.max(i,.1),n.Dh(i),this.Bo(n)}Jo(){this.gh()||this.Vo()||(this.bo=null,this.lo=null)}Qo(t){this.Do()||null===this.wo&&null===this.lo&&(this.Ni()||(this.wo=t,this.lo=b(this.zh()).Ch()))}t_(t){if(this.Do())return;if(null===this.wo)return;const i=b(this.zh()).Rh()/(this.Lo()-1);let n=t-this.wo;this.Oo()&&(n*=-1);const s=n*i,e=b(this.lo).Ch();e.Vh(s),this.Bo(e,!0),this.mo=null}i_(){this.Do()||null!==this.wo&&(this.wo=null,this.lo=null)}ma(){return this.ba||this.Pa(),this.ba}Fi(t,i){switch(this.cn.mode){case 2:return this.n_(en(t,i));case 3:return this.ma().format(hn(t,i));default:return this.Fh(t)}}so(t){switch(this.cn.mode){case 2:return this.n_(t);case 3:return this.ma().format(t);default:return this.Fh(t)}}ql(t){return this.Fh(t,b(this.s_()).ma())}Yl(t,i){return t=en(t,i),this.n_(t,mn)}e_(){return this.vo}r_(t){this.ao={_o:t,oo:!1}}Vn(){this.vo.forEach((t=>t.Vn()))}Pa(){this.mo=null;const t=this.s_();let i=100;null!==t&&(i=Math.round(1/t.pa())),this.ba=bn,this.gh()?(this.ba=mn,i=100):this.Vo()?(this.ba=new ft(100,1),i=100):null!==t&&(this.ba=t.ma()),this.yo=new fn(this,i,this.Co.bind(this),this.To.bind(this)),this.yo.Qa()}qo(){this.po=null}s_(){return this.vo[0]||null}Eo(){return this.Oo()?this.cn.scaleMargins.bottom*this.At()+this.co:this.cn.scaleMargins.top*this.At()+this.uo}No(){return this.Oo()?this.cn.scaleMargins.top*this.At()+this.uo:this.cn.scaleMargins.bottom*this.At()+this.co}Fo(){this.ao.oo||(this.ao.oo=!0,this.h_())}Ro(){this.ho=null}To(t,i){if(this.Fo(),this.Ni())return 0;t=this.eo()&&t?an(t,this.Mo):t;const n=b(this.zh()),s=this.No()+(this.Lo()-1)*(t-n.Th())/n.Rh();return this.Wo(s)}Co(t,i){if(this.Fo(),this.Ni())return 0;const n=this.Wo(t),s=b(this.zh()),e=s.Th()+s.Rh()*((n-this.No())/(this.Lo()-1));return this.eo()?on(e,this.Mo):e}Ao(){this.mo=null,this.yo.Qa()}h_(){const t=this.ao._o;if(null===t)return;let i=null;const n=this.e_();let s=0,e=0;for(const r of n){if(!r.yt())continue;const n=r.Ct();if(null===n)continue;const h=r.Al(t.Vs(),t.ui());let l=h&&h.zh();if(null!==l){switch(this.cn.mode){case 1:l=_n(l,this.Mo);break;case 2:l=rn(l,n.Vt);break;case 3:l=ln(l,n.Vt)}if(i=null===i?l:i.ts(b(l)),null!==h){const t=h.Lh();null!==t&&(s=Math.max(s,t.above),e=Math.max(e,t.below))}}}if(s===this.uo&&e===this.co||(this.uo=s,this.co=e,this.mo=null,this.Ro()),null!==i){if(i.Th()===i.Ph()){const t=this.s_(),n=5*(null===t||this.gh()||this.Vo()?1:t.pa());this.eo()&&(i=un(i,this.Mo)),i=new Ri(i.Th()-n,i.Ph()+n),this.eo()&&(i=_n(i,this.Mo))}if(this.eo()){const t=un(i,this.Mo),n=cn(t);if(r=n,h=this.Mo,r.Ha!==h.Ha||r.$a!==h.$a){const s=null!==this.lo?un(this.lo,this.Mo):null;this.Mo=n,i=_n(t,n),null!==s&&(this.lo=_n(s,n))}}this.Bo(i)}else null===this.Ah&&(this.Bo(new Ri(-.5,.5)),this.Mo=cn(null));var r,h;this.ao.oo=!0}jo(){return this.gh()?en:this.Vo()?hn:this.eo()?t=>an(t,this.Mo):null}l_(t,i,n){return void 0===i?(void 0===n&&(n=this.ma()),n.format(t)):i(t)}Fh(t,i){return this.l_(t,this.ko.priceFormatter,i)}n_(t,i){return this.l_(t,this.ko.percentageFormatter,i)}}class gn{constructor(t,i){this.vo=[],this.a_=new Map,this.ro=0,this.o_=0,this.__=1e3,this.po=null,this.u_=new D,this.kl=t,this.$i=i,this.c_=new nn(this);const n=i.W();this.d_=this.f_(\"left\",n.leftPriceScale),this.v_=this.f_(\"right\",n.rightPriceScale),this.d_.Io().l(this.p_.bind(this,this.d_),this),this.v_.Io().l(this.p_.bind(this,this.v_),this),this.m_(n)}m_(t){if(t.leftPriceScale&&this.d_.Hh(t.leftPriceScale),t.rightPriceScale&&this.v_.Hh(t.rightPriceScale),t.localization&&(this.d_.Pa(),this.v_.Pa()),t.overlayPriceScales){const i=Array.from(this.a_.values());for(const n of i){const i=b(n[0].Dt());i.Hh(t.overlayPriceScales),t.localization&&i.Pa()}}}b_(t){switch(t){case\"left\":return this.d_;case\"right\":return this.v_}return this.a_.has(t)?m(this.a_.get(t))[0].Dt():null}S(){this.$t().w_().p(this),this.d_.Io().p(this),this.v_.Io().p(this),this.vo.forEach((t=>{t.S&&t.S()})),this.u_.m()}g_(){return this.__}M_(t){this.__=t}$t(){return this.$i}Hi(){return this.o_}At(){return this.ro}x_(t){this.o_=t,this.S_()}zo(t){this.ro=t,this.d_.zo(t),this.v_.zo(t),this.vo.forEach((i=>{if(this.dr(i)){const n=i.Dt();null!==n&&n.zo(t)}})),this.S_()}Oa(){return this.vo}dr(t){const i=t.Dt();return null===i||this.d_!==i&&this.v_!==i}Uo(t,i,n){const s=void 0!==n?n:this.y_().k_+1;this.C_(t,i,s)}Yo(t){const i=this.vo.indexOf(t);p(-1!==i,\"removeDataSource: invalid data source\"),this.vo.splice(i,1);const n=b(t.Dt()).Ta();if(this.a_.has(n)){const i=m(this.a_.get(n)),s=i.indexOf(t);-1!==s&&(i.splice(s,1),0===i.length&&this.a_.delete(n))}const s=t.Dt();s&&s.Oa().indexOf(t)>=0&&s.Yo(t),null!==s&&(s.qo(),this.T_(s)),this.po=null}pr(t){return t===this.d_?\"left\":t===this.v_?\"right\":\"overlay\"}P_(){return this.d_}R_(){return this.v_}D_(t,i){t.Ko(i)}V_(t,i){t.Go(i),this.S_()}O_(t){t.Jo()}B_(t,i){t.Qo(i)}A_(t,i){t.t_(i),this.S_()}I_(t){t.i_()}S_(){this.vo.forEach((t=>{t.Vn()}))}vn(){let t=null;return this.$i.W().rightPriceScale.visible&&0!==this.v_.Oa().length?t=this.v_:this.$i.W().leftPriceScale.visible&&0!==this.d_.Oa().length?t=this.d_:0!==this.vo.length&&(t=this.vo[0].Dt()),null===t&&(t=this.v_),t}vr(){let t=null;return this.$i.W().rightPriceScale.visible?t=this.v_:this.$i.W().leftPriceScale.visible&&(t=this.d_),t}T_(t){null!==t&&t.Do()&&this.z_(t)}L_(t){const i=this.kl.Zs();t.Po({Wn:!0}),null!==i&&t.r_(i),this.S_()}E_(){this.z_(this.d_),this.z_(this.v_)}N_(){this.T_(this.d_),this.T_(this.v_),this.vo.forEach((t=>{this.dr(t)&&this.T_(t.Dt())})),this.S_(),this.$i.$h()}$o(){return null===this.po&&(this.po=vn(this.vo)),this.po}F_(){return this.u_}W_(){return this.c_}z_(t){const i=t.e_();if(i&&i.length>0&&!this.kl.Ni()){const i=this.kl.Zs();null!==i&&t.r_(i)}t.Vn()}y_(){const t=this.$o();if(0===t.length)return{j_:0,k_:0};let i=0,n=0;for(let s=0;s<t.length;s++){const e=t[s].Xi();null!==e&&(e<i&&(i=e),e>n&&(n=e))}return{j_:i,k_:n}}C_(t,i,n){let s=this.b_(i);if(null===s&&(s=this.f_(i,this.$i.W().overlayPriceScales)),this.vo.push(t),!_t(i)){const n=this.a_.get(i)||[];n.push(t),this.a_.set(i,n)}s.Uo(t),t.Gi(s),t.Ki(n),this.T_(s),this.po=null}p_(t,i,n){i.yr!==n.yr&&this.z_(t)}f_(t,i){const n=Object.assign({visible:!0,autoScale:!0},z(i)),s=new wn(t,n,this.$i.W().layout,this.$i.W().localization);return s.zo(this.At()),s}}class Mn{constructor(t,i,n=50){this.Xe=0,this.Ke=1,this.Ge=1,this.Qe=new Map,this.Je=new Map,this.H_=t,this.U_=i,this.tr=n}q_(t){const i=t.time,n=this.U_.cacheKey(i),s=this.Qe.get(n);if(void 0!==s)return s.Y_;if(this.Xe===this.tr){const t=this.Je.get(this.Ge);this.Je.delete(this.Ge),this.Qe.delete(m(t)),this.Ge++,this.Xe--}const e=this.H_(t);return this.Qe.set(n,{Y_:e,er:this.Ke}),this.Je.set(this.Ke,n),this.Xe++,this.Ke++,e}}class xn{constructor(t,i){p(t<=i,\"right should be >= left\"),this.Z_=t,this.X_=i}Vs(){return this.Z_}ui(){return this.X_}K_(){return this.X_-this.Z_+1}Xr(t){return this.Z_<=t&&t<=this.X_}yh(t){return this.Z_===t.Vs()&&this.X_===t.ui()}}function Sn(t,i){return null===t||null===i?t===i:t.yh(i)}class kn{constructor(){this.G_=new Map,this.Qe=null,this.J_=!1}Q_(t){this.J_=t,this.Qe=null}tu(t,i){this.iu(i),this.Qe=null;for(let n=i;n<t.length;++n){const i=t[n];let s=this.G_.get(i.timeWeight);void 0===s&&(s=[],this.G_.set(i.timeWeight,s)),s.push({index:n,time:i.time,weight:i.timeWeight,originalTime:i.originalTime})}}nu(t,i){const n=Math.ceil(i/t);return null!==this.Qe&&this.Qe.su===n||(this.Qe={ja:this.eu(n),su:n}),this.Qe.ja}iu(t){if(0===t)return void this.G_.clear();const i=[];this.G_.forEach(((n,s)=>{t<=n[0].index?i.push(s):n.splice(Bt(n,t,(i=>i.index<t)),1/0)}));for(const t of i)this.G_.delete(t)}eu(t){let i=[];for(const n of Array.from(this.G_.keys()).sort(((t,i)=>i-t))){if(!this.G_.get(n))continue;const s=i;i=[];const e=s.length;let r=0;const h=m(this.G_.get(n)),l=h.length;let a=1/0,o=-1/0;for(let n=0;n<l;n++){const l=h[n],_=l.index;for(;r<e;){const t=s[r],n=t.index;if(!(n<_)){a=n;break}r++,i.push(t),o=n,a=1/0}if(a-_>=t&&_-o>=t)i.push(l),o=_;else if(this.J_)return s}for(;r<e;r++)i.push(s[r])}return i}}class yn{constructor(t){this.ru=t}hu(){return null===this.ru?null:new xn(Math.floor(this.ru.Vs()),Math.ceil(this.ru.ui()))}lu(){return this.ru}static au(){return new yn(null)}}function Cn(t,i){return t.weight>i.weight?t:i}class Tn{constructor(t,i,n,s){this.o_=0,this.ou=null,this._u=[],this.wo=null,this.bo=null,this.uu=new kn,this.cu=new Map,this.du=yn.au(),this.fu=!0,this.vu=new D,this.pu=new D,this.mu=new D,this.bu=null,this.wu=null,this.gu=[],this.cn=i,this.ko=n,this.Mu=i.rightOffset,this.xu=i.barSpacing,this.$i=t,this.U_=s,this.Su(),this.uu.Q_(i.uniformDistribution)}W(){return this.cn}ku(t){V(this.ko,t),this.yu(),this.Su()}Hh(t,i){var n;V(this.cn,t),this.cn.fixLeftEdge&&this.Cu(),this.cn.fixRightEdge&&this.Tu(),void 0!==t.barSpacing&&this.$i.Gn(t.barSpacing),void 0!==t.rightOffset&&this.$i.Jn(t.rightOffset),void 0!==t.minBarSpacing&&this.$i.Gn(null!==(n=t.barSpacing)&&void 0!==n?n:this.xu),this.yu(),this.Su(),this.mu.m()}mn(t){var i,n;return null!==(n=null===(i=this._u[t])||void 0===i?void 0:i.time)&&void 0!==n?n:null}Ui(t){var i;return null!==(i=this._u[t])&&void 0!==i?i:null}Da(t,i){if(this._u.length<1)return null;if(this.U_.key(t)>this.U_.key(this._u[this._u.length-1].time))return i?this._u.length-1:null;const n=Bt(this._u,this.U_.key(t),((t,i)=>this.U_.key(t.time)<i));return this.U_.key(t)<this.U_.key(this._u[n].time)?i?n:null:n}Ni(){return 0===this.o_||0===this._u.length||null===this.ou}Ra(){return this._u.length>0}Zs(){return this.Pu(),this.du.hu()}Ru(){return this.Pu(),this.du.lu()}Du(){const t=this.Zs();if(null===t)return null;const i={from:t.Vs(),to:t.ui()};return this.Vu(i)}Vu(t){const i=Math.round(t.from),n=Math.round(t.to),s=b(this.Ou()),e=b(this.Bu());return{from:b(this.Ui(Math.max(s,i))),to:b(this.Ui(Math.min(e,n)))}}Au(t){return{from:b(this.Da(t.from,!0)),to:b(this.Da(t.to,!0))}}Hi(){return this.o_}x_(t){if(!isFinite(t)||t<=0)return;if(this.o_===t)return;const i=this.Ru(),n=this.o_;if(this.o_=t,this.fu=!0,this.cn.lockVisibleTimeRangeOnResize&&0!==n){const i=this.xu*t/n;this.xu=i}if(this.cn.fixLeftEdge&&null!==i&&i.Vs()<=0){const i=n-t;this.Mu-=Math.round(i/this.xu)+1,this.fu=!0}this.Iu(),this.zu()}It(t){if(this.Ni()||!B(t))return 0;const i=this.Lu()+this.Mu-t;return this.o_-(i+.5)*this.xu-1}Js(t,i){const n=this.Lu(),s=void 0===i?0:i.from,e=void 0===i?t.length:i.to;for(let i=s;i<e;i++){const s=t[i].ot,e=n+this.Mu-s,r=this.o_-(e+.5)*this.xu-1;t[i].nt=r}}Eu(t){return Math.ceil(this.Nu(t))}Jn(t){this.fu=!0,this.Mu=t,this.zu(),this.$i.Fu(),this.$i.$h()}he(){return this.xu}Gn(t){this.Wu(t),this.zu(),this.$i.Fu(),this.$i.$h()}ju(){return this.Mu}ja(){if(this.Ni())return null;if(null!==this.wu)return this.wu;const t=this.xu,i=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),n=Math.round(i/t),s=b(this.Zs()),e=Math.max(s.Vs(),s.Vs()-n),r=Math.max(s.ui(),s.ui()-n),h=this.uu.nu(t,i),l=this.Ou()+n,a=this.Bu()-n,o=this.Hu(),_=this.cn.fixLeftEdge||o,u=this.cn.fixRightEdge||o;let c=0;for(const t of h){if(!(e<=t.index&&t.index<=r))continue;let n;c<this.gu.length?(n=this.gu[c],n.coord=this.It(t.index),n.label=this.$u(t),n.weight=t.weight):(n={needAlignCoordinate:!1,coord:this.It(t.index),label:this.$u(t),weight:t.weight},this.gu.push(n)),this.xu>i/2&&!o?n.needAlignCoordinate=!1:n.needAlignCoordinate=_&&t.index<=l||u&&t.index>=a,c++}return this.gu.length=c,this.wu=this.gu,this.gu}Uu(){this.fu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}qu(t){this.fu=!0,this.ou=t,this.zu(),this.Cu()}Yu(t,i){const n=this.Nu(t),s=this.he(),e=s+i*(s/10);this.Gn(e),this.cn.rightBarStaysOnScroll||this.Jn(this.ju()+(n-this.Nu(t)))}Ko(t){this.wo&&this.i_(),null===this.bo&&null===this.bu&&(this.Ni()||(this.bo=t,this.Zu()))}Go(t){if(null===this.bu)return;const i=kt(this.o_-t,0,this.o_),n=kt(this.o_-b(this.bo),0,this.o_);0!==i&&0!==n&&this.Gn(this.bu.he*i/n)}Jo(){null!==this.bo&&(this.bo=null,this.Xu())}Qo(t){null===this.wo&&null===this.bu&&(this.Ni()||(this.wo=t,this.Zu()))}t_(t){if(null===this.wo)return;const i=(this.wo-t)/this.he();this.Mu=b(this.bu).ju+i,this.fu=!0,this.zu()}i_(){null!==this.wo&&(this.wo=null,this.Xu())}Ku(){this.Gu(this.cn.rightOffset)}Gu(t,i=400){if(!isFinite(t))throw new RangeError(\"offset is required and must be finite number\");if(!isFinite(i)||i<=0)throw new RangeError(\"animationDuration (optional) must be finite positive number\");const n=this.Mu,s=performance.now();this.$i.Zn({Ju:t=>(t-s)/i>=1,Qu:e=>{const r=(e-s)/i;return r>=1?t:n+(t-n)*r}})}bt(t,i){this.fu=!0,this._u=t,this.uu.tu(t,i),this.zu()}tc(){return this.vu}nc(){return this.pu}sc(){return this.mu}Lu(){return this.ou||0}ec(t){const i=t.K_();this.Wu(this.o_/i),this.Mu=t.ui()-this.Lu(),this.zu(),this.fu=!0,this.$i.Fu(),this.$i.$h()}rc(){const t=this.Ou(),i=this.Bu();null!==t&&null!==i&&this.ec(new xn(t,i+this.cn.rightOffset))}hc(t){const i=new xn(t.from,t.to);this.ec(i)}qi(t){return void 0!==this.ko.timeFormatter?this.ko.timeFormatter(t.originalTime):this.U_.formatHorzItem(t.time)}Hu(){const{handleScroll:t,handleScale:i}=this.$i.W();return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||i.axisDoubleClickReset.time||i.axisPressedMouseMove.time||i.mouseWheel||i.pinch)}Ou(){return 0===this._u.length?null:0}Bu(){return 0===this._u.length?null:this._u.length-1}lc(t){return(this.o_-1-t)/this.xu}Nu(t){const i=this.lc(t),n=this.Lu()+this.Mu-i;return Math.round(1e6*n)/1e6}Wu(t){const i=this.xu;this.xu=t,this.Iu(),i!==this.xu&&(this.fu=!0,this.ac())}Pu(){if(!this.fu)return;if(this.fu=!1,this.Ni())return void this.oc(yn.au());const t=this.Lu(),i=this.o_/this.xu,n=this.Mu+t,s=new xn(n-i+1,n);this.oc(new yn(s))}Iu(){const t=this._c();if(this.xu<t&&(this.xu=t,this.fu=!0),0!==this.o_){const t=.5*this.o_;this.xu>t&&(this.xu=t,this.fu=!0)}}_c(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&0!==this._u.length?this.o_/this._u.length:this.cn.minBarSpacing}zu(){const t=this.uc();this.Mu>t&&(this.Mu=t,this.fu=!0);const i=this.cc();null!==i&&this.Mu<i&&(this.Mu=i,this.fu=!0)}cc(){const t=this.Ou(),i=this.ou;if(null===t||null===i)return null;return t-i-1+(this.cn.fixLeftEdge?this.o_/this.xu:Math.min(2,this._u.length))}uc(){return this.cn.fixRightEdge?0:this.o_/this.xu-Math.min(2,this._u.length)}Zu(){this.bu={he:this.he(),ju:this.ju()}}Xu(){this.bu=null}$u(t){let i=this.cu.get(t.weight);return void 0===i&&(i=new Mn((t=>this.dc(t)),this.U_),this.cu.set(t.weight,i)),i.q_(t)}dc(t){return this.U_.formatTickmark(t,this.ko)}oc(t){const i=this.du;this.du=t,Sn(i.hu(),this.du.hu())||this.vu.m(),Sn(i.lu(),this.du.lu())||this.pu.m(),this.ac()}ac(){this.wu=null}yu(){this.ac(),this.cu.clear()}Su(){this.U_.updateFormatter(this.ko)}Cu(){if(!this.cn.fixLeftEdge)return;const t=this.Ou();if(null===t)return;const i=this.Zs();if(null===i)return;const n=i.Vs()-t;if(n<0){const t=this.Mu-n-1;this.Jn(t)}this.Iu()}Tu(){this.zu(),this.Iu()}}class Pn{X(t,i,n){t.useMediaCoordinateSpace((t=>this.K(t,i,n)))}wl(t,i,n){t.useMediaCoordinateSpace((t=>this.fc(t,i,n)))}fc(t,i,n){}}class Rn extends Pn{constructor(t){super(),this.vc=new Map,this.zt=t}K(t){}fc(t){if(!this.zt.yt)return;const{context:i,mediaSize:n}=t;let s=0;for(const t of this.zt.mc){if(0===t.Kt.length)continue;i.font=t.R;const e=this.bc(i,t.Kt);e>n.width?t.Yu=n.width/e:t.Yu=1,s+=t.wc*t.Yu}let e=0;switch(this.zt.gc){case\"top\":e=0;break;case\"center\":e=Math.max((n.height-s)/2,0);break;case\"bottom\":e=Math.max(n.height-s,0)}i.fillStyle=this.zt.V;for(const t of this.zt.mc){i.save();let s=0;switch(this.zt.Mc){case\"left\":i.textAlign=\"left\",s=t.wc/2;break;case\"center\":i.textAlign=\"center\",s=n.width/2;break;case\"right\":i.textAlign=\"right\",s=n.width-1-t.wc/2}i.translate(s,e),i.textBaseline=\"top\",i.font=t.R,i.scale(t.Yu,t.Yu),i.fillText(t.Kt,0,t.xc),i.restore(),e+=t.wc*t.Yu}}bc(t,i){const n=this.Sc(t.font);let s=n.get(i);return void 0===s&&(s=t.measureText(i).width,n.set(i,s)),s}Sc(t){let i=this.vc.get(t);return void 0===i&&(i=new Map,this.vc.set(t,i)),i}}class Dn{constructor(t){this.ft=!0,this.Ft={yt:!1,V:\"\",mc:[],gc:\"center\",Mc:\"center\"},this.Wt=new Rn(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const t=this.jt.W(),i=this.Ft;i.yt=t.visible,i.yt&&(i.V=t.color,i.Mc=t.horzAlign,i.gc=t.vertAlign,i.mc=[{Kt:t.text,R:F(t.fontSize,t.fontFamily,t.fontStyle),wc:1.2*t.fontSize,xc:0,Yu:0}])}}class Vn extends lt{constructor(t,i){super(),this.cn=i,this.wn=new Dn(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}Vn(){this.wn.bt()}}var On,Bn,An,In,zn;!function(t){t[t.OnTouchEnd=0]=\"OnTouchEnd\",t[t.OnNextTap=1]=\"OnNextTap\"}(On||(On={}));class Ln{constructor(t,i,n){this.kc=[],this.yc=[],this.o_=0,this.Cc=null,this.Tc=new D,this.Pc=new D,this.Rc=null,this.Dc=t,this.cn=i,this.U_=n,this.Vc=new W(this),this.kl=new Tn(this,i.timeScale,this.cn.localization,n),this.vt=new ot(this,i.crosshair),this.Oc=new Ji(i.crosshair),this.Bc=new Vn(this,i.watermark),this.Ac(),this.kc[0].M_(2e3),this.Ic=this.zc(0),this.Lc=this.zc(1)}Xl(){this.Ec(ut.es())}$h(){this.Ec(ut.ss())}aa(){this.Ec(new ut(1))}Kl(t){const i=this.Nc(t);this.Ec(i)}Fc(){return this.Cc}Wc(t){const i=this.Cc;this.Cc=t,null!==i&&this.Kl(i.jc),null!==t&&this.Kl(t.jc)}W(){return this.cn}Hh(t){V(this.cn,t),this.kc.forEach((i=>i.m_(t))),void 0!==t.timeScale&&this.kl.Hh(t.timeScale),void 0!==t.localization&&this.kl.ku(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Tc.m(),this.Ic=this.zc(0),this.Lc=this.zc(1),this.Xl()}Hc(t,i){if(\"left\"===t)return void this.Hh({leftPriceScale:i});if(\"right\"===t)return void this.Hh({rightPriceScale:i});const n=this.$c(t);null!==n&&(n.Dt.Hh(i),this.Tc.m())}$c(t){for(const i of this.kc){const n=i.b_(t);if(null!==n)return{Ht:i,Dt:n}}return null}St(){return this.kl}Uc(){return this.kc}qc(){return this.Bc}Yc(){return this.vt}Zc(){return this.Pc}Xc(t,i){t.zo(i),this.Fu()}x_(t){this.o_=t,this.kl.x_(this.o_),this.kc.forEach((i=>i.x_(t))),this.Fu()}Ac(t){const i=new gn(this.kl,this);void 0!==t?this.kc.splice(t,0,i):this.kc.push(i);const n=void 0===t?this.kc.length-1:t,s=ut.es();return s.Nn(n,{Fn:0,Wn:!0}),this.Ec(s),i}D_(t,i,n){t.D_(i,n)}V_(t,i,n){t.V_(i,n),this.Gl(),this.Ec(this.Kc(t,2))}O_(t,i){t.O_(i),this.Ec(this.Kc(t,2))}B_(t,i,n){i.Do()||t.B_(i,n)}A_(t,i,n){i.Do()||(t.A_(i,n),this.Gl(),this.Ec(this.Kc(t,2)))}I_(t,i){i.Do()||(t.I_(i),this.Ec(this.Kc(t,2)))}L_(t,i){t.L_(i),this.Ec(this.Kc(t,2))}Gc(t){this.kl.Ko(t)}Jc(t,i){const n=this.St();if(n.Ni()||0===i)return;const s=n.Hi();t=Math.max(1,Math.min(t,s)),n.Yu(t,i),this.Fu()}Qc(t){this.td(0),this.nd(t),this.sd()}ed(t){this.kl.Go(t),this.Fu()}rd(){this.kl.Jo(),this.$h()}td(t){this.kl.Qo(t)}nd(t){this.kl.t_(t),this.Fu()}sd(){this.kl.i_(),this.$h()}wt(){return this.yc}hd(t,i,n,s,e){this.vt.gn(t,i);let r=NaN,h=this.kl.Eu(t);const l=this.kl.Zs();null!==l&&(h=Math.min(Math.max(l.Vs(),h),l.ui()));const a=s.vn(),o=a.Ct();null!==o&&(r=a.pn(i,o)),r=this.Oc.Va(r,h,s),this.vt.kn(h,r,s),this.aa(),e||this.Pc.m(this.vt.xt(),{x:t,y:i},n)}ld(t,i,n){const s=n.vn(),e=s.Ct(),r=s.Rt(t,b(e)),h=this.kl.Da(i,!0),l=this.kl.It(b(h));this.hd(l,r,null,n,!0)}ad(t){this.Yc().Cn(),this.aa(),t||this.Pc.m(null,null,null)}Gl(){const t=this.vt.Ht();if(null!==t){const i=this.vt.xn(),n=this.vt.Sn();this.hd(i,n,null,t)}this.vt.Vn()}od(t,i,n){const s=this.kl.mn(0);void 0!==i&&void 0!==n&&this.kl.bt(i,n);const e=this.kl.mn(0),r=this.kl.Lu(),h=this.kl.Zs();if(null!==h&&null!==s&&null!==e){const i=h.Xr(r),l=this.U_.key(s)>this.U_.key(e),a=null!==t&&t>r&&!l,o=this.kl.W().allowShiftVisibleRangeOnWhitespaceReplacement,_=i&&(!(void 0===n)||o)&&this.kl.W().shiftVisibleRangeOnNewBar;if(a&&!_){const i=t-r;this.kl.Jn(this.kl.ju()-i)}}this.kl.qu(t)}ta(t){null!==t&&t.N_()}cr(t){const i=this.kc.find((i=>i.$o().includes(t)));return void 0===i?null:i}Fu(){this.Bc.Vn(),this.kc.forEach((t=>t.N_())),this.Gl()}S(){this.kc.forEach((t=>t.S())),this.kc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}_d(){return this.Vc}mr(){return this.Vc.W()}w_(){return this.Tc}ud(t,i,n){const s=this.kc[0],e=this.dd(i,t,s,n);return this.yc.push(e),1===this.yc.length?this.Xl():this.$h(),e}fd(t){const i=this.cr(t),n=this.yc.indexOf(t);p(-1!==n,\"Series not found\"),this.yc.splice(n,1),b(i).Yo(t),t.S&&t.S()}Zl(t,i){const n=b(this.cr(t));n.Yo(t);const s=this.$c(i);if(null===s){const s=t.Xi();n.Uo(t,i,s)}else{const e=s.Ht===n?t.Xi():void 0;s.Ht.Uo(t,i,e)}}rc(){const t=ut.ss();t.$n(),this.Ec(t)}vd(t){const i=ut.ss();i.Yn(t),this.Ec(i)}Kn(){const t=ut.ss();t.Kn(),this.Ec(t)}Gn(t){const i=ut.ss();i.Gn(t),this.Ec(i)}Jn(t){const i=ut.ss();i.Jn(t),this.Ec(i)}Zn(t){const i=ut.ss();i.Zn(t),this.Ec(i)}Un(){const t=ut.ss();t.Un(),this.Ec(t)}pd(){return this.cn.rightPriceScale.visible?\"right\":\"left\"}md(){return this.Lc}q(){return this.Ic}Bt(t){const i=this.Lc,n=this.Ic;if(i===n)return i;if(t=Math.max(0,Math.min(100,Math.round(100*t))),null===this.Rc||this.Rc.Ts!==n||this.Rc.Ps!==i)this.Rc={Ts:n,Ps:i,bd:new Map};else{const i=this.Rc.bd.get(t);if(void 0!==i)return i}const s=function(t,i,n){const[s,e,r,h]=T(t),[l,a,o,_]=T(i),u=[M(s+n*(l-s)),M(e+n*(a-e)),M(r+n*(o-r)),x(h+n*(_-h))];return`rgba(${u[0]}, ${u[1]}, ${u[2]}, ${u[3]})`}(n,i,t/100);return this.Rc.bd.set(t,s),s}Kc(t,i){const n=new ut(i);if(null!==t){const s=this.kc.indexOf(t);n.Nn(s,{Fn:i})}return n}Nc(t,i){return void 0===i&&(i=2),this.Kc(this.cr(t),i)}Ec(t){this.Dc&&this.Dc(t),this.kc.forEach((t=>t.W_().Uh().bt()))}dd(t,i,n,s){const e=new Gi(this,t,i,n,s),r=void 0!==t.priceScaleId?t.priceScaleId:this.pd();return n.Uo(e,r),_t(r)||e.Hh(t),e}zc(t){const i=this.cn.layout;return\"gradient\"===i.background.type?0===t?i.background.topColor:i.background.bottomColor:i.background.color}}function En(t){return!O(t)&&!A(t)}function Nn(t){return O(t)}!function(t){t[t.Disabled=0]=\"Disabled\",t[t.Continuous=1]=\"Continuous\",t[t.OnDataUpdate=2]=\"OnDataUpdate\"}(Bn||(Bn={})),function(t){t[t.LastBar=0]=\"LastBar\",t[t.LastVisible=1]=\"LastVisible\"}(An||(An={})),function(t){t.Solid=\"solid\",t.VerticalGradient=\"gradient\"}(In||(In={})),function(t){t[t.Year=0]=\"Year\",t[t.Month=1]=\"Month\",t[t.DayOfMonth=2]=\"DayOfMonth\",t[t.Time=3]=\"Time\",t[t.TimeWithSeconds=4]=\"TimeWithSeconds\"}(zn||(zn={}));const Fn=t=>t.getUTCFullYear();function Wn(t,i,n){return i.replace(/yyyy/g,(t=>dt(Fn(t),4))(t)).replace(/yy/g,(t=>dt(Fn(t)%100,2))(t)).replace(/MMMM/g,((t,i)=>new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(i,{month:\"long\"}))(t,n)).replace(/MMM/g,((t,i)=>new Date(t.getUTCFullYear(),t.getUTCMonth(),1).toLocaleString(i,{month:\"short\"}))(t,n)).replace(/MM/g,(t=>dt((t=>t.getUTCMonth()+1)(t),2))(t)).replace(/dd/g,(t=>dt((t=>t.getUTCDate())(t),2))(t))}class jn{constructor(t=\"yyyy-MM-dd\",i=\"default\"){this.wd=t,this.gd=i}q_(t){return Wn(t,this.wd,this.gd)}}class Hn{constructor(t){this.Md=t||\"%h:%m:%s\"}q_(t){return this.Md.replace(\"%h\",dt(t.getUTCHours(),2)).replace(\"%m\",dt(t.getUTCMinutes(),2)).replace(\"%s\",dt(t.getUTCSeconds(),2))}}const $n={xd:\"yyyy-MM-dd\",Sd:\"%h:%m:%s\",kd:\" \",yd:\"default\"};class Un{constructor(t={}){const i=Object.assign(Object.assign({},$n),t);this.Cd=new jn(i.xd,i.yd),this.Td=new Hn(i.Sd),this.Pd=i.kd}q_(t){return`${this.Cd.q_(t)}${this.Pd}${this.Td.q_(t)}`}}function qn(t){return 60*t*60*1e3}function Yn(t){return 60*t*1e3}const Zn=[{Rd:(Xn=1,1e3*Xn),Dd:10},{Rd:Yn(1),Dd:20},{Rd:Yn(5),Dd:21},{Rd:Yn(30),Dd:22},{Rd:qn(1),Dd:30},{Rd:qn(3),Dd:31},{Rd:qn(6),Dd:32},{Rd:qn(12),Dd:33}];var Xn;function Kn(t,i){if(t.getUTCFullYear()!==i.getUTCFullYear())return 70;if(t.getUTCMonth()!==i.getUTCMonth())return 60;if(t.getUTCDate()!==i.getUTCDate())return 50;for(let n=Zn.length-1;n>=0;--n)if(Math.floor(i.getTime()/Zn[n].Rd)!==Math.floor(t.getTime()/Zn[n].Rd))return Zn[n].Dd;return 0}function Gn(t){let i=t;if(A(t)&&(i=Qn(t)),!En(i))throw new Error(\"time must be of type BusinessDay\");const n=new Date(Date.UTC(i.year,i.month-1,i.day,0,0,0,0));return{Vd:Math.round(n.getTime()/1e3),Od:i}}function Jn(t){if(!Nn(t))throw new Error(\"time must be of type isUTCTimestamp\");return{Vd:t}}function Qn(t){const i=new Date(t);if(isNaN(i.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:i.getUTCDate(),month:i.getUTCMonth()+1,year:i.getUTCFullYear()}}function ts(t){A(t.time)&&(t.time=Qn(t.time))}class is{options(){return this.cn}setOptions(t){this.cn=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(t){t.forEach(ts)}(t):ts(t)}createConverterToInternalObj(t){return b(function(t){return 0===t.length?null:En(t[0].time)||A(t[0].time)?Gn:Jn}(t))}key(t){return\"object\"==typeof t&&\"Vd\"in t?t.Vd:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const i=t;return void 0===i.Od?new Date(1e3*i.Vd).getTime():new Date(Date.UTC(i.Od.year,i.Od.month-1,i.Od.day)).getTime()}convertHorzItemToInternal(t){return Nn(i=t)?Jn(i):En(i)?Gn(i):Gn(Qn(i));var i}updateFormatter(t){if(!this.cn)return;const i=t.dateFormat;this.cn.timeScale.timeVisible?this.Bd=new Un({xd:i,Sd:this.cn.timeScale.secondsVisible?\"%h:%m:%s\":\"%h:%m\",kd:\"   \",yd:t.locale}):this.Bd=new jn(i,t.locale)}formatHorzItem(t){const i=t;return this.Bd.q_(new Date(1e3*i.Vd))}formatTickmark(t,i){const n=function(t,i,n){switch(t){case 0:case 10:return i?n?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return i?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),s=this.cn.timeScale;if(void 0!==s.tickMarkFormatter){const e=s.tickMarkFormatter(t.originalTime,n,i.locale);if(null!==e)return e}return function(t,i,n){const s={};switch(i){case 0:s.year=\"numeric\";break;case 1:s.month=\"short\";break;case 2:s.day=\"numeric\";break;case 3:s.hour12=!1,s.hour=\"2-digit\",s.minute=\"2-digit\";break;case 4:s.hour12=!1,s.hour=\"2-digit\",s.minute=\"2-digit\",s.second=\"2-digit\"}const e=void 0===t.Od?new Date(1e3*t.Vd):new Date(Date.UTC(t.Od.year,t.Od.month-1,t.Od.day));return new Date(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()).toLocaleString(n,s)}(t.time,n,i.locale)}maxTickMarkWeight(t){let i=t.reduce(Cn,t[0]).weight;return i>30&&i<50&&(i=30),i}fillWeightsForPoints(t,i){!function(t,i=0){if(0===t.length)return;let n=0===i?null:t[i-1].time.Vd,s=null!==n?new Date(1e3*n):null,e=0;for(let r=i;r<t.length;++r){const i=t[r],h=new Date(1e3*i.time.Vd);null!==s&&(i.timeWeight=Kn(h,s)),e+=i.time.Vd-(n||i.time.Vd),n=i.time.Vd,s=h}if(0===i&&t.length>1){const i=Math.ceil(e/(t.length-1)),n=new Date(1e3*(t[0].time.Vd-i));t[0].timeWeight=Kn(new Date(1e3*t[0].time.Vd),n)}}(t,i)}static Ad(t){return V({localization:{dateFormat:\"dd MMM 'yy\"}},null!=t?t:{})}}const ns=\"undefined\"!=typeof window;function ss(){return!!ns&&window.navigator.userAgent.toLowerCase().indexOf(\"firefox\")>-1}function es(){return!!ns&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function rs(t){return t+t%2}function hs(t,i){return t.Id-i.Id}function ls(t,i,n){const s=(t.Id-i.Id)/(t.ot-i.ot);return Math.sign(s)*Math.min(Math.abs(s),n)}class as{constructor(t,i,n,s){this.zd=null,this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=0,this.jd=0,this.Hd=t,this.$d=i,this.Ud=n,this.rs=s}qd(t,i){if(null!==this.zd){if(this.zd.ot===i)return void(this.zd.Id=t);if(Math.abs(this.zd.Id-t)<this.rs)return}this.Nd=this.Ed,this.Ed=this.Ld,this.Ld=this.zd,this.zd={ot:i,Id:t}}Dr(t,i){if(null===this.zd||null===this.Ld)return;if(i-this.zd.ot>50)return;let n=0;const s=ls(this.zd,this.Ld,this.$d),e=hs(this.zd,this.Ld),r=[s],h=[e];if(n+=e,null!==this.Ed){const t=ls(this.Ld,this.Ed,this.$d);if(Math.sign(t)===Math.sign(s)){const i=hs(this.Ld,this.Ed);if(r.push(t),h.push(i),n+=i,null!==this.Nd){const t=ls(this.Ed,this.Nd,this.$d);if(Math.sign(t)===Math.sign(s)){const i=hs(this.Ed,this.Nd);r.push(t),h.push(i),n+=i}}}}let l=0;for(let t=0;t<r.length;++t)l+=h[t]/n*r[t];Math.abs(l)<this.Hd||(this.Fd={Id:t,ot:i},this.jd=l,this.Wd=function(t,i){const n=Math.log(i);return Math.log(1*n/-t)/n}(Math.abs(l),this.Ud))}Qu(t){const i=b(this.Fd),n=t-i.ot;return i.Id+this.jd*(Math.pow(this.Ud,n)-1)/Math.log(this.Ud)}Ju(t){return null===this.Fd||this.Yd(t)===this.Wd}Yd(t){const i=t-b(this.Fd).ot;return Math.min(i,this.Wd)}}class os{constructor(t,i){this.Zd=void 0,this.Xd=void 0,this.Kd=void 0,this.en=!1,this.Gd=t,this.Jd=i,this.Qd()}bt(){this.Qd()}tf(){this.Zd&&this.Gd.removeChild(this.Zd),this.Xd&&this.Gd.removeChild(this.Xd),this.Zd=void 0,this.Xd=void 0}if(){return this.en!==this.nf()||this.Kd!==this.sf()}sf(){return P(T(this.Jd.W().layout.textColor))>160?\"dark\":\"light\"}nf(){return this.Jd.W().layout.attributionLogo}ef(){const t=new URL(location.href);return t.hostname?\"&utm_source=\"+t.hostname+t.pathname:\"\"}Qd(){this.if()&&(this.tf(),this.en=this.nf(),this.en&&(this.Kd=this.sf(),this.Xd=document.createElement(\"style\"),this.Xd.innerText=\"a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}\",this.Zd=document.createElement(\"a\"),this.Zd.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.ef()}`,this.Zd.title=\"Charting by TradingView\",this.Zd.id=\"tv-attr-logo\",this.Zd.target=\"_blank\",this.Zd.innerHTML='<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 35 19\" width=\"35\" height=\"19\" fill=\"none\"><g fill-rule=\"evenodd\" clip-path=\"url(#a)\" clip-rule=\"evenodd\"><path fill=\"var(--stroke)\" d=\"M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z\"/><path fill=\"var(--fill)\" d=\"M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z\"/></g><defs><clipPath id=\"a\"><path fill=\"var(--stroke)\" d=\"M0 0h35v19H0z\"/></clipPath></defs></svg>',this.Zd.toggleAttribute(\"data-dark\",\"dark\"===this.Kd),this.Gd.appendChild(this.Xd),this.Gd.appendChild(this.Zd)))}}function _s(t,n){const s=b(t.ownerDocument).createElement(\"canvas\");t.appendChild(s);const e=i(s,{type:\"device-pixel-content-box\",options:{allowResizeObserver:!1},transform:(t,i)=>({width:Math.max(t.width,i.width),height:Math.max(t.height,i.height)})});return e.resizeCanvasElement(n),e}function us(t){var i;t.width=1,t.height=1,null===(i=t.getContext(\"2d\"))||void 0===i||i.clearRect(0,0,1,1)}function cs(t,i,n,s){t.wl&&t.wl(i,n,s)}function ds(t,i,n,s){t.X(i,n,s)}function fs(t,i,n,s){const e=t(n,s);for(const t of e){const n=t.gt();null!==n&&i(n)}}function vs(t){ns&&void 0!==window.chrome&&t.addEventListener(\"mousedown\",(t=>{if(1===t.button)return t.preventDefault(),!1}))}class ps{constructor(t,i,n){this.rf=0,this.hf=null,this.lf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.af=0,this._f=null,this.uf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.cf=null,this.df=!1,this.ff=null,this.vf=null,this.pf=!1,this.mf=!1,this.bf=!1,this.wf=null,this.gf=null,this.Mf=null,this.xf=null,this.Sf=null,this.kf=null,this.yf=null,this.Cf=0,this.Tf=!1,this.Pf=!1,this.Rf=!1,this.Df=0,this.Vf=null,this.Of=!es(),this.Bf=t=>{this.Af(t)},this.If=t=>{if(this.zf(t)){const i=this.Lf(t);if(++this.af,this._f&&this.af>1){const{Ef:n}=this.Nf(ws(t),this.uf);n<30&&!this.bf&&this.Ff(i,this.jf.Wf),this.Hf()}}else{const i=this.Lf(t);if(++this.rf,this.hf&&this.rf>1){const{Ef:n}=this.Nf(ws(t),this.lf);n<5&&!this.mf&&this.$f(i,this.jf.Uf),this.qf()}}},this.Yf=t,this.jf=i,this.cn=n,this.Zf()}S(){null!==this.wf&&(this.wf(),this.wf=null),null!==this.gf&&(this.gf(),this.gf=null),null!==this.xf&&(this.xf(),this.xf=null),null!==this.Sf&&(this.Sf(),this.Sf=null),null!==this.kf&&(this.kf(),this.kf=null),null!==this.Mf&&(this.Mf(),this.Mf=null),this.Xf(),this.qf()}Kf(t){this.xf&&this.xf();const i=this.Gf.bind(this);if(this.xf=()=>{this.Yf.removeEventListener(\"mousemove\",i)},this.Yf.addEventListener(\"mousemove\",i),this.zf(t))return;const n=this.Lf(t);this.$f(n,this.jf.Jf),this.Of=!0}qf(){null!==this.hf&&clearTimeout(this.hf),this.rf=0,this.hf=null,this.lf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Hf(){null!==this._f&&clearTimeout(this._f),this.af=0,this._f=null,this.uf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Gf(t){if(this.Rf||null!==this.vf)return;if(this.zf(t))return;const i=this.Lf(t);this.$f(i,this.jf.Qf),this.Of=!0}tv(t){const i=Ms(t.changedTouches,b(this.Vf));if(null===i)return;if(this.Df=gs(t),null!==this.yf)return;if(this.Pf)return;this.Tf=!0;const n=this.Nf(ws(i),b(this.vf)),{iv:s,nv:e,Ef:r}=n;if(this.pf||!(r<5)){if(!this.pf){const t=.5*s,i=e>=t&&!this.cn.sv(),n=t>e&&!this.cn.ev();i||n||(this.Pf=!0),this.pf=!0,this.bf=!0,this.Xf(),this.Hf()}if(!this.Pf){const n=this.Lf(t,i);this.Ff(n,this.jf.rv),bs(t)}}}hv(t){if(0!==t.button)return;const i=this.Nf(ws(t),b(this.ff)),{Ef:n}=i;if(n>=5&&(this.mf=!0,this.qf()),this.mf){const i=this.Lf(t);this.$f(i,this.jf.lv)}}Nf(t,i){const n=Math.abs(i.nt-t.nt),s=Math.abs(i.st-t.st);return{iv:n,nv:s,Ef:n+s}}av(t){let i=Ms(t.changedTouches,b(this.Vf));if(null===i&&0===t.touches.length&&(i=t.changedTouches[0]),null===i)return;this.Vf=null,this.Df=gs(t),this.Xf(),this.vf=null,this.kf&&(this.kf(),this.kf=null);const n=this.Lf(t,i);if(this.Ff(n,this.jf.ov),++this.af,this._f&&this.af>1){const{Ef:t}=this.Nf(ws(i),this.uf);t<30&&!this.bf&&this.Ff(n,this.jf.Wf),this.Hf()}else this.bf||(this.Ff(n,this.jf._v),this.jf._v&&bs(t));0===this.af&&bs(t),0===t.touches.length&&this.df&&(this.df=!1,bs(t))}Af(t){if(0!==t.button)return;const i=this.Lf(t);if(this.ff=null,this.Rf=!1,this.Sf&&(this.Sf(),this.Sf=null),ss()){this.Yf.ownerDocument.documentElement.removeEventListener(\"mouseleave\",this.Bf)}if(!this.zf(t))if(this.$f(i,this.jf.uv),++this.rf,this.hf&&this.rf>1){const{Ef:n}=this.Nf(ws(t),this.lf);n<5&&!this.mf&&this.$f(i,this.jf.Uf),this.qf()}else this.mf||this.$f(i,this.jf.cv)}Xf(){null!==this.cf&&(clearTimeout(this.cf),this.cf=null)}dv(t){if(null!==this.Vf)return;const i=t.changedTouches[0];this.Vf=i.identifier,this.Df=gs(t);const n=this.Yf.ownerDocument.documentElement;this.bf=!1,this.pf=!1,this.Pf=!1,this.vf=ws(i),this.kf&&(this.kf(),this.kf=null);{const i=this.tv.bind(this),s=this.av.bind(this);this.kf=()=>{n.removeEventListener(\"touchmove\",i),n.removeEventListener(\"touchend\",s)},n.addEventListener(\"touchmove\",i,{passive:!1}),n.addEventListener(\"touchend\",s,{passive:!1}),this.Xf(),this.cf=setTimeout(this.fv.bind(this,t),240)}const s=this.Lf(t,i);this.Ff(s,this.jf.vv),this._f||(this.af=0,this._f=setTimeout(this.Hf.bind(this),500),this.uf=ws(i))}pv(t){if(0!==t.button)return;const i=this.Yf.ownerDocument.documentElement;ss()&&i.addEventListener(\"mouseleave\",this.Bf),this.mf=!1,this.ff=ws(t),this.Sf&&(this.Sf(),this.Sf=null);{const t=this.hv.bind(this),n=this.Af.bind(this);this.Sf=()=>{i.removeEventListener(\"mousemove\",t),i.removeEventListener(\"mouseup\",n)},i.addEventListener(\"mousemove\",t),i.addEventListener(\"mouseup\",n)}if(this.Rf=!0,this.zf(t))return;const n=this.Lf(t);this.$f(n,this.jf.mv),this.hf||(this.rf=0,this.hf=setTimeout(this.qf.bind(this),500),this.lf=ws(t))}Zf(){this.Yf.addEventListener(\"mouseenter\",this.Kf.bind(this)),this.Yf.addEventListener(\"touchcancel\",this.Xf.bind(this));{const t=this.Yf.ownerDocument,i=t=>{this.jf.bv&&(t.composed&&this.Yf.contains(t.composedPath()[0])||t.target&&this.Yf.contains(t.target)||this.jf.bv())};this.gf=()=>{t.removeEventListener(\"touchstart\",i)},this.wf=()=>{t.removeEventListener(\"mousedown\",i)},t.addEventListener(\"mousedown\",i),t.addEventListener(\"touchstart\",i,{passive:!0})}es()&&(this.Mf=()=>{this.Yf.removeEventListener(\"dblclick\",this.If)},this.Yf.addEventListener(\"dblclick\",this.If)),this.Yf.addEventListener(\"mouseleave\",this.wv.bind(this)),this.Yf.addEventListener(\"touchstart\",this.dv.bind(this),{passive:!0}),vs(this.Yf),this.Yf.addEventListener(\"mousedown\",this.pv.bind(this)),this.gv(),this.Yf.addEventListener(\"touchmove\",(()=>{}),{passive:!1})}gv(){void 0===this.jf.Mv&&void 0===this.jf.xv&&void 0===this.jf.Sv||(this.Yf.addEventListener(\"touchstart\",(t=>this.kv(t.touches)),{passive:!0}),this.Yf.addEventListener(\"touchmove\",(t=>{if(2===t.touches.length&&null!==this.yf&&void 0!==this.jf.xv){const i=ms(t.touches[0],t.touches[1])/this.Cf;this.jf.xv(this.yf,i),bs(t)}}),{passive:!1}),this.Yf.addEventListener(\"touchend\",(t=>{this.kv(t.touches)})))}kv(t){1===t.length&&(this.Tf=!1),2!==t.length||this.Tf||this.df?this.yv():this.Cv(t)}Cv(t){const i=this.Yf.getBoundingClientRect()||{left:0,top:0};this.yf={nt:(t[0].clientX-i.left+(t[1].clientX-i.left))/2,st:(t[0].clientY-i.top+(t[1].clientY-i.top))/2},this.Cf=ms(t[0],t[1]),void 0!==this.jf.Mv&&this.jf.Mv(),this.Xf()}yv(){null!==this.yf&&(this.yf=null,void 0!==this.jf.Sv&&this.jf.Sv())}wv(t){if(this.xf&&this.xf(),this.zf(t))return;if(!this.Of)return;const i=this.Lf(t);this.$f(i,this.jf.Tv),this.Of=!es()}fv(t){const i=Ms(t.touches,b(this.Vf));if(null===i)return;const n=this.Lf(t,i);this.Ff(n,this.jf.Pv),this.bf=!0,this.df=!0}zf(t){return t.sourceCapabilities&&void 0!==t.sourceCapabilities.firesTouchEvents?t.sourceCapabilities.firesTouchEvents:gs(t)<this.Df+500}Ff(t,i){i&&i.call(this.jf,t)}$f(t,i){i&&i.call(this.jf,t)}Lf(t,i){const n=i||t,s=this.Yf.getBoundingClientRect()||{left:0,top:0};return{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,localX:n.clientX-s.left,localY:n.clientY-s.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,Rv:!t.type.startsWith(\"mouse\")&&\"contextmenu\"!==t.type&&\"click\"!==t.type,Dv:t.type,Vv:n.target,Ov:t.view,Bv:()=>{\"touchstart\"!==t.type&&bs(t)}}}}function ms(t,i){const n=t.clientX-i.clientX,s=t.clientY-i.clientY;return Math.sqrt(n*n+s*s)}function bs(t){t.cancelable&&t.preventDefault()}function ws(t){return{nt:t.pageX,st:t.pageY}}function gs(t){return t.timeStamp||performance.now()}function Ms(t,i){for(let n=0;n<t.length;++n)if(t[n].identifier===i)return t[n];return null}function xs(t){return{jc:t.jc,Av:{wr:t.Iv.externalId},zv:t.Iv.cursorStyle}}function Ss(t,i,n){for(const s of t){const t=s.gt();if(null!==t&&t.br){const e=t.br(i,n);if(null!==e)return{Ov:s,Av:e}}}return null}function ks(t,i){return n=>{var s,e,r,h;return(null!==(e=null===(s=n.Dt())||void 0===s?void 0:s.Ta())&&void 0!==e?e:\"\")!==i?[]:null!==(h=null===(r=n.ca)||void 0===r?void 0:r.call(n,t))&&void 0!==h?h:[]}}function ys(t,i,n,s){if(!t.length)return;let e=0;const r=n/2,h=t[0].At(s,!0);let l=1===i?r-(t[0].Vi()-h/2):t[0].Vi()-h/2-r;l=Math.max(0,l);for(let r=1;r<t.length;r++){const h=t[r],a=t[r-1],o=a.At(s,!1),_=h.Vi(),u=a.Vi();if(1===i?_>u-o:_<u+o){const s=u-o*i;h.Oi(s);const r=s-i*o/2;if((1===i?r<0:r>n)&&l>0){const s=1===i?-1-r:r-n,h=Math.min(s,l);for(let n=e;n<t.length;n++)t[n].Oi(t[n].Vi()+i*h);l-=h}}else e=r,l=1===i?u-o-_:_-(u+o)}}class Cs{constructor(i,n,s,e){this.Li=null,this.Lv=null,this.Ev=!1,this.Nv=new ni(200),this.Jr=null,this.Fv=0,this.Wv=!1,this.jv=()=>{this.Wv||this.tn.Hv().$t().$h()},this.$v=()=>{this.Wv||this.tn.Hv().$t().$h()},this.tn=i,this.cn=n,this.So=n.layout,this.Vc=s,this.Uv=\"left\"===e,this.qv=ks(\"normal\",e),this.Yv=ks(\"top\",e),this.Zv=ks(\"bottom\",e),this.Xv=document.createElement(\"div\"),this.Xv.style.height=\"100%\",this.Xv.style.overflow=\"hidden\",this.Xv.style.width=\"25px\",this.Xv.style.left=\"0\",this.Xv.style.position=\"relative\",this.Kv=_s(this.Xv,t({width:16,height:16})),this.Kv.subscribeSuggestedBitmapSizeChanged(this.jv);const r=this.Kv.canvasElement;r.style.position=\"absolute\",r.style.zIndex=\"1\",r.style.left=\"0\",r.style.top=\"0\",this.Gv=_s(this.Xv,t({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.$v);const h=this.Gv.canvasElement;h.style.position=\"absolute\",h.style.zIndex=\"2\",h.style.left=\"0\",h.style.top=\"0\";const l={mv:this.Jv.bind(this),vv:this.Jv.bind(this),lv:this.Qv.bind(this),rv:this.Qv.bind(this),bv:this.tp.bind(this),uv:this.ip.bind(this),ov:this.ip.bind(this),Uf:this.np.bind(this),Wf:this.np.bind(this),Jf:this.sp.bind(this),Tv:this.ep.bind(this)};this.rp=new ps(this.Gv.canvasElement,l,{sv:()=>!this.cn.handleScroll.vertTouchDrag,ev:()=>!0})}S(){this.rp.S(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.$v),us(this.Gv.canvasElement),this.Gv.dispose(),this.Kv.unsubscribeSuggestedBitmapSizeChanged(this.jv),us(this.Kv.canvasElement),this.Kv.dispose(),null!==this.Li&&this.Li.Xo().p(this),this.Li=null}hp(){return this.Xv}P(){return this.So.fontSize}lp(){const t=this.Vc.W();return this.Jr!==t.R&&(this.Nv.ir(),this.Jr=t.R),t}ap(){if(null===this.Li)return 0;let t=0;const i=this.lp(),n=b(this.Kv.canvasElement.getContext(\"2d\"));n.save();const s=this.Li.ja();n.font=this.op(),s.length>0&&(t=Math.max(this.Nv.xi(n,s[0].no),this.Nv.xi(n,s[s.length-1].no)));const e=this._p();for(let i=e.length;i--;){const s=this.Nv.xi(n,e[i].Kt());s>t&&(t=s)}const r=this.Li.Ct();if(null!==r&&null!==this.Lv){const i=this.Li.pn(1,r),s=this.Li.pn(this.Lv.height-2,r);t=Math.max(t,this.Nv.xi(n,this.Li.Fi(Math.floor(Math.min(i,s))+.11111111111111,r)),this.Nv.xi(n,this.Li.Fi(Math.ceil(Math.max(i,s))-.11111111111111,r)))}n.restore();const h=t||34;return rs(Math.ceil(i.C+i.T+i.A+i.I+5+h))}up(t){null!==this.Lv&&n(this.Lv,t)||(this.Lv=t,this.Wv=!0,this.Kv.resizeCanvasElement(t),this.Gv.resizeCanvasElement(t),this.Wv=!1,this.Xv.style.width=`${t.width}px`,this.Xv.style.height=`${t.height}px`)}cp(){return b(this.Lv).width}Gi(t){this.Li!==t&&(null!==this.Li&&this.Li.Xo().p(this),this.Li=t,t.Xo().l(this.do.bind(this),this))}Dt(){return this.Li}ir(){const t=this.tn.dp();this.tn.Hv().$t().L_(t,b(this.Dt()))}fp(t){if(null===this.Lv)return;if(1!==t){this.vp(),this.Kv.applySuggestedBitmapSize();const t=s(this.Kv);null!==t&&(t.useBitmapCoordinateSpace((t=>{this.pp(t),this.Ae(t)})),this.tn.mp(t,this.Zv),this.bp(t),this.tn.mp(t,this.qv),this.wp(t))}this.Gv.applySuggestedBitmapSize();const i=s(this.Gv);null!==i&&(i.useBitmapCoordinateSpace((({context:t,bitmapSize:i})=>{t.clearRect(0,0,i.width,i.height)})),this.gp(i),this.tn.mp(i,this.Yv))}Mp(){return this.Kv.bitmapSize}xp(t,i,n){const s=this.Mp();s.width>0&&s.height>0&&t.drawImage(this.Kv.canvasElement,i,n)}bt(){var t;null===(t=this.Li)||void 0===t||t.ja()}Jv(t){if(null===this.Li||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;const i=this.tn.Hv().$t(),n=this.tn.dp();this.Ev=!0,i.D_(n,this.Li,t.localY)}Qv(t){if(null===this.Li||!this.cn.handleScale.axisPressedMouseMove.price)return;const i=this.tn.Hv().$t(),n=this.tn.dp(),s=this.Li;i.V_(n,s,t.localY)}tp(){if(null===this.Li||!this.cn.handleScale.axisPressedMouseMove.price)return;const t=this.tn.Hv().$t(),i=this.tn.dp(),n=this.Li;this.Ev&&(this.Ev=!1,t.O_(i,n))}ip(t){if(null===this.Li||!this.cn.handleScale.axisPressedMouseMove.price)return;const i=this.tn.Hv().$t(),n=this.tn.dp();this.Ev=!1,i.O_(n,this.Li)}np(t){this.cn.handleScale.axisDoubleClickReset.price&&this.ir()}sp(t){if(null===this.Li)return;!this.tn.Hv().$t().W().handleScale.axisPressedMouseMove.price||this.Li.gh()||this.Li.Vo()||this.Sp(1)}ep(t){this.Sp(0)}_p(){const t=[],i=null===this.Li?void 0:this.Li;return(n=>{for(let s=0;s<n.length;++s){const e=n[s].Rn(this.tn.dp(),i);for(let i=0;i<e.length;i++)t.push(e[i])}})(this.tn.dp().$o()),t}pp({context:t,bitmapSize:i}){const{width:n,height:s}=i,e=this.tn.dp().$t(),r=e.q(),h=e.md();r===h?G(t,0,0,n,s,r):tt(t,0,0,n,s,r,h)}Ae({context:t,bitmapSize:i,horizontalPixelRatio:n}){if(null===this.Lv||null===this.Li||!this.Li.W().borderVisible)return;t.fillStyle=this.Li.W().borderColor;const s=Math.max(1,Math.floor(this.lp().C*n));let e;e=this.Uv?i.width-s:0,t.fillRect(e,0,s,i.height)}bp(t){if(null===this.Lv||null===this.Li)return;const i=this.Li.ja(),n=this.Li.W(),s=this.lp(),e=this.Uv?this.Lv.width-s.T:0;n.borderVisible&&n.ticksVisible&&t.useBitmapCoordinateSpace((({context:t,horizontalPixelRatio:r,verticalPixelRatio:h})=>{t.fillStyle=n.borderColor;const l=Math.max(1,Math.floor(h)),a=Math.floor(.5*h),o=Math.round(s.T*r);t.beginPath();for(const n of i)t.rect(Math.floor(e*r),Math.round(n.La*h)-a,o,l);t.fill()})),t.useMediaCoordinateSpace((({context:t})=>{var r;t.font=this.op(),t.fillStyle=null!==(r=n.textColor)&&void 0!==r?r:this.So.textColor,t.textAlign=this.Uv?\"right\":\"left\",t.textBaseline=\"middle\";const h=this.Uv?Math.round(e-s.A):Math.round(e+s.T+s.A),l=i.map((i=>this.Nv.Mi(t,i.no)));for(let n=i.length;n--;){const s=i[n];t.fillText(s.no,h,s.La+l[n])}}))}vp(){if(null===this.Lv||null===this.Li)return;const t=[],i=this.Li.$o().slice(),n=this.tn.dp(),s=this.lp();this.Li===n.vr()&&this.tn.dp().$o().forEach((t=>{n.dr(t)&&i.push(t)}));const e=this.Li;i.forEach((i=>{i.Rn(n,e).forEach((i=>{i.Oi(null),i.Bi()&&t.push(i)}))})),t.forEach((t=>t.Oi(t.ki())));this.Li.W().alignLabels&&this.kp(t,s)}kp(t,i){if(null===this.Lv)return;const n=this.Lv.height/2,s=t.filter((t=>t.ki()<=n)),e=t.filter((t=>t.ki()>n));s.sort(((t,i)=>i.ki()-t.ki())),e.sort(((t,i)=>t.ki()-i.ki()));for(const n of t){const t=Math.floor(n.At(i)/2),s=n.ki();s>-t&&s<t&&n.Oi(t),s>this.Lv.height-t&&s<this.Lv.height+t&&n.Oi(this.Lv.height-t)}ys(s,1,this.Lv.height,i),ys(e,-1,this.Lv.height,i)}wp(t){if(null===this.Lv)return;const i=this._p(),n=this.lp(),s=this.Uv?\"right\":\"left\";i.forEach((i=>{if(i.Ai()){i.gt(b(this.Li)).X(t,n,this.Nv,s)}}))}gp(t){if(null===this.Lv||null===this.Li)return;const i=this.tn.Hv().$t(),n=[],s=this.tn.dp(),e=i.Yc().Rn(s,this.Li);e.length&&n.push(e);const r=this.lp(),h=this.Uv?\"right\":\"left\";n.forEach((i=>{i.forEach((i=>{i.gt(b(this.Li)).X(t,r,this.Nv,h)}))}))}Sp(t){this.Xv.style.cursor=1===t?\"ns-resize\":\"default\"}do(){const t=this.ap();this.Fv<t&&this.tn.Hv().$t().Xl(),this.Fv=t}op(){return F(this.So.fontSize,this.So.fontFamily)}}function Ts(t,i){var n,s;return null!==(s=null===(n=t._a)||void 0===n?void 0:n.call(t,i))&&void 0!==s?s:[]}function Ps(t,i){var n,s;return null!==(s=null===(n=t.Pn)||void 0===n?void 0:n.call(t,i))&&void 0!==s?s:[]}function Rs(t,i){var n,s;return null!==(s=null===(n=t.Ji)||void 0===n?void 0:n.call(t,i))&&void 0!==s?s:[]}function Ds(t,i){var n,s;return null!==(s=null===(n=t.la)||void 0===n?void 0:n.call(t,i))&&void 0!==s?s:[]}class Vs{constructor(i,n){this.Lv=t({width:0,height:0}),this.yp=null,this.Cp=null,this.Tp=null,this.Pp=null,this.Rp=!1,this.Dp=new D,this.Vp=new D,this.Op=0,this.Bp=!1,this.Ap=null,this.Ip=!1,this.zp=null,this.Lp=null,this.Wv=!1,this.jv=()=>{this.Wv||null===this.Ep||this.$i().$h()},this.$v=()=>{this.Wv||null===this.Ep||this.$i().$h()},this.Jd=i,this.Ep=n,this.Ep.F_().l(this.Np.bind(this),this,!0),this.Fp=document.createElement(\"td\"),this.Fp.style.padding=\"0\",this.Fp.style.position=\"relative\";const s=document.createElement(\"div\");s.style.width=\"100%\",s.style.height=\"100%\",s.style.position=\"relative\",s.style.overflow=\"hidden\",this.Wp=document.createElement(\"td\"),this.Wp.style.padding=\"0\",this.jp=document.createElement(\"td\"),this.jp.style.padding=\"0\",this.Fp.appendChild(s),this.Kv=_s(s,t({width:16,height:16})),this.Kv.subscribeSuggestedBitmapSizeChanged(this.jv);const e=this.Kv.canvasElement;e.style.position=\"absolute\",e.style.zIndex=\"1\",e.style.left=\"0\",e.style.top=\"0\",this.Gv=_s(s,t({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.$v);const r=this.Gv.canvasElement;r.style.position=\"absolute\",r.style.zIndex=\"2\",r.style.left=\"0\",r.style.top=\"0\",this.Hp=document.createElement(\"tr\"),this.Hp.appendChild(this.Wp),this.Hp.appendChild(this.Fp),this.Hp.appendChild(this.jp),this.$p(),this.rp=new ps(this.Gv.canvasElement,this,{sv:()=>null===this.Ap&&!this.Jd.W().handleScroll.vertTouchDrag,ev:()=>null===this.Ap&&!this.Jd.W().handleScroll.horzTouchDrag})}S(){null!==this.yp&&this.yp.S(),null!==this.Cp&&this.Cp.S(),this.Tp=null,this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.$v),us(this.Gv.canvasElement),this.Gv.dispose(),this.Kv.unsubscribeSuggestedBitmapSizeChanged(this.jv),us(this.Kv.canvasElement),this.Kv.dispose(),null!==this.Ep&&this.Ep.F_().p(this),this.rp.S()}dp(){return b(this.Ep)}Up(t){var i,n;null!==this.Ep&&this.Ep.F_().p(this),this.Ep=t,null!==this.Ep&&this.Ep.F_().l(Vs.prototype.Np.bind(this),this,!0),this.$p(),this.Jd.qp().indexOf(this)===this.Jd.qp().length-1?(this.Tp=null!==(i=this.Tp)&&void 0!==i?i:new os(this.Fp,this.Jd),this.Tp.bt()):(null===(n=this.Tp)||void 0===n||n.tf(),this.Tp=null)}Hv(){return this.Jd}hp(){return this.Hp}$p(){if(null!==this.Ep&&(this.Yp(),0!==this.$i().wt().length)){if(null!==this.yp){const t=this.Ep.P_();this.yp.Gi(b(t))}if(null!==this.Cp){const t=this.Ep.R_();this.Cp.Gi(b(t))}}}Zp(){null!==this.yp&&this.yp.bt(),null!==this.Cp&&this.Cp.bt()}g_(){return null!==this.Ep?this.Ep.g_():0}M_(t){this.Ep&&this.Ep.M_(t)}Jf(t){if(!this.Ep)return;this.Xp();const i=t.localX,n=t.localY;this.Kp(i,n,t)}mv(t){this.Xp(),this.Gp(),this.Kp(t.localX,t.localY,t)}Qf(t){var i;if(!this.Ep)return;this.Xp();const n=t.localX,s=t.localY;this.Kp(n,s,t);const e=this.br(n,s);this.Jd.Jp(null!==(i=null==e?void 0:e.zv)&&void 0!==i?i:null),this.$i().Wc(e&&{jc:e.jc,Av:e.Av})}cv(t){null!==this.Ep&&(this.Xp(),this.Qp(t))}Uf(t){null!==this.Ep&&this.tm(this.Vp,t)}Wf(t){this.Uf(t)}lv(t){this.Xp(),this.im(t),this.Kp(t.localX,t.localY,t)}uv(t){null!==this.Ep&&(this.Xp(),this.Bp=!1,this.nm(t))}_v(t){null!==this.Ep&&this.Qp(t)}Pv(t){if(this.Bp=!0,null===this.Ap){const i={x:t.localX,y:t.localY};this.sm(i,i,t)}}Tv(t){null!==this.Ep&&(this.Xp(),this.Ep.$t().Wc(null),this.rm())}hm(){return this.Dp}lm(){return this.Vp}Mv(){this.Op=1,this.$i().Un()}xv(t,i){if(!this.Jd.W().handleScale.pinch)return;const n=5*(i-this.Op);this.Op=i,this.$i().Jc(t.nt,n)}vv(t){this.Bp=!1,this.Ip=null!==this.Ap,this.Gp();const i=this.$i().Yc();null!==this.Ap&&i.yt()&&(this.zp={x:i.Yt(),y:i.Zt()},this.Ap={x:t.localX,y:t.localY})}rv(t){if(null===this.Ep)return;const i=t.localX,n=t.localY;if(null===this.Ap)this.im(t);else{this.Ip=!1;const s=b(this.zp),e=s.x+(i-this.Ap.x),r=s.y+(n-this.Ap.y);this.Kp(e,r,t)}}ov(t){0===this.Hv().W().trackingMode.exitMode&&(this.Ip=!0),this.am(),this.nm(t)}br(t,i){const n=this.Ep;return null===n?null:function(t,i,n){const s=t.$o(),e=function(t,i,n){var s,e;let r,h;for(const o of t){const t=null!==(e=null===(s=o.fa)||void 0===s?void 0:s.call(o,i,n))&&void 0!==e?e:[];for(const i of t)l=i.zOrder,(!(a=null==r?void 0:r.zOrder)||\"top\"===l&&\"top\"!==a||\"normal\"===l&&\"bottom\"===a)&&(r=i,h=o)}var l,a;return r&&h?{Iv:r,jc:h}:null}(s,i,n);if(\"top\"===(null==e?void 0:e.Iv.zOrder))return xs(e);for(const r of s){if(e&&e.jc===r&&\"bottom\"!==e.Iv.zOrder&&!e.Iv.isBackground)return xs(e);const s=Ss(r.Pn(t),i,n);if(null!==s)return{jc:r,Ov:s.Ov,Av:s.Av};if(e&&e.jc===r&&\"bottom\"!==e.Iv.zOrder&&e.Iv.isBackground)return xs(e)}return(null==e?void 0:e.Iv)?xs(e):null}(n,t,i)}om(i,n){b(\"left\"===n?this.yp:this.Cp).up(t({width:i,height:this.Lv.height}))}_m(){return this.Lv}up(t){n(this.Lv,t)||(this.Lv=t,this.Wv=!0,this.Kv.resizeCanvasElement(t),this.Gv.resizeCanvasElement(t),this.Wv=!1,this.Fp.style.width=t.width+\"px\",this.Fp.style.height=t.height+\"px\")}um(){const t=b(this.Ep);t.T_(t.P_()),t.T_(t.R_());for(const i of t.Oa())if(t.dr(i)){const n=i.Dt();null!==n&&t.T_(n),i.Vn()}}Mp(){return this.Kv.bitmapSize}xp(t,i,n){const s=this.Mp();s.width>0&&s.height>0&&t.drawImage(this.Kv.canvasElement,i,n)}fp(t){if(0===t)return;if(null===this.Ep)return;if(t>1&&this.um(),null!==this.yp&&this.yp.fp(t),null!==this.Cp&&this.Cp.fp(t),1!==t){this.Kv.applySuggestedBitmapSize();const t=s(this.Kv);null!==t&&(t.useBitmapCoordinateSpace((t=>{this.pp(t)})),this.Ep&&(this.dm(t,Ts),this.fm(t),this.vm(t),this.dm(t,Ps),this.dm(t,Rs)))}this.Gv.applySuggestedBitmapSize();const i=s(this.Gv);null!==i&&(i.useBitmapCoordinateSpace((({context:t,bitmapSize:i})=>{t.clearRect(0,0,i.width,i.height)})),this.pm(i),this.dm(i,Ds))}bm(){return this.yp}wm(){return this.Cp}mp(t,i){this.dm(t,i)}Np(){null!==this.Ep&&this.Ep.F_().p(this),this.Ep=null}Qp(t){this.tm(this.Dp,t)}tm(t,i){const n=i.localX,s=i.localY;t.M()&&t.m(this.$i().St().Eu(n),{x:n,y:s},i)}pp({context:t,bitmapSize:i}){const{width:n,height:s}=i,e=this.$i(),r=e.q(),h=e.md();r===h?G(t,0,0,n,s,h):tt(t,0,0,n,s,r,h)}fm(t){const i=b(this.Ep).W_().Uh().gt();null!==i&&i.X(t,!1)}vm(t){const i=this.$i().qc();this.gm(t,Ps,cs,i),this.gm(t,Ps,ds,i)}pm(t){this.gm(t,Ps,ds,this.$i().Yc())}dm(t,i){const n=b(this.Ep).$o();for(const s of n)this.gm(t,i,cs,s);for(const s of n)this.gm(t,i,ds,s)}gm(t,i,n,s){const e=b(this.Ep),r=e.$t().Fc(),h=null!==r&&r.jc===s,l=null!==r&&h&&void 0!==r.Av?r.Av.gr:void 0;fs(i,(i=>n(i,t,h,l)),s,e)}Yp(){if(null===this.Ep)return;const t=this.Jd,i=this.Ep.P_().W().visible,n=this.Ep.R_().W().visible;i||null===this.yp||(this.Wp.removeChild(this.yp.hp()),this.yp.S(),this.yp=null),n||null===this.Cp||(this.jp.removeChild(this.Cp.hp()),this.Cp.S(),this.Cp=null);const s=t.$t()._d();i&&null===this.yp&&(this.yp=new Cs(this,t.W(),s,\"left\"),this.Wp.appendChild(this.yp.hp())),n&&null===this.Cp&&(this.Cp=new Cs(this,t.W(),s,\"right\"),this.jp.appendChild(this.Cp.hp()))}Mm(t){return t.Rv&&this.Bp||null!==this.Ap}xm(t){return Math.max(0,Math.min(t,this.Lv.width-1))}Sm(t){return Math.max(0,Math.min(t,this.Lv.height-1))}Kp(t,i,n){this.$i().hd(this.xm(t),this.Sm(i),n,b(this.Ep))}rm(){this.$i().ad()}am(){this.Ip&&(this.Ap=null,this.rm())}sm(t,i,n){this.Ap=t,this.Ip=!1,this.Kp(i.x,i.y,n);const s=this.$i().Yc();this.zp={x:s.Yt(),y:s.Zt()}}$i(){return this.Jd.$t()}nm(t){if(!this.Rp)return;const i=this.$i(),n=this.dp();if(i.I_(n,n.vn()),this.Pp=null,this.Rp=!1,i.sd(),null!==this.Lp){const t=performance.now(),n=i.St();this.Lp.Dr(n.ju(),t),this.Lp.Ju(t)||i.Zn(this.Lp)}}Xp(){this.Ap=null}Gp(){if(!this.Ep)return;if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)b(document.activeElement).blur();else{const t=document.getSelection();null!==t&&t.removeAllRanges()}!this.Ep.vn().Ni()&&this.$i().St().Ni()}im(t){if(null===this.Ep)return;const i=this.$i(),n=i.St();if(n.Ni())return;const s=this.Jd.W(),e=s.handleScroll,r=s.kineticScroll;if((!e.pressedMouseMove||t.Rv)&&(!e.horzTouchDrag&&!e.vertTouchDrag||!t.Rv))return;const h=this.Ep.vn(),l=performance.now();if(null!==this.Pp||this.Mm(t)||(this.Pp={x:t.clientX,y:t.clientY,Vd:l,km:t.localX,ym:t.localY}),null!==this.Pp&&!this.Rp&&(this.Pp.x!==t.clientX||this.Pp.y!==t.clientY)){if(t.Rv&&r.touch||!t.Rv&&r.mouse){const t=n.he();this.Lp=new as(.2/t,7/t,.997,15/t),this.Lp.qd(n.ju(),this.Pp.Vd)}else this.Lp=null;h.Ni()||i.B_(this.Ep,h,t.localY),i.td(t.localX),this.Rp=!0}this.Rp&&(h.Ni()||i.A_(this.Ep,h,t.localY),i.nd(t.localX),null!==this.Lp&&this.Lp.qd(n.ju(),l))}}class Os{constructor(i,n,s,e,r){this.ft=!0,this.Lv=t({width:0,height:0}),this.jv=()=>this.fp(3),this.Uv=\"left\"===i,this.Vc=s._d,this.cn=n,this.Cm=e,this.Tm=r,this.Xv=document.createElement(\"div\"),this.Xv.style.width=\"25px\",this.Xv.style.height=\"100%\",this.Xv.style.overflow=\"hidden\",this.Kv=_s(this.Xv,t({width:16,height:16})),this.Kv.subscribeSuggestedBitmapSizeChanged(this.jv)}S(){this.Kv.unsubscribeSuggestedBitmapSizeChanged(this.jv),us(this.Kv.canvasElement),this.Kv.dispose()}hp(){return this.Xv}_m(){return this.Lv}up(t){n(this.Lv,t)||(this.Lv=t,this.Kv.resizeCanvasElement(t),this.Xv.style.width=`${t.width}px`,this.Xv.style.height=`${t.height}px`,this.ft=!0)}fp(t){if(t<3&&!this.ft)return;if(0===this.Lv.width||0===this.Lv.height)return;this.ft=!1,this.Kv.applySuggestedBitmapSize();const i=s(this.Kv);null!==i&&i.useBitmapCoordinateSpace((t=>{this.pp(t),this.Ae(t)}))}Mp(){return this.Kv.bitmapSize}xp(t,i,n){const s=this.Mp();s.width>0&&s.height>0&&t.drawImage(this.Kv.canvasElement,i,n)}Ae({context:t,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:s}){if(!this.Cm())return;t.fillStyle=this.cn.timeScale.borderColor;const e=Math.floor(this.Vc.W().C*n),r=Math.floor(this.Vc.W().C*s),h=this.Uv?i.width-e:0;t.fillRect(h,0,e,r)}pp({context:t,bitmapSize:i}){G(t,0,0,i.width,i.height,this.Tm())}}function Bs(t){return i=>{var n,s;return null!==(s=null===(n=i.da)||void 0===n?void 0:n.call(i,t))&&void 0!==s?s:[]}}const As=Bs(\"normal\"),Is=Bs(\"top\"),zs=Bs(\"bottom\");class Ls{constructor(i,n){this.Pm=null,this.Rm=null,this.k=null,this.Dm=!1,this.Lv=t({width:0,height:0}),this.Vm=new D,this.Nv=new ni(5),this.Wv=!1,this.jv=()=>{this.Wv||this.Jd.$t().$h()},this.$v=()=>{this.Wv||this.Jd.$t().$h()},this.Jd=i,this.U_=n,this.cn=i.W().layout,this.Zd=document.createElement(\"tr\"),this.Om=document.createElement(\"td\"),this.Om.style.padding=\"0\",this.Bm=document.createElement(\"td\"),this.Bm.style.padding=\"0\",this.Xv=document.createElement(\"td\"),this.Xv.style.height=\"25px\",this.Xv.style.padding=\"0\",this.Am=document.createElement(\"div\"),this.Am.style.width=\"100%\",this.Am.style.height=\"100%\",this.Am.style.position=\"relative\",this.Am.style.overflow=\"hidden\",this.Xv.appendChild(this.Am),this.Kv=_s(this.Am,t({width:16,height:16})),this.Kv.subscribeSuggestedBitmapSizeChanged(this.jv);const s=this.Kv.canvasElement;s.style.position=\"absolute\",s.style.zIndex=\"1\",s.style.left=\"0\",s.style.top=\"0\",this.Gv=_s(this.Am,t({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.$v);const e=this.Gv.canvasElement;e.style.position=\"absolute\",e.style.zIndex=\"2\",e.style.left=\"0\",e.style.top=\"0\",this.Zd.appendChild(this.Om),this.Zd.appendChild(this.Xv),this.Zd.appendChild(this.Bm),this.Im(),this.Jd.$t().w_().l(this.Im.bind(this),this),this.rp=new ps(this.Gv.canvasElement,this,{sv:()=>!0,ev:()=>!this.Jd.W().handleScroll.horzTouchDrag})}S(){this.rp.S(),null!==this.Pm&&this.Pm.S(),null!==this.Rm&&this.Rm.S(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.$v),us(this.Gv.canvasElement),this.Gv.dispose(),this.Kv.unsubscribeSuggestedBitmapSizeChanged(this.jv),us(this.Kv.canvasElement),this.Kv.dispose()}hp(){return this.Zd}zm(){return this.Pm}Lm(){return this.Rm}mv(t){if(this.Dm)return;this.Dm=!0;const i=this.Jd.$t();!i.St().Ni()&&this.Jd.W().handleScale.axisPressedMouseMove.time&&i.Gc(t.localX)}vv(t){this.mv(t)}bv(){const t=this.Jd.$t();!t.St().Ni()&&this.Dm&&(this.Dm=!1,this.Jd.W().handleScale.axisPressedMouseMove.time&&t.rd())}lv(t){const i=this.Jd.$t();!i.St().Ni()&&this.Jd.W().handleScale.axisPressedMouseMove.time&&i.ed(t.localX)}rv(t){this.lv(t)}uv(){this.Dm=!1;const t=this.Jd.$t();t.St().Ni()&&!this.Jd.W().handleScale.axisPressedMouseMove.time||t.rd()}ov(){this.uv()}Uf(){this.Jd.W().handleScale.axisDoubleClickReset.time&&this.Jd.$t().Kn()}Wf(){this.Uf()}Jf(){this.Jd.$t().W().handleScale.axisPressedMouseMove.time&&this.Sp(1)}Tv(){this.Sp(0)}_m(){return this.Lv}Em(){return this.Vm}Nm(i,s,e){n(this.Lv,i)||(this.Lv=i,this.Wv=!0,this.Kv.resizeCanvasElement(i),this.Gv.resizeCanvasElement(i),this.Wv=!1,this.Xv.style.width=`${i.width}px`,this.Xv.style.height=`${i.height}px`,this.Vm.m(i)),null!==this.Pm&&this.Pm.up(t({width:s,height:i.height})),null!==this.Rm&&this.Rm.up(t({width:e,height:i.height}))}Fm(){const t=this.Wm();return Math.ceil(t.C+t.T+t.P+t.L+t.B+t.jm)}bt(){this.Jd.$t().St().ja()}Mp(){return this.Kv.bitmapSize}xp(t,i,n){const s=this.Mp();s.width>0&&s.height>0&&t.drawImage(this.Kv.canvasElement,i,n)}fp(t){if(0===t)return;if(1!==t){this.Kv.applySuggestedBitmapSize();const i=s(this.Kv);null!==i&&(i.useBitmapCoordinateSpace((t=>{this.pp(t),this.Ae(t),this.Hm(i,zs)})),this.bp(i),this.Hm(i,As)),null!==this.Pm&&this.Pm.fp(t),null!==this.Rm&&this.Rm.fp(t)}this.Gv.applySuggestedBitmapSize();const i=s(this.Gv);null!==i&&(i.useBitmapCoordinateSpace((({context:t,bitmapSize:i})=>{t.clearRect(0,0,i.width,i.height)})),this.$m([...this.Jd.$t().wt(),this.Jd.$t().Yc()],i),this.Hm(i,Is))}Hm(t,i){const n=this.Jd.$t().wt();for(const s of n)fs(i,(i=>cs(i,t,!1,void 0)),s,void 0);for(const s of n)fs(i,(i=>ds(i,t,!1,void 0)),s,void 0)}pp({context:t,bitmapSize:i}){G(t,0,0,i.width,i.height,this.Jd.$t().md())}Ae({context:t,bitmapSize:i,verticalPixelRatio:n}){if(this.Jd.W().timeScale.borderVisible){t.fillStyle=this.Um();const s=Math.max(1,Math.floor(this.Wm().C*n));t.fillRect(0,0,i.width,s)}}bp(t){const i=this.Jd.$t().St(),n=i.ja();if(!n||0===n.length)return;const s=this.U_.maxTickMarkWeight(n),e=this.Wm(),r=i.W();r.borderVisible&&r.ticksVisible&&t.useBitmapCoordinateSpace((({context:t,horizontalPixelRatio:i,verticalPixelRatio:s})=>{t.strokeStyle=this.Um(),t.fillStyle=this.Um();const r=Math.max(1,Math.floor(i)),h=Math.floor(.5*i);t.beginPath();const l=Math.round(e.T*s);for(let s=n.length;s--;){const e=Math.round(n[s].coord*i);t.rect(e-h,0,r,l)}t.fill()})),t.useMediaCoordinateSpace((({context:t})=>{const i=e.C+e.T+e.L+e.P/2;t.textAlign=\"center\",t.textBaseline=\"middle\",t.fillStyle=this.$(),t.font=this.op();for(const e of n)if(e.weight<s){const n=e.needAlignCoordinate?this.qm(t,e.coord,e.label):e.coord;t.fillText(e.label,n,i)}this.Jd.W().timeScale.allowBoldLabels&&(t.font=this.Ym());for(const e of n)if(e.weight>=s){const n=e.needAlignCoordinate?this.qm(t,e.coord,e.label):e.coord;t.fillText(e.label,n,i)}}))}qm(t,i,n){const s=this.Nv.xi(t,n),e=s/2,r=Math.floor(i-e)+.5;return r<0?i+=Math.abs(0-r):r+s>this.Lv.width&&(i-=Math.abs(this.Lv.width-(r+s))),i}$m(t,i){const n=this.Wm();for(const s of t)for(const t of s.Qi())t.gt().X(i,n)}Um(){return this.Jd.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}op(){return F(this.j(),this.cn.fontFamily)}Ym(){return F(this.j(),this.cn.fontFamily,\"bold\")}Wm(){null===this.k&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:\"\",Wi:new ni,jm:0});const t=this.k,i=this.op();if(t.R!==i){const n=this.j();t.P=n,t.R=i,t.L=3*n/12,t.B=3*n/12,t.ji=9*n/12,t.N=0,t.jm=4*n/12,t.Wi.ir()}return this.k}Sp(t){this.Xv.style.cursor=1===t?\"ew-resize\":\"default\"}Im(){const t=this.Jd.$t(),i=t.W();i.leftPriceScale.visible||null===this.Pm||(this.Om.removeChild(this.Pm.hp()),this.Pm.S(),this.Pm=null),i.rightPriceScale.visible||null===this.Rm||(this.Bm.removeChild(this.Rm.hp()),this.Rm.S(),this.Rm=null);const n={_d:this.Jd.$t()._d()},s=()=>i.leftPriceScale.borderVisible&&t.St().W().borderVisible,e=()=>t.md();i.leftPriceScale.visible&&null===this.Pm&&(this.Pm=new Os(\"left\",i,n,s,e),this.Om.appendChild(this.Pm.hp())),i.rightPriceScale.visible&&null===this.Rm&&(this.Rm=new Os(\"right\",i,n,s,e),this.Bm.appendChild(this.Rm.hp()))}}const Es=!!ns&&!!navigator.userAgentData&&navigator.userAgentData.brands.some((t=>t.brand.includes(\"Chromium\")))&&!!ns&&((null===(Ns=null===navigator||void 0===navigator?void 0:navigator.userAgentData)||void 0===Ns?void 0:Ns.platform)?\"Windows\"===navigator.userAgentData.platform:navigator.userAgent.toLowerCase().indexOf(\"win\")>=0);var Ns;class Fs{constructor(t,i,n){var s;this.Zm=[],this.Xm=0,this.ro=0,this.o_=0,this.Km=0,this.Gm=0,this.Jm=null,this.Qm=!1,this.Dp=new D,this.Vp=new D,this.Pc=new D,this.tb=null,this.ib=null,this.Gd=t,this.cn=i,this.U_=n,this.Zd=document.createElement(\"div\"),this.Zd.classList.add(\"tv-lightweight-charts\"),this.Zd.style.overflow=\"hidden\",this.Zd.style.direction=\"ltr\",this.Zd.style.width=\"100%\",this.Zd.style.height=\"100%\",(s=this.Zd).style.userSelect=\"none\",s.style.webkitUserSelect=\"none\",s.style.msUserSelect=\"none\",s.style.MozUserSelect=\"none\",s.style.webkitTapHighlightColor=\"transparent\",this.nb=document.createElement(\"table\"),this.nb.setAttribute(\"cellspacing\",\"0\"),this.Zd.appendChild(this.nb),this.sb=this.eb.bind(this),Ws(this.cn)&&this.rb(!0),this.$i=new Ln(this.Dc.bind(this),this.cn,n),this.$t().Zc().l(this.hb.bind(this),this),this.lb=new Ls(this,this.U_),this.nb.appendChild(this.lb.hp());const e=i.autoSize&&this.ab();let r=this.cn.width,h=this.cn.height;if(e||0===r||0===h){const i=t.getBoundingClientRect();r=r||i.width,h=h||i.height}this.ob(r,h),this._b(),t.appendChild(this.Zd),this.ub(),this.$i.St().sc().l(this.$i.Xl.bind(this.$i),this),this.$i.w_().l(this.$i.Xl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}qp(){return this.Zm}cb(){return this.lb}S(){this.rb(!1),0!==this.Xm&&window.cancelAnimationFrame(this.Xm),this.$i.Zc().p(this),this.$i.St().sc().p(this),this.$i.w_().p(this),this.$i.S();for(const t of this.Zm)this.nb.removeChild(t.hp()),t.hm().p(this),t.lm().p(this),t.S();this.Zm=[],b(this.lb).S(),null!==this.Zd.parentElement&&this.Zd.parentElement.removeChild(this.Zd),this.Pc.S(),this.Dp.S(),this.Vp.S(),this.fb()}ob(i,n,s=!1){if(this.ro===n&&this.o_===i)return;const e=function(i){const n=Math.floor(i.width),s=Math.floor(i.height);return t({width:n-n%2,height:s-s%2})}(t({width:i,height:n}));this.ro=e.height,this.o_=e.width;const r=this.ro+\"px\",h=this.o_+\"px\";b(this.Zd).style.height=r,b(this.Zd).style.width=h,this.nb.style.height=r,this.nb.style.width=h,s?this.pb(ut.es(),performance.now()):this.$i.Xl()}fp(t){void 0===t&&(t=ut.es());for(let i=0;i<this.Zm.length;i++)this.Zm[i].fp(t.Hn(i).Fn);this.cn.timeScale.visible&&this.lb.fp(t.jn())}Hh(t){const i=Ws(this.cn);this.$i.Hh(t);const n=Ws(this.cn);n!==i&&this.rb(n),this.ub(),this.mb(t)}hm(){return this.Dp}lm(){return this.Vp}Zc(){return this.Pc}bb(){null!==this.Jm&&(this.pb(this.Jm,performance.now()),this.Jm=null);const t=this.wb(null),i=document.createElement(\"canvas\");i.width=t.width,i.height=t.height;const n=b(i.getContext(\"2d\"));return this.wb(n),i}gb(t){if(\"left\"===t&&!this.Mb())return 0;if(\"right\"===t&&!this.xb())return 0;if(0===this.Zm.length)return 0;return b(\"left\"===t?this.Zm[0].bm():this.Zm[0].wm()).cp()}Sb(){return this.cn.autoSize&&null!==this.tb}kb(){return this.Zd}Jp(t){this.ib=t,this.ib?this.kb().style.setProperty(\"cursor\",t):this.kb().style.removeProperty(\"cursor\")}yb(){return this.ib}Cb(){return m(this.Zm[0])._m()}mb(t){(void 0!==t.autoSize||!this.tb||void 0===t.width&&void 0===t.height)&&(t.autoSize&&!this.tb&&this.ab(),!1===t.autoSize&&null!==this.tb&&this.fb(),t.autoSize||void 0===t.width&&void 0===t.height||this.ob(t.width||this.o_,t.height||this.ro))}wb(i){let n=0,s=0;const e=this.Zm[0],r=(t,n)=>{let s=0;for(let e=0;e<this.Zm.length;e++){const r=this.Zm[e],h=b(\"left\"===t?r.bm():r.wm()),l=h.Mp();null!==i&&h.xp(i,n,s),s+=l.height}};if(this.Mb()){r(\"left\",0);n+=b(e.bm()).Mp().width}for(let t=0;t<this.Zm.length;t++){const e=this.Zm[t],r=e.Mp();null!==i&&e.xp(i,n,s),s+=r.height}if(n+=e.Mp().width,this.xb()){r(\"right\",n);n+=b(e.wm()).Mp().width}const h=(t,n,s)=>{b(\"left\"===t?this.lb.zm():this.lb.Lm()).xp(b(i),n,s)};if(this.cn.timeScale.visible){const t=this.lb.Mp();if(null!==i){let n=0;this.Mb()&&(h(\"left\",n,s),n=b(e.bm()).Mp().width),this.lb.xp(i,n,s),n+=t.width,this.xb()&&h(\"right\",n,s)}s+=t.height}return t({width:n,height:s})}Tb(){let i=0,n=0,s=0;for(const t of this.Zm)this.Mb()&&(n=Math.max(n,b(t.bm()).ap(),this.cn.leftPriceScale.minimumWidth)),this.xb()&&(s=Math.max(s,b(t.wm()).ap(),this.cn.rightPriceScale.minimumWidth)),i+=t.g_();n=rs(n),s=rs(s);const e=this.o_,r=this.ro,h=Math.max(e-n-s,0),l=this.cn.timeScale.visible;let a=l?Math.max(this.lb.Fm(),this.cn.timeScale.minimumHeight):0;var o;a=(o=a)+o%2;const _=0+a,u=r<_?0:r-_,c=u/i;let d=0;for(let i=0;i<this.Zm.length;++i){const e=this.Zm[i];e.Up(this.$i.Uc()[i]);let r=0,l=0;l=i===this.Zm.length-1?u-d:Math.round(e.g_()*c),r=Math.max(l,2),d+=r,e.up(t({width:h,height:r})),this.Mb()&&e.om(n,\"left\"),this.xb()&&e.om(s,\"right\"),e.dp()&&this.$i.Xc(e.dp(),r)}this.lb.Nm(t({width:l?h:0,height:a}),l?n:0,l?s:0),this.$i.x_(h),this.Km!==n&&(this.Km=n),this.Gm!==s&&(this.Gm=s)}rb(t){t?this.Zd.addEventListener(\"wheel\",this.sb,{passive:!1}):this.Zd.removeEventListener(\"wheel\",this.sb)}Pb(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return Es?1/window.devicePixelRatio:1}eb(t){if(!(0!==t.deltaX&&this.cn.handleScroll.mouseWheel||0!==t.deltaY&&this.cn.handleScale.mouseWheel))return;const i=this.Pb(t),n=i*t.deltaX/100,s=-i*t.deltaY/100;if(t.cancelable&&t.preventDefault(),0!==s&&this.cn.handleScale.mouseWheel){const i=Math.sign(s)*Math.min(1,Math.abs(s)),n=t.clientX-this.Zd.getBoundingClientRect().left;this.$t().Jc(n,i)}0!==n&&this.cn.handleScroll.mouseWheel&&this.$t().Qc(-80*n)}pb(t,i){var n;const s=t.jn();3===s&&this.Rb(),3!==s&&2!==s||(this.Db(t),this.Vb(t,i),this.lb.bt(),this.Zm.forEach((t=>{t.Zp()})),3===(null===(n=this.Jm)||void 0===n?void 0:n.jn())&&(this.Jm.ts(t),this.Rb(),this.Db(this.Jm),this.Vb(this.Jm,i),t=this.Jm,this.Jm=null)),this.fp(t)}Vb(t,i){for(const n of t.Qn())this.ns(n,i)}Db(t){const i=this.$i.Uc();for(let n=0;n<i.length;n++)t.Hn(n).Wn&&i[n].E_()}ns(t,i){const n=this.$i.St();switch(t.qn){case 0:n.rc();break;case 1:n.hc(t.Vt);break;case 2:n.Gn(t.Vt);break;case 3:n.Jn(t.Vt);break;case 4:n.Uu();break;case 5:t.Vt.Ju(i)||n.Jn(t.Vt.Qu(i))}}Dc(t){null!==this.Jm?this.Jm.ts(t):this.Jm=t,this.Qm||(this.Qm=!0,this.Xm=window.requestAnimationFrame((t=>{if(this.Qm=!1,this.Xm=0,null!==this.Jm){const i=this.Jm;this.Jm=null,this.pb(i,t);for(const n of i.Qn())if(5===n.qn&&!n.Vt.Ju(t)){this.$t().Zn(n.Vt);break}}})))}Rb(){this._b()}_b(){const t=this.$i.Uc(),i=t.length,n=this.Zm.length;for(let t=i;t<n;t++){const t=m(this.Zm.pop());this.nb.removeChild(t.hp()),t.hm().p(this),t.lm().p(this),t.S()}for(let s=n;s<i;s++){const i=new Vs(this,t[s]);i.hm().l(this.Ob.bind(this),this),i.lm().l(this.Bb.bind(this),this),this.Zm.push(i),this.nb.insertBefore(i.hp(),this.lb.hp())}for(let n=0;n<i;n++){const i=t[n],s=this.Zm[n];s.dp()!==i?s.Up(i):s.$p()}this.ub(),this.Tb()}Ab(t,i,n){var s;const e=new Map;if(null!==t){this.$i.wt().forEach((i=>{const n=i.In().hl(t);null!==n&&e.set(i,n)}))}let r;if(null!==t){const i=null===(s=this.$i.St().Ui(t))||void 0===s?void 0:s.originalTime;void 0!==i&&(r=i)}const h=this.$t().Fc(),l=null!==h&&h.jc instanceof Gi?h.jc:void 0,a=null!==h&&void 0!==h.Av?h.Av.wr:void 0;return{Ib:r,se:null!=t?t:void 0,zb:null!=i?i:void 0,Lb:l,Eb:e,Nb:a,Fb:null!=n?n:void 0}}Ob(t,i,n){this.Dp.m((()=>this.Ab(t,i,n)))}Bb(t,i,n){this.Vp.m((()=>this.Ab(t,i,n)))}hb(t,i,n){this.Pc.m((()=>this.Ab(t,i,n)))}ub(){const t=this.cn.timeScale.visible?\"\":\"none\";this.lb.hp().style.display=t}Mb(){return this.Zm[0].dp().P_().W().visible}xb(){return this.Zm[0].dp().R_().W().visible}ab(){return\"ResizeObserver\"in window&&(this.tb=new ResizeObserver((t=>{const i=t.find((t=>t.target===this.Gd));i&&this.ob(i.contentRect.width,i.contentRect.height)})),this.tb.observe(this.Gd,{box:\"border-box\"}),!0)}fb(){null!==this.tb&&this.tb.disconnect(),this.tb=null}}function Ws(t){return Boolean(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function js(t){return function(t){return void 0!==t.open}(t)||function(t){return void 0!==t.value}(t)}function Hs(t,i){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&i.indexOf(s)<0&&(n[s]=t[s]);if(null!=t&&\"function\"==typeof Object.getOwnPropertySymbols){var e=0;for(s=Object.getOwnPropertySymbols(t);e<s.length;e++)i.indexOf(s[e])<0&&Object.prototype.propertyIsEnumerable.call(t,s[e])&&(n[s[e]]=t[s[e]])}return n}function $s(t,i,n,s){const e=n.value,r={se:i,ot:t,Vt:[e,e,e,e],Ib:s};return void 0!==n.color&&(r.V=n.color),r}function Us(t,i,n,s){const e=n.value,r={se:i,ot:t,Vt:[e,e,e,e],Ib:s};return void 0!==n.lineColor&&(r.lt=n.lineColor),void 0!==n.topColor&&(r.Ts=n.topColor),void 0!==n.bottomColor&&(r.Ps=n.bottomColor),r}function qs(t,i,n,s){const e=n.value,r={se:i,ot:t,Vt:[e,e,e,e],Ib:s};return void 0!==n.topLineColor&&(r.Pe=n.topLineColor),void 0!==n.bottomLineColor&&(r.Re=n.bottomLineColor),void 0!==n.topFillColor1&&(r.Se=n.topFillColor1),void 0!==n.topFillColor2&&(r.ke=n.topFillColor2),void 0!==n.bottomFillColor1&&(r.ye=n.bottomFillColor1),void 0!==n.bottomFillColor2&&(r.Ce=n.bottomFillColor2),r}function Ys(t,i,n,s){const e={se:i,ot:t,Vt:[n.open,n.high,n.low,n.close],Ib:s};return void 0!==n.color&&(e.V=n.color),e}function Zs(t,i,n,s){const e={se:i,ot:t,Vt:[n.open,n.high,n.low,n.close],Ib:s};return void 0!==n.color&&(e.V=n.color),void 0!==n.borderColor&&(e.Ot=n.borderColor),void 0!==n.wickColor&&(e.Zh=n.wickColor),e}function Xs(t,i,n,s,e){const r=m(e)(n),h=Math.max(...r),l=Math.min(...r),a=r[r.length-1],o=[a,h,l,a],_=n,{time:u,color:c}=_;return{se:i,ot:t,Vt:o,Ib:s,He:Hs(_,[\"time\",\"color\"]),V:c}}function Ks(t){return void 0!==t.Vt}function Gs(t,i){return void 0!==i.customValues&&(t.Wb=i.customValues),t}function Js(t){return(i,n,s,e,r,h)=>function(t,i){return i?i(t):void 0===(n=t).open&&void 0===n.value;var n}(s,h)?Gs({ot:i,se:n,Ib:e},s):Gs(t(i,n,s,e,r),s)}function Qs(t){return{Candlestick:Js(Zs),Bar:Js(Ys),Area:Js(Us),Baseline:Js(qs),Histogram:Js($s),Line:Js($s),Custom:Js(Xs)}[t]}function te(t){return{se:0,jb:new Map,ha:t}}function ie(t,i){if(void 0!==t&&0!==t.length)return{Hb:i.key(t[0].ot),$b:i.key(t[t.length-1].ot)}}function ne(t){let i;return t.forEach((t=>{void 0===i&&(i=t.Ib)})),m(i)}class se{constructor(t){this.Ub=new Map,this.qb=new Map,this.Yb=new Map,this.Zb=[],this.U_=t}S(){this.Ub.clear(),this.qb.clear(),this.Yb.clear(),this.Zb=[]}Xb(t,i){let n=0!==this.Ub.size,s=!1;const e=this.qb.get(t);if(void 0!==e)if(1===this.qb.size)n=!1,s=!0,this.Ub.clear();else for(const i of this.Zb)i.pointData.jb.delete(t)&&(s=!0);let r=[];if(0!==i.length){const n=i.map((t=>t.time)),e=this.U_.createConverterToInternalObj(i),h=Qs(t.Jh()),l=t.ya(),a=t.Ca();r=i.map(((i,r)=>{const o=e(i.time),_=this.U_.key(o);let u=this.Ub.get(_);void 0===u&&(u=te(o),this.Ub.set(_,u),s=!0);const c=h(o,u.se,i,n[r],l,a);return u.jb.set(t,c),c}))}n&&this.Kb(),this.Gb(t,r);let h=-1;if(s){const t=[];this.Ub.forEach((i=>{t.push({timeWeight:0,time:i.ha,pointData:i,originalTime:ne(i.jb)})})),t.sort(((t,i)=>this.U_.key(t.time)-this.U_.key(i.time))),h=this.Jb(t)}return this.Qb(t,h,function(t,i,n){const s=ie(t,n),e=ie(i,n);if(void 0!==s&&void 0!==e)return{Ql:s.$b>=e.$b&&s.Hb>=e.Hb}}(this.qb.get(t),e,this.U_))}fd(t){return this.Xb(t,[])}tw(t,i){const n=i;!function(t){void 0===t.Ib&&(t.Ib=t.time)}(n),this.U_.preprocessData(i);const s=this.U_.createConverterToInternalObj([i])(i.time),e=this.Yb.get(t);if(void 0!==e&&this.U_.key(s)<this.U_.key(e))throw new Error(`Cannot update oldest data, last time=${e}, new time=${s}`);let r=this.Ub.get(this.U_.key(s));const h=void 0===r;void 0===r&&(r=te(s),this.Ub.set(this.U_.key(s),r));const l=Qs(t.Jh()),a=t.ya(),o=t.Ca(),_=l(s,r.se,i,n.Ib,a,o);r.jb.set(t,_),this.iw(t,_);const u={Ql:Ks(_)};if(!h)return this.Qb(t,-1,u);const c={timeWeight:0,time:r.ha,pointData:r,originalTime:ne(r.jb)},d=Bt(this.Zb,this.U_.key(c.time),((t,i)=>this.U_.key(t.time)<i));this.Zb.splice(d,0,c);for(let t=d;t<this.Zb.length;++t)ee(this.Zb[t].pointData,t);return this.U_.fillWeightsForPoints(this.Zb,d),this.Qb(t,d,u)}iw(t,i){let n=this.qb.get(t);void 0===n&&(n=[],this.qb.set(t,n));const s=0!==n.length?n[n.length-1]:null;null===s||this.U_.key(i.ot)>this.U_.key(s.ot)?Ks(i)&&n.push(i):Ks(i)?n[n.length-1]=i:n.splice(-1,1),this.Yb.set(t,i.ot)}Gb(t,i){0!==i.length?(this.qb.set(t,i.filter(Ks)),this.Yb.set(t,i[i.length-1].ot)):(this.qb.delete(t),this.Yb.delete(t))}Kb(){for(const t of this.Zb)0===t.pointData.jb.size&&this.Ub.delete(this.U_.key(t.time))}Jb(t){let i=-1;for(let n=0;n<this.Zb.length&&n<t.length;++n){const s=this.Zb[n],e=t[n];if(this.U_.key(s.time)!==this.U_.key(e.time)){i=n;break}e.timeWeight=s.timeWeight,ee(e.pointData,n)}if(-1===i&&this.Zb.length!==t.length&&(i=Math.min(this.Zb.length,t.length)),-1===i)return-1;for(let n=i;n<t.length;++n)ee(t[n].pointData,n);return this.U_.fillWeightsForPoints(t,i),this.Zb=t,i}nw(){if(0===this.qb.size)return null;let t=0;return this.qb.forEach((i=>{0!==i.length&&(t=Math.max(t,i[i.length-1].se))})),t}Qb(t,i,n){const s={sw:new Map,St:{Lu:this.nw()}};if(-1!==i)this.qb.forEach(((i,e)=>{s.sw.set(e,{He:i,ew:e===t?n:void 0})})),this.qb.has(t)||s.sw.set(t,{He:[],ew:n}),s.St.rw=this.Zb,s.St.hw=i;else{const i=this.qb.get(t);s.sw.set(t,{He:i||[],ew:n})}return s}}function ee(t,i){t.se=i,t.jb.forEach((t=>{t.se=i}))}function re(t){const i={value:t.Vt[3],time:t.Ib};return void 0!==t.Wb&&(i.customValues=t.Wb),i}function he(t){const i=re(t);return void 0!==t.V&&(i.color=t.V),i}function le(t){const i=re(t);return void 0!==t.lt&&(i.lineColor=t.lt),void 0!==t.Ts&&(i.topColor=t.Ts),void 0!==t.Ps&&(i.bottomColor=t.Ps),i}function ae(t){const i=re(t);return void 0!==t.Pe&&(i.topLineColor=t.Pe),void 0!==t.Re&&(i.bottomLineColor=t.Re),void 0!==t.Se&&(i.topFillColor1=t.Se),void 0!==t.ke&&(i.topFillColor2=t.ke),void 0!==t.ye&&(i.bottomFillColor1=t.ye),void 0!==t.Ce&&(i.bottomFillColor2=t.Ce),i}function oe(t){const i={open:t.Vt[0],high:t.Vt[1],low:t.Vt[2],close:t.Vt[3],time:t.Ib};return void 0!==t.Wb&&(i.customValues=t.Wb),i}function _e(t){const i=oe(t);return void 0!==t.V&&(i.color=t.V),i}function ue(t){const i=oe(t),{V:n,Ot:s,Zh:e}=t;return void 0!==n&&(i.color=n),void 0!==s&&(i.borderColor=s),void 0!==e&&(i.wickColor=e),i}function ce(t){return{Area:le,Line:he,Baseline:ae,Histogram:he,Bar:_e,Candlestick:ue,Custom:de}[t]}function de(t){const i=t.Ib;return Object.assign(Object.assign({},t.He),{time:i})}const fe={vertLine:{color:\"#9598A1\",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:\"#131722\"},horzLine:{color:\"#9598A1\",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:\"#131722\"},mode:1},ve={vertLines:{color:\"#D6DCDE\",style:0,visible:!0},horzLines:{color:\"#D6DCDE\",style:0,visible:!0}},pe={background:{type:\"solid\",color:\"#FFFFFF\"},textColor:\"#191919\",fontSize:12,fontFamily:N,attributionLogo:!0},me={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:\"#2B2B43\",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},be={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:\"#2B2B43\",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},we={color:\"rgba(0, 0, 0, 0)\",visible:!1,fontSize:48,fontFamily:N,fontStyle:\"\",text:\"\",horzAlign:\"center\",vertAlign:\"center\"};function ge(){return{width:0,height:0,autoSize:!1,layout:pe,crosshair:fe,grid:ve,overlayPriceScales:Object.assign({},me),leftPriceScale:Object.assign(Object.assign({},me),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},me),{visible:!0}),timeScale:be,watermark:we,localization:{locale:ns?navigator.language:\"\",dateFormat:\"dd MMM 'yy\"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class Me{constructor(t,i){this.lw=t,this.aw=i}applyOptions(t){this.lw.$t().Hc(this.aw,t)}options(){return this.Li().W()}width(){return _t(this.aw)?this.lw.gb(this.aw):0}Li(){return b(this.lw.$t().$c(this.aw)).Dt}}function xe(t,i,n){const s=Hs(t,[\"time\",\"originalTime\"]),e=Object.assign({time:i},s);return void 0!==n&&(e.originalTime=n),e}const Se={color:\"#FF0000\",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:\"\",axisLabelColor:\"\",axisLabelTextColor:\"\"};class ke{constructor(t){this.Eh=t}applyOptions(t){this.Eh.Hh(t)}options(){return this.Eh.W()}ow(){return this.Eh}}class ye{constructor(t,i,n,s,e){this._w=new D,this.Ls=t,this.uw=i,this.cw=n,this.U_=e,this.dw=s}S(){this._w.S()}priceFormatter(){return this.Ls.ma()}priceToCoordinate(t){const i=this.Ls.Ct();return null===i?null:this.Ls.Dt().Rt(t,i.Vt)}coordinateToPrice(t){const i=this.Ls.Ct();return null===i?null:this.Ls.Dt().pn(t,i.Vt)}barsInLogicalRange(t){if(null===t)return null;const i=new yn(new xn(t.from,t.to)).hu(),n=this.Ls.In();if(n.Ni())return null;const s=n.hl(i.Vs(),1),e=n.hl(i.ui(),-1),r=b(n.sl()),h=b(n.An());if(null!==s&&null!==e&&s.se>e.se)return{barsBefore:t.from-r,barsAfter:h-t.to};const l={barsBefore:null===s||s.se===r?t.from-r:s.se-r,barsAfter:null===e||e.se===h?h-t.to:h-e.se};return null!==s&&null!==e&&(l.from=s.Ib,l.to=e.Ib),l}setData(t){this.U_,this.Ls.Jh(),this.uw.fw(this.Ls,t),this.pw(\"full\")}update(t){this.Ls.Jh(),this.uw.mw(this.Ls,t),this.pw(\"update\")}dataByIndex(t,i){const n=this.Ls.In().hl(t,i);if(null===n)return null;return ce(this.seriesType())(n)}data(){const t=ce(this.seriesType());return this.Ls.In().ie().map((i=>t(i)))}subscribeDataChanged(t){this._w.l(t)}unsubscribeDataChanged(t){this._w.v(t)}setMarkers(t){this.U_;const i=t.map((t=>xe(t,this.U_.convertHorzItemToInternal(t.time),t.time)));this.Ls.ia(i)}markers(){return this.Ls.na().map((t=>xe(t,t.originalTime,void 0)))}applyOptions(t){this.Ls.Hh(t)}options(){return z(this.Ls.W())}priceScale(){return this.cw.priceScale(this.Ls.Dt().Ta())}createPriceLine(t){const i=V(z(Se),t),n=this.Ls.sa(i);return new ke(n)}removePriceLine(t){this.Ls.ea(t.ow())}seriesType(){return this.Ls.Jh()}attachPrimitive(t){this.Ls.Sa(t),t.attached&&t.attached({chart:this.dw,series:this,requestUpdate:()=>this.Ls.$t().Xl()})}detachPrimitive(t){this.Ls.ka(t),t.detached&&t.detached()}pw(t){this._w.M()&&this._w.m(t)}}class Ce{constructor(t,i,n){this.bw=new D,this.pu=new D,this.Vm=new D,this.$i=t,this.kl=t.St(),this.lb=i,this.kl.tc().l(this.ww.bind(this)),this.kl.nc().l(this.gw.bind(this)),this.lb.Em().l(this.Mw.bind(this)),this.U_=n}S(){this.kl.tc().p(this),this.kl.nc().p(this),this.lb.Em().p(this),this.bw.S(),this.pu.S(),this.Vm.S()}scrollPosition(){return this.kl.ju()}scrollToPosition(t,i){i?this.kl.Gu(t,1e3):this.$i.Jn(t)}scrollToRealTime(){this.kl.Ku()}getVisibleRange(){const t=this.kl.Du();return null===t?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const i={from:this.U_.convertHorzItemToInternal(t.from),to:this.U_.convertHorzItemToInternal(t.to)},n=this.kl.Au(i);this.$i.vd(n)}getVisibleLogicalRange(){const t=this.kl.Ru();return null===t?null:{from:t.Vs(),to:t.ui()}}setVisibleLogicalRange(t){p(t.from<=t.to,\"The from index cannot be after the to index.\"),this.$i.vd(t)}resetTimeScale(){this.$i.Kn()}fitContent(){this.$i.rc()}logicalToCoordinate(t){const i=this.$i.St();return i.Ni()?null:i.It(t)}coordinateToLogical(t){return this.kl.Ni()?null:this.kl.Eu(t)}timeToCoordinate(t){const i=this.U_.convertHorzItemToInternal(t),n=this.kl.Da(i,!1);return null===n?null:this.kl.It(n)}coordinateToTime(t){const i=this.$i.St(),n=i.Eu(t),s=i.Ui(n);return null===s?null:s.originalTime}width(){return this.lb._m().width}height(){return this.lb._m().height}subscribeVisibleTimeRangeChange(t){this.bw.l(t)}unsubscribeVisibleTimeRangeChange(t){this.bw.v(t)}subscribeVisibleLogicalRangeChange(t){this.pu.l(t)}unsubscribeVisibleLogicalRangeChange(t){this.pu.v(t)}subscribeSizeChange(t){this.Vm.l(t)}unsubscribeSizeChange(t){this.Vm.v(t)}applyOptions(t){this.kl.Hh(t)}options(){return Object.assign(Object.assign({},z(this.kl.W())),{barSpacing:this.kl.he()})}ww(){this.bw.M()&&this.bw.m(this.getVisibleRange())}gw(){this.pu.M()&&this.pu.m(this.getVisibleLogicalRange())}Mw(t){this.Vm.m(t.width,t.height)}}function Te(t){if(void 0===t||\"custom\"===t.type)return;const i=t;void 0!==i.minMove&&void 0===i.precision&&(i.precision=function(t){if(t>=1)return 0;let i=0;for(;i<8;i++){const n=Math.round(t);if(Math.abs(n-t)<1e-8)return i;t*=10}return i}(i.minMove))}function Pe(t){return function(t){if(I(t.handleScale)){const i=t.handleScale;t.handleScale={axisDoubleClickReset:{time:i,price:i},axisPressedMouseMove:{time:i,price:i},mouseWheel:i,pinch:i}}else if(void 0!==t.handleScale){const{axisPressedMouseMove:i,axisDoubleClickReset:n}=t.handleScale;I(i)&&(t.handleScale.axisPressedMouseMove={time:i,price:i}),I(n)&&(t.handleScale.axisDoubleClickReset={time:n,price:n})}const i=t.handleScroll;I(i)&&(t.handleScroll={horzTouchDrag:i,vertTouchDrag:i,mouseWheel:i,pressedMouseMove:i})}(t),t}class Re{constructor(t,i,n){this.xw=new Map,this.Sw=new Map,this.kw=new D,this.yw=new D,this.Cw=new D,this.Tw=new se(i);const s=void 0===n?z(ge()):V(z(ge()),Pe(n));this.U_=i,this.lw=new Fs(t,s,i),this.lw.hm().l((t=>{this.kw.M()&&this.kw.m(this.Pw(t()))}),this),this.lw.lm().l((t=>{this.yw.M()&&this.yw.m(this.Pw(t()))}),this),this.lw.Zc().l((t=>{this.Cw.M()&&this.Cw.m(this.Pw(t()))}),this);const e=this.lw.$t();this.Rw=new Ce(e,this.lw.cb(),this.U_)}remove(){this.lw.hm().p(this),this.lw.lm().p(this),this.lw.Zc().p(this),this.Rw.S(),this.lw.S(),this.xw.clear(),this.Sw.clear(),this.kw.S(),this.yw.S(),this.Cw.S(),this.Tw.S()}resize(t,i,n){this.autoSizeActive()||this.lw.ob(t,i,n)}addCustomSeries(t,i){const n=w(t),s=Object.assign(Object.assign({},_),n.defaultOptions());return this.Dw(\"Custom\",s,i,n)}addAreaSeries(t){return this.Dw(\"Area\",l,t)}addBaselineSeries(t){return this.Dw(\"Baseline\",a,t)}addBarSeries(t){return this.Dw(\"Bar\",r,t)}addCandlestickSeries(t={}){return function(t){void 0!==t.borderColor&&(t.borderUpColor=t.borderColor,t.borderDownColor=t.borderColor),void 0!==t.wickColor&&(t.wickUpColor=t.wickColor,t.wickDownColor=t.wickColor)}(t),this.Dw(\"Candlestick\",e,t)}addHistogramSeries(t){return this.Dw(\"Histogram\",o,t)}addLineSeries(t){return this.Dw(\"Line\",h,t)}removeSeries(t){const i=m(this.xw.get(t)),n=this.Tw.fd(i);this.lw.$t().fd(i),this.Vw(n),this.xw.delete(t),this.Sw.delete(i)}fw(t,i){this.Vw(this.Tw.Xb(t,i))}mw(t,i){this.Vw(this.Tw.tw(t,i))}subscribeClick(t){this.kw.l(t)}unsubscribeClick(t){this.kw.v(t)}subscribeCrosshairMove(t){this.Cw.l(t)}unsubscribeCrosshairMove(t){this.Cw.v(t)}subscribeDblClick(t){this.yw.l(t)}unsubscribeDblClick(t){this.yw.v(t)}priceScale(t){return new Me(this.lw,t)}timeScale(){return this.Rw}applyOptions(t){this.lw.Hh(Pe(t))}options(){return this.lw.W()}takeScreenshot(){return this.lw.bb()}autoSizeActive(){return this.lw.Sb()}chartElement(){return this.lw.kb()}paneSize(){const t=this.lw.Cb();return{height:t.height,width:t.width}}setCrosshairPosition(t,i,n){const s=this.xw.get(n);if(void 0===s)return;const e=this.lw.$t().cr(s);null!==e&&this.lw.$t().ld(t,i,e)}clearCrosshairPosition(){this.lw.$t().ad(!0)}Dw(t,i,n={},s){Te(n.priceFormat);const e=V(z(u),z(i),n),r=this.lw.$t().ud(t,e,s),h=new ye(r,this,this,this,this.U_);return this.xw.set(h,r),this.Sw.set(r,h),h}Vw(t){const i=this.lw.$t();i.od(t.St.Lu,t.St.rw,t.St.hw),t.sw.forEach(((t,i)=>i.J(t.He,t.ew))),i.Fu()}Ow(t){return m(this.Sw.get(t))}Pw(t){const i=new Map;t.Eb.forEach(((t,n)=>{const s=n.Jh(),e=ce(s)(t);if(\"Custom\"!==s)p(js(e));else{const t=n.Ca();p(!t||!1===t(e))}i.set(this.Ow(n),e)}));const n=void 0!==t.Lb&&this.Sw.has(t.Lb)?this.Ow(t.Lb):void 0;return{time:t.Ib,logical:t.se,point:t.zb,hoveredSeries:n,hoveredObjectId:t.Nb,seriesData:i,sourceEvent:t.Fb}}}function De(t,i,n){let s;if(A(t)){const i=document.getElementById(t);p(null!==i,`Cannot find element in DOM with id=${t}`),s=i}else s=t;const e=new Re(s,i,n);return i.setOptions(e.options()),e}function Ve(t,i){return De(t,new is,is.Ad(i))}function Oe(){return is}const Be=Object.assign(Object.assign({},u),_);function Ae(){return\"4.2.1\"}export{In as ColorType,at as CrosshairMode,Bn as LastPriceAnimationMode,d as LineStyle,c as LineType,Li as MismatchDirection,An as PriceLineSource,pn as PriceScaleMode,zn as TickMarkType,On as TrackingModeExitMode,Ve as createChart,De as createChartEx,Be as customSeriesDefaultOptions,Oe as defaultHorzScaleBehavior,En as isBusinessDay,Nn as isUTCTimestamp,Ae as version};\n", "// Chart API types and client\n\nexport type ChartInterval = '5min' | '15min' | '30min' | '1hour' | '4hour' | '1day' | '1week';\nexport type RSIDisplayMode = 'line' | 'points';\nexport type VolumeDeltaSourceInterval = '1min' | '5min' | '15min' | '30min' | '1hour' | '4hour';\n\nexport interface CandleBar {\n  time: string | number; // Usually Unix timestamp (seconds) or \"YYYY-MM-DD\" for day/week bars\n  open: number;\n  high: number;\n  low: number;\n  close: number;\n  volume: number;\n}\n\nexport interface RSIPoint {\n  time: string | number;\n  value: number;\n}\n\nexport type CandleBarTuple = [number, number, number, number, number, number]; // time, open, high, low, close, volume\nexport type RSIPointTuple = [number, number]; // time, value\n\n// Public interfaces (Clean objects) used by the app\nexport interface ChartData {\n  interval: ChartInterval;\n  timezone: string;\n  bars: CandleBar[];\n  rsi: RSIPoint[];\n  volumeDeltaRsi: {\n    rsi: RSIPoint[];\n  };\n  volumeDelta?: Array<{\n    time: string | number;\n    delta: number;\n  }>;\n}\n\nexport interface ChartLatestData {\n  interval: ChartInterval;\n  timezone: string;\n  latestBar: CandleBar | null;\n  latestRsi: RSIPoint | null;\n  latestVolumeDeltaRsi: RSIPoint | null;\n  latestVolumeDelta: {\n    time: string | number;\n    delta: number;\n  } | null;\n}\n\n// Internal interfaces (Network response)\ninterface ChartDataRaw extends Omit<ChartData, 'bars' | 'rsi' | 'volumeDeltaRsi' | 'volumeDelta'> {\n  bars: CandleBar[] | CandleBarTuple[];\n  rsi: RSIPoint[] | RSIPointTuple[];\n  volumeDeltaRsi: {\n    rsi: RSIPoint[] | RSIPointTuple[];\n  };\n  volumeDelta?: Array<{ time: string | number; delta: number }> | RSIPointTuple[];\n}\n\ninterface ChartLatestDataRaw extends Omit<ChartLatestData, 'latestBar' | 'latestRsi' | 'latestVolumeDeltaRsi' | 'latestVolumeDelta'> {\n  latestBar: CandleBar | CandleBarTuple | null;\n  latestRsi: RSIPoint | RSIPointTuple | null;\n  latestVolumeDeltaRsi: RSIPoint | RSIPointTuple | null;\n  latestVolumeDelta: { time: string | number; delta: number } | RSIPointTuple | null;\n}\n\nexport interface ChartFetchOptions {\n  vdRsiLength?: number;\n  vdSourceInterval?: VolumeDeltaSourceInterval;\n  vdRsiSourceInterval?: VolumeDeltaSourceInterval;\n  signal?: AbortSignal;\n  onResponseMeta?: (meta: { status: number; chartCacheHeader: string | null }) => void;\n}\n\nfunction normalizeTupleData(data: ChartDataRaw): ChartData {\n  if (!data) return data as any;\n  \n  const barFromTuple = (t: CandleBarTuple): CandleBar => ({\n    time: t[0], open: t[1], high: t[2], low: t[3], close: t[4], volume: t[5]\n  });\n  \n  const pointFromTuple = (t: RSIPointTuple, valueKey = 'value'): RSIPoint | any => ({\n    time: t[0], [valueKey]: t[1]\n  });\n\n  const bars = (Array.isArray(data.bars) && data.bars.length > 0 && Array.isArray(data.bars[0]))\n    ? (data.bars as CandleBarTuple[]).map(barFromTuple)\n    : (data.bars as CandleBar[]);\n\n  const rsi = (Array.isArray(data.rsi) && data.rsi.length > 0 && Array.isArray(data.rsi[0]))\n    ? (data.rsi as RSIPointTuple[]).map((p) => pointFromTuple(p))\n    : (data.rsi as RSIPoint[]);\n\n  const vdRsiPoints = (data.volumeDeltaRsi && Array.isArray(data.volumeDeltaRsi.rsi) && data.volumeDeltaRsi.rsi.length > 0 && Array.isArray(data.volumeDeltaRsi.rsi[0]))\n    ? (data.volumeDeltaRsi.rsi as RSIPointTuple[]).map((p) => pointFromTuple(p))\n    : (data.volumeDeltaRsi?.rsi as RSIPoint[] || []);\n\n  const volumeDelta = (Array.isArray(data.volumeDelta) && data.volumeDelta.length > 0 && Array.isArray(data.volumeDelta[0]))\n    ? (data.volumeDelta as RSIPointTuple[]).map((p) => pointFromTuple(p, 'delta'))\n    : (data.volumeDelta as Array<{ time: string | number; delta: number }>);\n\n  return {\n    ...data,\n    bars,\n    rsi,\n    volumeDeltaRsi: { rsi: vdRsiPoints },\n    volumeDelta\n  };\n}\n\nfunction normalizeLatestTupleData(data: ChartLatestDataRaw): ChartLatestData {\n  if (!data) return data as any;\n  \n  const barFromTuple = (t: CandleBarTuple): CandleBar => ({\n    time: t[0], open: t[1], high: t[2], low: t[3], close: t[4], volume: t[5]\n  });\n  \n  const pointFromTuple = (t: RSIPointTuple, valueKey = 'value'): RSIPoint | any => ({\n    time: t[0], [valueKey]: t[1]\n  });\n\n  const latestBar = Array.isArray(data.latestBar) ? barFromTuple(data.latestBar as CandleBarTuple) : (data.latestBar as CandleBar);\n  const latestRsi = Array.isArray(data.latestRsi) ? pointFromTuple(data.latestRsi as RSIPointTuple) : (data.latestRsi as RSIPoint);\n  const latestVolumeDeltaRsi = Array.isArray(data.latestVolumeDeltaRsi) ? pointFromTuple(data.latestVolumeDeltaRsi as RSIPointTuple) : (data.latestVolumeDeltaRsi as RSIPoint);\n  const latestVolumeDelta = Array.isArray(data.latestVolumeDelta) ? pointFromTuple(data.latestVolumeDelta as RSIPointTuple, 'delta') : (data.latestVolumeDelta as any);\n\n  return {\n    ...data,\n    latestBar,\n    latestRsi,\n    latestVolumeDeltaRsi,\n    latestVolumeDelta\n  };\n}\n\nexport async function fetchChartData(ticker: string, interval: ChartInterval, options: ChartFetchOptions = {}): Promise<ChartData> {\n  const params = new URLSearchParams();\n  params.set('format', 'tuple');\n  if (Number.isFinite(options.vdRsiLength)) {\n    params.set('vdRsiLength', String(Math.max(1, Math.floor(Number(options.vdRsiLength)))));\n  }\n  if (typeof options.vdSourceInterval === 'string' && options.vdSourceInterval) {\n    params.set('vdSourceInterval', options.vdSourceInterval);\n  }\n  if (typeof options.vdRsiSourceInterval === 'string' && options.vdRsiSourceInterval) {\n    params.set('vdRsiSourceInterval', options.vdRsiSourceInterval);\n  }\n  const query = params.toString();\n  const url = `/api/chart?ticker=${encodeURIComponent(ticker)}&interval=${interval}${query ? `&${query}` : ''}`;\n  const response = await fetch(url, { signal: options.signal });\n  if (typeof options.onResponseMeta === 'function') {\n    options.onResponseMeta({\n      status: response.status,\n      chartCacheHeader: response.headers.get('x-chart-cache')\n    });\n  }\n\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({ error: 'Failed to fetch chart data' }));\n    throw new Error(error.error || `HTTP ${response.status}`);\n  }\n\n  const json = await response.json();\n  return normalizeTupleData(json as ChartDataRaw);\n}\n\nexport async function fetchChartLatestData(\n  ticker: string,\n  interval: ChartInterval,\n  options: ChartFetchOptions = {}\n): Promise<ChartLatestData> {\n  const params = new URLSearchParams();\n  params.set('format', 'tuple');\n  if (Number.isFinite(options.vdRsiLength)) {\n    params.set('vdRsiLength', String(Math.max(1, Math.floor(Number(options.vdRsiLength)))));\n  }\n  if (typeof options.vdSourceInterval === 'string' && options.vdSourceInterval) {\n    params.set('vdSourceInterval', options.vdSourceInterval);\n  }\n  if (typeof options.vdRsiSourceInterval === 'string' && options.vdRsiSourceInterval) {\n    params.set('vdRsiSourceInterval', options.vdRsiSourceInterval);\n  }\n  const query = params.toString();\n  const url = `/api/chart/latest?ticker=${encodeURIComponent(ticker)}&interval=${interval}${query ? `&${query}` : ''}`;\n  const response = await fetch(url, { signal: options.signal });\n  if (typeof options.onResponseMeta === 'function') {\n    options.onResponseMeta({\n      status: response.status,\n      chartCacheHeader: response.headers.get('x-chart-cache')\n    });\n  }\n\n  if (!response.ok) {\n    const error = await response.json().catch(() => ({ error: 'Failed to fetch latest chart data' }));\n    throw new Error(error.error || `HTTP ${response.status}`);\n  }\n\n  const json = await response.json();\n  return normalizeLatestTupleData(json as ChartLatestDataRaw);\n}\n", "// RSI Chart configuration and management\n\nimport { RSIPoint, RSIDisplayMode } from './chartApi';\nimport { getAppTimeZone, getAppTimeZoneFormatter } from './timezone';\nimport { isMobileTouch } from './chart';\n\n// Declare Lightweight Charts global\ndeclare const LightweightCharts: any;\ndeclare const LightweightChartsLineTools: any;\n\nexport interface RSIChartOptions {\n  container: HTMLElement;\n  data: RSIPoint[];\n  displayMode: RSIDisplayMode;\n  priceData?: Array<{time: string | number, close: number}>; // For divergence detection\n  lineColor?: string;\n  midlineColor?: string;\n  midlineStyle?: 'dotted' | 'solid';\n  onTrendLineDrawn?: () => void;\n}\n\nexport interface RSIPersistedTrendline {\n  time1: string | number;\n  value1: number;\n  time2: string | number;\n  value2: number;\n}\n\nexport class RSIChart {\n  private static readonly SCALE_LABEL_CHARS = 4;\n  private static readonly SCALE_MIN_WIDTH_PX = 56;\n  private static readonly RSI_DATA_MIN = 0;\n  private static readonly RSI_DATA_MAX = 100;\n  private static readonly RSI_AXIS_MIN = 20;\n  private static readonly RSI_AXIS_MAX = 80;\n  private static readonly MIDLINE_VALUE = 50;\n  private container: HTMLElement;\n  private chart: any;\n  private series: any;\n  private lineTools: any;\n  private displayMode: RSIDisplayMode;\n  private lineColor: string = '#58a6ff';\n  private midlineColor: string = '#ffffff';\n  private midlineStyle: 'dotted' | 'solid' = 'dotted';\n  private data: RSIPoint[];\n  private seriesData: any[] = [];\n  private referenceLines: Array<{value: number, label: string, color: string, lineStyle: number}> = [];\n  private midlinePriceLine: any = null;\n  private priceData: Array<{time: string | number, close: number}> = [];\n  private priceByTime = new Map<string, number>();\n  private indexByTime = new Map<string, number>();\n  private divergencePointTimeKeys = new Set<string>();\n  private divergenceToolActive: boolean = false;\n  private highlightSeries: any = null;\n  private firstPoint: {time: string | number, rsi: number, price: number, index: number} | null = null;\n  private divergencePoints: RSIPoint[] = [];\n  private static readonly MAX_HIGHLIGHT_POINTS = 2000;\n  private static readonly FUTURE_TIMELINE_TRADING_DAYS = 252;\n  private trendLineSeriesList: any[] = [];\n  private trendlineCrossLabels: Array<{ element: HTMLDivElement, anchorTime: string | number, anchorValue: number }> = [];\n  private trendlineDefinitions: RSIPersistedTrendline[] = [];\n  private timelineSeries: any = null;\n  private suppressExternalSync: boolean = false;\n  private onTrendLineDrawn?: () => void;\n\n  constructor(options: RSIChartOptions) {\n    this.container = options.container;\n    this.displayMode = options.displayMode;\n    this.lineColor = options.lineColor || this.lineColor;\n    this.midlineColor = options.midlineColor || this.midlineColor;\n    this.midlineStyle = options.midlineStyle || this.midlineStyle;\n    this.data = this.normalizeRSIData(options.data);\n    this.priceData = options.priceData || [];\n    this.rebuildLookupMaps();\n    this.seriesData = this.buildSeriesData(this.data, this.priceData);\n    this.onTrendLineDrawn = options.onTrendLineDrawn;\n\n    // Create RSI chart\n    this.chart = LightweightCharts.createChart(options.container, {\n      height: 400,\n      layout: {\n        background: { color: '#0d1117' },\n        textColor: '#c9d1d9',\n        fontFamily: \"'SF Mono', 'Menlo', 'Monaco', 'Consolas', monospace\",\n        attributionLogo: false\n      },\n      grid: {\n        vertLines: { visible: false },\n        horzLines: { visible: false }\n      },\n      timeScale: {\n        visible: true,\n        timeVisible: true,\n        secondsVisible: false,\n        borderVisible: true,\n        ticksVisible: true,\n        fixRightEdge: false,\n        rightBarStaysOnScroll: false,\n        rightOffset: 10,\n        tickMarkFormatter: (time: any, tickMarkType: number) => this.formatTickMark(time, tickMarkType),\n        borderColor: '#21262d'  // Show time scale at bottom of RSI chart\n      },\n      rightPriceScale: {\n        borderColor: '#21262d',\n        minimumWidth: RSIChart.SCALE_MIN_WIDTH_PX,\n        entireTextOnly: true,\n        // Default view: 20-80 range (20% margin top + 20% margin bottom)\n        // User can adjust but won't go beyond 0-100 data bounds\n        scaleMargins: {\n          top: 0.2,    // 20% margin = hides 0-20 by default\n          bottom: 0.2  // 20% margin = hides 80-100 by default\n        }\n      },\n      crosshair: {\n        mode: 1 // CrosshairMode.Magnet \u2014 snaps to nearest data point\n      },\n      kineticScroll: {\n        touch: false,\n        mouse: false,\n      },\n      handleScroll: {\n        pressedMouseMove: true,\n        horzTouchDrag: true,\n        vertTouchDrag: isMobileTouch,\n        mouseWheel: true\n      },\n      handleScale: {\n        mouseWheel: true,\n        pinch: true,\n        axisPressedMouseMove: {\n          time: true,\n          price: false\n        },\n        axisDoubleClickReset: {\n          time: true,\n          price: false\n        }\n      }\n    });\n\n    // Add midline at 50\n    this.addReferenceLine(50, 'Midline', this.midlineColor, this.midlineStyleToLineStyle(this.midlineStyle));\n\n    // Add RSI series based on display mode\n    this.updateSeries();\n    this.updateTimelineSeriesData();\n\n    // Set up click handler for divergence detection\n    this.chart.subscribeCrosshairMove((param: any) => {\n      if (this.divergenceToolActive && param && param.time) {\n        // We'll handle the actual click in a separate event\n      }\n    });\n\n    this.chart.subscribeClick((param: any) => {\n      if (this.divergenceToolActive && param && param.time) {\n        this.detectAndHighlightDivergence(param.time);\n      }\n    });\n\n    this.chart.timeScale().subscribeVisibleLogicalRangeChange(() => {\n      this.refreshTrendlineCrossLabels();\n    });\n  }\n\n  private normalizeRSIData(data: RSIPoint[]): RSIPoint[] {\n    return data\n      .filter((point) => (\n        point &&\n        (typeof point.time === 'string' || typeof point.time === 'number') &&\n        Number.isFinite(Number(point.value))\n      ))\n      .map((point) => ({\n        ...point,\n        value: Math.max(\n          RSIChart.RSI_DATA_MIN,\n          Math.min(RSIChart.RSI_DATA_MAX, Number(point.value))\n        )\n      }));\n  }\n\n  private formatRSIScaleLabel(value: number): string {\n    if (!Number.isFinite(value)) return '';\n    const label = Number(value).toFixed(1);\n    return label.length >= RSIChart.SCALE_LABEL_CHARS\n      ? label\n      : label.padEnd(RSIChart.SCALE_LABEL_CHARS, ' ');\n  }\n\n  private fixedRSIAutoscaleInfoProvider(): any {\n    // Return the default axis range (20-80) to match VD-RSI behavior\n    // Combined with scaleMargins, this creates the proper Y-axis bounds\n    return {\n      priceRange: {\n        minValue: RSIChart.RSI_AXIS_MIN,  // 20\n        maxValue: RSIChart.RSI_AXIS_MAX   // 80\n      }\n    };\n  }\n\n  private timeKey(time: string | number): string {\n    return typeof time === 'number' ? String(time) : time;\n  }\n\n  private rebuildLookupMaps(): void {\n    this.priceByTime.clear();\n    this.indexByTime.clear();\n\n    for (let i = 0; i < this.data.length; i++) {\n      const point = this.data[i];\n      this.indexByTime.set(this.timeKey(point.time), i);\n    }\n\n    for (const point of this.priceData) {\n      const price = Number(point.close);\n      if (Number.isFinite(price)) {\n        this.priceByTime.set(this.timeKey(point.time), price);\n      }\n    }\n  }\n\n  private toDateFromScaleTime(time: any): Date | null {\n    if (typeof time === 'number' && Number.isFinite(time)) {\n      return new Date(time * 1000);\n    }\n\n    if (typeof time === 'string' && time.trim()) {\n      const normalized = time.includes('T') ? time : `${time.replace(' ', 'T')}Z`;\n      const parsed = new Date(normalized);\n      return Number.isFinite(parsed.getTime()) ? parsed : null;\n    }\n\n    if (time && typeof time === 'object' && Number.isFinite(time.year) && Number.isFinite(time.month) && Number.isFinite(time.day)) {\n      // BusinessDay-like object\n      return new Date(Date.UTC(Number(time.year), Number(time.month) - 1, Number(time.day), 0, 0, 0));\n    }\n\n    return null;\n  }\n\n  private toUnixSeconds(time: string | number | null | undefined): number | null {\n    if (typeof time === 'number' && Number.isFinite(time)) {\n      return time;\n    }\n    if (typeof time !== 'string' || !time.trim()) {\n      return null;\n    }\n    const normalized = time.includes('T') ? time : `${time.replace(' ', 'T')}Z`;\n    const parsed = new Date(normalized);\n    const ms = parsed.getTime();\n    if (!Number.isFinite(ms)) return null;\n    return Math.floor(ms / 1000);\n  }\n\n  private formatTickMark(time: any, tickMarkType: number): string {\n    const date = this.toDateFromScaleTime(time);\n    if (!date) return '';\n\n    // TickMarkType enum in lightweight-charts:\n    // 0 Year, 1 Month, 2 DayOfMonth, 3 Time, 4 TimeWithSeconds\n    if (tickMarkType === 0) {\n      return date.toLocaleDateString('en-US', {\n        year: 'numeric',\n        timeZone: getAppTimeZone()\n      });\n    }\n\n    if (tickMarkType === 1) {\n      return date.toLocaleDateString('en-US', {\n        month: 'short',\n        timeZone: getAppTimeZone()\n      });\n    }\n\n    // Zoomed in (day/time): show day-of-month only.\n    return date.toLocaleDateString('en-US', {\n      day: 'numeric',\n      timeZone: getAppTimeZone()\n    });\n  }\n\n  private midlineStyleToLineStyle(style: 'dotted' | 'solid'): number {\n    return style === 'solid' ? 0 : 1;\n  }\n\n  isSyncSuppressed(): boolean {\n    return this.suppressExternalSync;\n  }\n\n  private inferBarStepSeconds(): number {\n    if (this.data.length < 2) return 1800;\n\n    const diffs: number[] = [];\n    for (let i = 1; i < this.data.length; i++) {\n      const prev = this.data[i - 1]?.time;\n      const curr = this.data[i]?.time;\n      if (typeof prev !== 'number' || typeof curr !== 'number') continue;\n      const diff = curr - prev;\n      if (Number.isFinite(diff) && diff > 0 && diff <= (8 * 3600)) {\n        diffs.push(diff);\n      }\n    }\n\n    if (diffs.length === 0) return 1800;\n    diffs.sort((a, b) => a - b);\n    return diffs[Math.floor(diffs.length / 2)];\n  }\n\n  private barsPerTradingDayFromStep(stepSeconds: number): number {\n    if (stepSeconds <= 5 * 60) return 78;\n    if (stepSeconds <= 15 * 60) return 26;\n    if (stepSeconds <= 30 * 60) return 13;\n    if (stepSeconds <= 60 * 60) return 7;\n    return 2;\n  }\n\n  private futureBarsForOneYear(): number {\n    const stepSeconds = this.inferBarStepSeconds();\n    return this.barsPerTradingDayFromStep(stepSeconds) * 252;\n  }\n\n  private ensureTimelineSeries(): void {\n    if (this.timelineSeries) return;\n    this.timelineSeries = this.chart.addLineSeries({\n      color: 'rgba(0, 0, 0, 0)',\n      lineVisible: false,\n      pointMarkersVisible: false,\n      priceLineVisible: false,\n      lastValueVisible: false,\n      crosshairMarkerVisible: false\n    });\n  }\n\n  private updateTimelineSeriesData(): void {\n    this.ensureTimelineSeries();\n    if (!this.timelineSeries || this.data.length === 0) return;\n\n    const lastTimeSeconds = this.toUnixSeconds(this.data[this.data.length - 1]?.time);\n    if (lastTimeSeconds === null) return;\n\n    const timelinePoints: Array<{ time: number }> = [{ time: lastTimeSeconds }];\n    let cursor = lastTimeSeconds;\n    let tradingDaysAdded = 0;\n    while (tradingDaysAdded < RSIChart.FUTURE_TIMELINE_TRADING_DAYS) {\n      cursor += 86400;\n      const dayOfWeek = new Date(cursor * 1000).getUTCDay();\n      if (dayOfWeek === 0 || dayOfWeek === 6) continue;\n      timelinePoints.push({ time: cursor });\n      tradingDaysAdded += 1;\n    }\n\n    this.timelineSeries.setData(timelinePoints);\n  }\n\n  private buildSeriesData(\n    data: RSIPoint[],\n    priceData: Array<{time: string | number, close: number}>\n  ): any[] {\n    if (!priceData || priceData.length === 0) return data;\n\n    const rsiByTime = new Map<string, number>();\n    for (const point of data) {\n      rsiByTime.set(String(point.time), Number(point.value));\n    }\n\n    return priceData.map((pricePoint) => {\n      const value = rsiByTime.get(String(pricePoint.time));\n      if (Number.isFinite(value)) {\n        return { time: pricePoint.time, value };\n      }\n      // Whitespace data keeps timeline aligned without drawing a value.\n      return { time: pricePoint.time };\n    });\n  }\n\n  private addReferenceLine(value: number, label: string, color: string, lineStyle: number = 2): void {\n    // Store config for later series recreations\n    this.referenceLines.push({ value, label, color, lineStyle });\n\n    // If series exists, add the line immediately\n    if (this.series) {\n      const priceLine = this.series.createPriceLine({\n        price: value,\n        color,\n        lineWidth: 1,\n        lineStyle,\n        axisLabelVisible: false,\n        title: label\n      });\n      if (label === 'Midline') {\n        this.midlinePriceLine = priceLine;\n      }\n    }\n  }\n\n  private updateSeries(): void {\n    // Remove old series if exists\n    if (this.series) {\n      this.chart.removeSeries(this.series);\n    }\n    this.midlinePriceLine = null;\n\n    // Add new series based on display mode\n    if (this.displayMode === 'line') {\n      this.series = this.chart.addLineSeries({\n        color: this.lineColor,\n        lineWidth: 1,\n        priceFormat: {\n          type: 'custom',\n          minMove: 1,\n          formatter: (value: number) => this.formatRSIScaleLabel(Number(value))\n        },\n        autoscaleInfoProvider: () => this.fixedRSIAutoscaleInfoProvider(),\n        priceLineVisible: false,\n        lastValueVisible: false\n      });\n    } else {\n      // Points mode - using histogram with very thin bars to simulate points\n      this.series = this.chart.addHistogramSeries({\n        color: this.lineColor,\n        priceFormat: {\n          type: 'custom',\n          minMove: 1,\n          formatter: (value: number) => this.formatRSIScaleLabel(Number(value))\n        },\n        autoscaleInfoProvider: () => this.fixedRSIAutoscaleInfoProvider(),\n        priceLineVisible: false,\n        lastValueVisible: false\n      });\n    }\n\n    // Set data\n    if (this.displayMode === 'line') {\n      this.series.setData(this.seriesData);\n    } else {\n      // For histogram (points mode), convert to histogram format\n      this.series.setData(this.seriesData.map(d => {\n        if (Number.isFinite(Number(d.value))) {\n          return {\n            time: d.time,\n            value: d.value,\n            color: this.lineColor\n          };\n        }\n        return { time: d.time };\n      }));\n    }\n\n    // Add reference lines (midline) to the new series\n    this.referenceLines.forEach(config => {\n      const priceLine = this.series.createPriceLine({\n        price: config.value,\n        color: config.color,\n        lineWidth: 1,\n        lineStyle: config.lineStyle,\n        axisLabelVisible: false,\n        title: config.label\n      });\n      if (config.label === 'Midline') {\n        this.midlinePriceLine = priceLine;\n      }\n    });\n  }\n\n  setDisplayMode(mode: RSIDisplayMode): void {\n    if (this.displayMode === mode) return;\n    this.displayMode = mode;\n    this.updateSeries();\n    this.refreshTrendlineCrossLabels();\n  }\n\n  setLineColor(color: string): void {\n    if (!color) return;\n    this.lineColor = color;\n    if (this.displayMode === 'line' && this.series) {\n      this.series.applyOptions({ color });\n    } else if (this.displayMode !== 'line' && this.series) {\n      this.series.applyOptions({ color });\n      this.series.setData(this.seriesData.map(d => {\n        if (Number.isFinite(Number(d.value))) {\n          return {\n            time: d.time,\n            value: d.value,\n            color: this.lineColor\n          };\n        }\n        return { time: d.time };\n      }));\n    }\n  }\n\n  setMidlineOptions(color: string, style: 'dotted' | 'solid'): void {\n    if (color) this.midlineColor = color;\n    if (style) this.midlineStyle = style;\n    const lineStyle = this.midlineStyleToLineStyle(this.midlineStyle);\n    this.referenceLines = this.referenceLines.map((line) => {\n      if (line.label !== 'Midline') return line;\n      return { ...line, color: this.midlineColor, lineStyle };\n    });\n    if (this.midlinePriceLine) {\n      this.midlinePriceLine.applyOptions({\n        color: this.midlineColor,\n        lineStyle\n      });\n    }\n  }\n\n  setData(data: RSIPoint[], priceData?: Array<{time: string | number, close: number}>): void {\n    this.clearDivergence();\n    this.data = this.normalizeRSIData(data);\n    if (priceData) {\n      this.priceData = priceData;\n    }\n    this.rebuildLookupMaps();\n    this.seriesData = this.buildSeriesData(this.data, this.priceData);\n\n    if (this.series) {\n      if (this.displayMode === 'line') {\n        this.series.setData(this.seriesData);\n      } else {\n        this.series.setData(this.seriesData.map(d => {\n          if (Number.isFinite(Number(d.value))) {\n            return {\n              time: d.time,\n              value: d.value,\n              color: this.lineColor\n            };\n          }\n          return { time: d.time };\n        }));\n      }\n    }\n\n    this.updateTimelineSeriesData();\n    this.refreshTrendlineCrossLabels();\n  }\n\n  updateLatestPoint(\n    point: RSIPoint,\n    latestPricePoint?: { time: string | number, close: number }\n  ): boolean {\n    if (!point || (typeof point.time !== 'string' && typeof point.time !== 'number')) return false;\n    const nextValueRaw = Number(point.value);\n    if (!Number.isFinite(nextValueRaw)) return false;\n    if (this.data.length === 0) return false;\n\n    const lastIndex = this.data.length - 1;\n    const lastTime = this.data[lastIndex]?.time;\n    const lastKey = this.timeKey(lastTime);\n    const nextKey = this.timeKey(point.time);\n    if (lastKey !== nextKey) return false;\n\n    const nextValue = Math.max(\n      RSIChart.RSI_DATA_MIN,\n      Math.min(RSIChart.RSI_DATA_MAX, nextValueRaw)\n    );\n    this.data[lastIndex] = {\n      ...this.data[lastIndex],\n      value: nextValue\n    };\n\n    if (latestPricePoint && this.timeKey(latestPricePoint.time) === lastKey) {\n      const nextClose = Number(latestPricePoint.close);\n      if (Number.isFinite(nextClose)) {\n        if (this.priceData.length > 0 && this.timeKey(this.priceData[this.priceData.length - 1].time) === lastKey) {\n          this.priceData[this.priceData.length - 1] = {\n            ...this.priceData[this.priceData.length - 1],\n            close: nextClose\n          };\n        }\n        this.priceByTime.set(lastKey, nextClose);\n      }\n    }\n\n    if (this.seriesData.length > 0 && this.timeKey(this.seriesData[this.seriesData.length - 1].time) === lastKey) {\n      this.seriesData[this.seriesData.length - 1] = {\n        time: lastTime,\n        value: nextValue\n      };\n    } else {\n      this.seriesData = this.buildSeriesData(this.data, this.priceData);\n    }\n\n    if (this.series) {\n      if (this.displayMode === 'line') {\n        this.series.update({ time: lastTime, value: nextValue });\n      } else {\n        this.series.update({ time: lastTime, value: nextValue, color: this.lineColor });\n      }\n    }\n    this.refreshTrendlineCrossLabels();\n    return true;\n  }\n\n  getChart(): any {\n    return this.chart;\n  }\n\n  getSeries(): any {\n    return this.series;\n  }\n\n  getPersistedTrendlines(): RSIPersistedTrendline[] {\n    return this.trendlineDefinitions.map((line) => ({ ...line }));\n  }\n\n  restorePersistedTrendlines(trendlines: RSIPersistedTrendline[]): void {\n    this.clearDivergence();\n    if (!Array.isArray(trendlines) || trendlines.length === 0) return;\n    for (const line of trendlines) {\n      if (!line) continue;\n      const time1 = line.time1;\n      const time2 = line.time2;\n      const value1 = Number(line.value1);\n      const value2 = Number(line.value2);\n      if ((typeof time1 !== 'string' && typeof time1 !== 'number') || (typeof time2 !== 'string' && typeof time2 !== 'number')) continue;\n      if (!Number.isFinite(value1) || !Number.isFinite(value2)) continue;\n      this.drawTrendLine(time1, value1, time2, value2, true);\n    }\n  }\n\n  refreshTrendlineLabels(): void {\n    this.refreshTrendlineCrossLabels();\n  }\n\n\n\n  getLineTools(): any {\n    return this.lineTools;\n  }\n\n  activateDivergenceTool(): void {\n    this.divergenceToolActive = true;\n    // Change cursor to indicate tool is active\n    const container = this.chart.chartElement();\n    if (container) {\n      container.style.cursor = 'crosshair';\n    }\n  }\n\n  deactivateDivergenceTool(): void {\n    this.divergenceToolActive = false;\n    const container = this.chart.chartElement();\n    if (container) {\n      container.style.cursor = 'default';\n    }\n    // Clear any highlights and reset state\n    this.clearHighlights();\n    this.firstPoint = null;\n    this.divergencePoints = [];\n    this.divergencePointTimeKeys.clear();\n  }\n\n  private detectAndHighlightDivergence(clickedTime: string | number): void {\n    // Find the clicked point in RSI data\n    const clickedKey = this.timeKey(clickedTime);\n    const clickedIndex = this.indexByTime.get(clickedKey);\n    if (clickedIndex === undefined) {\n      console.log('Clicked point not found in RSI data');\n      return;\n    }\n\n    const clickedRSI = this.data[clickedIndex].value;\n\n    // Find corresponding price\n    const clickedPrice = this.priceByTime.get(clickedKey);\n    if (!Number.isFinite(clickedPrice)) {\n      console.log('Corresponding price data not found');\n      return;\n    }\n    const clickedPriceValue = Number(clickedPrice);\n\n    // Check if this is the first or second click\n    if (!this.firstPoint) {\n      // First click: store point and find divergence\n      this.firstPoint = {\n        time: clickedTime,\n        rsi: clickedRSI,\n        price: clickedPriceValue,\n        index: clickedIndex\n      };\n\n      // Find all future points with divergence in either direction:\n      // 1) lower RSI + higher price (bearish)\n      // 2) higher RSI + lower price (bullish)\n      this.divergencePoints = [];\n      this.divergencePointTimeKeys.clear();\n\n      for (let i = clickedIndex + 1; i < this.data.length; i++) {\n        const currentRSI = this.data[i].value;\n        const currentTime = this.data[i].time;\n        const currentPrice = this.priceByTime.get(this.timeKey(currentTime));\n\n        if (Number.isFinite(currentPrice)) {\n          const currentPriceValue = Number(currentPrice);\n\n          const bearishDivergence = currentRSI < clickedRSI && currentPriceValue > clickedPriceValue;\n          const bullishDivergence = currentRSI > clickedRSI && currentPriceValue < clickedPriceValue;\n          if (bearishDivergence || bullishDivergence) {\n            this.divergencePoints.push({ time: currentTime, value: currentRSI });\n            this.divergencePointTimeKeys.add(this.timeKey(currentTime));\n          }\n        }\n      }\n\n      console.log(`Found ${this.divergencePoints.length} divergence points from origin (RSI: ${clickedRSI.toFixed(2)}, Price: ${clickedPriceValue.toFixed(2)})`);\n\n      // Highlight the divergence points\n      this.highlightPoints(this.divergencePoints);\n    } else {\n      // Second click: check if it's a divergence point and draw trend line\n      const isValidSecondPoint = this.divergencePointTimeKeys.has(clickedKey);\n\n      if (!isValidSecondPoint) {\n        console.log('Second point must be one of the highlighted divergence points');\n        return;\n      }\n\n      console.log(`Drawing trend line from (RSI: ${this.firstPoint.rsi.toFixed(2)}) to (RSI: ${clickedRSI.toFixed(2)})`);\n\n      // Draw trend line from first point through second point, extending to the right\n      this.drawTrendLine(this.firstPoint.time, this.firstPoint.rsi, clickedTime, clickedRSI);\n\n      // Clear highlights after drawing the line\n      this.clearHighlights();\n\n      // Auto-toggle tool off after drawing one line.\n      this.deactivateDivergenceTool();\n      this.onTrendLineDrawn?.();\n    }\n  }\n\n  private highlightPoints(points: RSIPoint[]): void {\n    // Clear previous highlights\n    this.clearHighlights();\n\n    if (points.length === 0) {\n      return;\n    }\n\n    // Add a marker series to highlight divergence points\n    this.highlightSeries = this.chart.addLineSeries({\n      color: '#ff6b6b',  // Red color for bearish divergence\n      lineVisible: false,\n      pointMarkersVisible: true,\n      pointMarkersRadius: 2,\n      priceLineVisible: false,\n      lastValueVisible: false,\n      crosshairMarkerVisible: false,\n      autoscaleInfoProvider: () => this.fixedRSIAutoscaleInfoProvider()\n    });\n\n    const step = Math.max(1, Math.ceil(points.length / RSIChart.MAX_HIGHLIGHT_POINTS));\n    const displayPoints = step === 1 ? points : points.filter((_, index) => index % step === 0);\n    this.highlightSeries.setData(displayPoints);\n  }\n\n  private clearHighlights(): void {\n    if (this.highlightSeries) {\n      this.chart.removeSeries(this.highlightSeries);\n      this.highlightSeries = null;\n    }\n  }\n\n  private formatMmDdYyFromUnixSeconds(unixSeconds: number | null): string {\n    if (!Number.isFinite(unixSeconds)) return 'N/A';\n    return getAppTimeZoneFormatter('en-US', {\n      month: '2-digit',\n      day: '2-digit',\n      year: '2-digit'\n    }).format(new Date(Math.round(Number(unixSeconds)) * 1000));\n  }\n\n  private createTrendlineCrossLabelElement(text: string): HTMLDivElement {\n    const label = document.createElement('div');\n    label.className = 'trendline-cross-label';\n    label.textContent = text;\n    label.style.position = 'absolute';\n    label.style.zIndex = '29';\n    label.style.minHeight = '24px';\n    label.style.display = 'inline-flex';\n    label.style.alignItems = 'center';\n    label.style.padding = '0 8px';\n    label.style.borderRadius = '4px';\n    label.style.border = '1px solid #30363d';\n    label.style.background = '#161b22';\n    label.style.color = '#c9d1d9';\n    label.style.fontSize = '12px';\n    label.style.fontFamily = \"'SF Mono', 'Menlo', 'Monaco', 'Consolas', monospace\";\n    label.style.pointerEvents = 'none';\n    label.style.whiteSpace = 'nowrap';\n    label.style.transform = 'translate(-50%, calc(-100% - 6px))';\n    return label;\n  }\n\n  private refreshTrendlineCrossLabels(): void {\n    if (!this.chart || !this.series || !this.container) return;\n    const width = this.container.clientWidth;\n    const height = this.container.clientHeight;\n    for (const label of this.trendlineCrossLabels) {\n      const x = this.chart.timeScale().timeToCoordinate(label.anchorTime);\n      const y = this.series.priceToCoordinate(label.anchorValue);\n      if (!Number.isFinite(x) || !Number.isFinite(y) || x < 0 || x > width || y < 0 || y > height) {\n        label.element.style.display = 'none';\n        continue;\n      }\n      label.element.style.display = 'inline-flex';\n      label.element.style.left = `${Math.round(x)}px`;\n      label.element.style.top = `${Math.round(Math.max(8, y))}px`;\n    }\n  }\n\n  private clearTrendlineCrossLabels(): void {\n    for (const label of this.trendlineCrossLabels) {\n      label.element.remove();\n    }\n    this.trendlineCrossLabels = [];\n  }\n\n  private addTrendlineCrossLabel(anchorTime: string | number, anchorValue: number, text: string): void {\n    const element = this.createTrendlineCrossLabelElement(text);\n    this.container.appendChild(element);\n    this.trendlineCrossLabels.push({ element, anchorTime, anchorValue });\n    this.refreshTrendlineCrossLabels();\n  }\n\n  private indexToUnixSeconds(\n    index: number,\n    lastHistoricalIndex: number,\n    firstHistoricalTimeSeconds: number | null,\n    lastHistoricalTimeSeconds: number | null,\n    stepSeconds: number\n  ): number | null {\n    if (!Number.isFinite(index)) return null;\n\n    if (index > lastHistoricalIndex) {\n      if (lastHistoricalTimeSeconds === null) return null;\n      return lastHistoricalTimeSeconds + ((index - lastHistoricalIndex) * stepSeconds);\n    }\n\n    if (index < 0) {\n      if (firstHistoricalTimeSeconds === null) return null;\n      return firstHistoricalTimeSeconds + (index * stepSeconds);\n    }\n\n    const lowerIndex = Math.max(0, Math.floor(index));\n    const upperIndex = Math.min(lastHistoricalIndex, Math.ceil(index));\n    const lowerTime = this.toUnixSeconds(this.data[lowerIndex]?.time);\n    const upperTime = this.toUnixSeconds(this.data[upperIndex]?.time);\n    if (lowerIndex === upperIndex) return lowerTime;\n    if (Number.isFinite(lowerTime) && Number.isFinite(upperTime)) {\n      const ratio = index - lowerIndex;\n      return Number(lowerTime) + ((Number(upperTime) - Number(lowerTime)) * ratio);\n    }\n    if (Number.isFinite(lowerTime)) return Number(lowerTime) + ((index - lowerIndex) * stepSeconds);\n    if (firstHistoricalTimeSeconds === null) return null;\n    return firstHistoricalTimeSeconds + (index * stepSeconds);\n  }\n\n  private computeTrendlineMidlineCrossUnixSeconds(\n    index1: number,\n    value1: number,\n    slope: number,\n    lastHistoricalIndex: number,\n    firstHistoricalTimeSeconds: number | null,\n    lastHistoricalTimeSeconds: number | null,\n    stepSeconds: number\n  ): number | null {\n    if (!Number.isFinite(slope) || Math.abs(slope) < 1e-12) return null;\n    const crossIndex = index1 + ((RSIChart.MIDLINE_VALUE - value1) / slope);\n    if (!Number.isFinite(crossIndex)) return null;\n    return this.indexToUnixSeconds(\n      crossIndex,\n      lastHistoricalIndex,\n      firstHistoricalTimeSeconds,\n      lastHistoricalTimeSeconds,\n      stepSeconds\n    );\n  }\n\n  private drawTrendLine(\n    time1: string | number,\n    value1: number,\n    time2: string | number,\n    value2: number,\n    recordDefinition: boolean = true\n  ): void {\n    const visibleRangeBeforeDraw = this.chart.timeScale().getVisibleLogicalRange?.();\n    this.suppressExternalSync = true;\n    try {\n    // Find the indices of the two points\n    const index1 = this.indexByTime.get(this.timeKey(time1));\n    const index2 = this.indexByTime.get(this.timeKey(time2));\n\n    if (index1 === undefined || index2 === undefined) {\n      console.error('Could not find indices for trend line points');\n      return;\n    }\n\n    // Calculate slope: (y2 - y1) / (x2 - x1)\n    if (index2 === index1) {\n      return;\n    }\n    const slope = (value2 - value1) / (index2 - index1);\n\n    // Create trend line data points extending one year into future bars\n    const trendLineData: RSIPoint[] = [];\n    const futureBars = this.futureBarsForOneYear();\n    const lastHistoricalIndex = this.data.length - 1;\n    const maxIndex = lastHistoricalIndex + futureBars;\n    const stepSeconds = this.inferBarStepSeconds();\n    const firstHistoricalTimeSeconds = this.toUnixSeconds(this.data[0]?.time);\n    const lastHistoricalTime = this.data[lastHistoricalIndex]?.time;\n    const lastHistoricalTimeSeconds = this.toUnixSeconds(lastHistoricalTime);\n\n    // Start from first point and extend to historical + future points.\n    for (let i = index1; i <= maxIndex; i++) {\n      const projectedValue = value1 + slope * (i - index1);\n      // Prevent this helper line from blowing out RSI autoscale.\n      if (projectedValue < RSIChart.RSI_DATA_MIN || projectedValue > RSIChart.RSI_DATA_MAX) {\n        break;\n      }\n      let pointTime: string | number | null = null;\n      if (i <= lastHistoricalIndex) {\n        pointTime = this.data[i]?.time ?? null;\n      } else if (lastHistoricalTimeSeconds !== null) {\n        pointTime = lastHistoricalTimeSeconds + ((i - lastHistoricalIndex) * stepSeconds);\n      }\n      if (pointTime === null || pointTime === undefined) continue;\n      trendLineData.push({\n        time: pointTime,\n        value: projectedValue\n      });\n    }\n\n    if (!trendLineData.length) return;\n\n    // Create new trend line series (keep existing lines on chart)\n    const trendLineSeries = this.chart.addLineSeries({\n      color: '#ffa500',  // Orange color for trend line\n      lineWidth: 1,\n      lineStyle: 0, // Solid line\n      autoscaleInfoProvider: () => this.fixedRSIAutoscaleInfoProvider(),\n      priceLineVisible: false,\n      lastValueVisible: false,\n      crosshairMarkerVisible: false\n    });\n    this.trendLineSeriesList.push(trendLineSeries);\n\n    trendLineSeries.setData(trendLineData);\n    const crossUnixSeconds = this.computeTrendlineMidlineCrossUnixSeconds(\n      index1,\n      value1,\n      slope,\n      lastHistoricalIndex,\n      firstHistoricalTimeSeconds,\n      lastHistoricalTimeSeconds,\n      stepSeconds\n    );\n    this.addTrendlineCrossLabel(time1, value1, this.formatMmDdYyFromUnixSeconds(crossUnixSeconds));\n    if (recordDefinition) {\n      this.trendlineDefinitions.push({\n        time1,\n        value1: Number(value1),\n        time2,\n        value2: Number(value2)\n      });\n    }\n    } finally {\n      if (visibleRangeBeforeDraw) {\n        try {\n          this.chart.timeScale().setVisibleLogicalRange(visibleRangeBeforeDraw);\n        } catch {\n          // Keep the current viewport stable after drawing.\n        }\n      }\n      this.suppressExternalSync = false;\n    }\n  }\n\n  clearDivergence(preserveViewport: boolean = false): void {\n    const visibleRangeBeforeClear = preserveViewport\n      ? this.chart.timeScale().getVisibleLogicalRange?.()\n      : null;\n\n    if (preserveViewport) {\n      this.suppressExternalSync = true;\n    }\n\n    try {\n      this.clearHighlights();\n      this.clearTrendlineCrossLabels();\n\n      // Clear all trend lines\n      for (const trendLineSeries of this.trendLineSeriesList) {\n        try {\n          this.chart.removeSeries(trendLineSeries);\n        } catch {\n          // Ignore stale trendline series remove errors.\n        }\n      }\n      this.trendLineSeriesList = [];\n      this.trendlineDefinitions = [];\n\n      // Reset state\n      this.firstPoint = null;\n      this.divergencePoints = [];\n      this.divergencePointTimeKeys.clear();\n    } finally {\n      if (preserveViewport && visibleRangeBeforeClear) {\n        try {\n          this.chart.timeScale().setVisibleLogicalRange(visibleRangeBeforeClear);\n        } catch {\n          // Keep viewport stable after clearing.\n        }\n      }\n      if (preserveViewport) {\n        this.suppressExternalSync = false;\n      }\n    }\n  }\n\n  resize(): void {\n    if (this.chart) {\n      this.chart.resize(this.chart.options().width, 400);\n      this.refreshTrendlineCrossLabels();\n    }\n  }\n\n  destroy(): void {\n    if (this.chart) {\n      this.clearTrendlineCrossLabels();\n      this.chart.remove();\n    }\n  }\n}\n", "import { createChart, CrosshairMode } from 'lightweight-charts';\nimport { fetchChartData, fetchChartLatestData, ChartData, ChartLatestData, ChartInterval, VolumeDeltaSourceInterval } from './chartApi';\nimport { RSIChart, RSIPersistedTrendline } from './rsi';\nimport {\n  DIVERGENCE_LOOKBACK_DAYS,\n  DivergenceSummaryEntry,\n  getTickerDivergenceSummary,\n} from './divergenceTable';\nimport { getAppTimeZone, getAppTimeZoneFormatter } from './timezone';\nimport { escapeHtml } from './utils';\n\ndeclare const Chart: any;\n\nlet currentChartTicker: string | null = null;\nlet currentChartInterval: ChartInterval = '1day';\nlet priceChart: any = null;\nlet candleSeries: any = null;\nlet priceTimelineSeries: any = null;\nlet rsiChart: RSIChart | null = null;\nlet volumeDeltaRsiChart: any = null;\nlet volumeDeltaRsiSeries: any = null;\nlet volumeDeltaRsiTimelineSeries: any = null;\nlet volumeDeltaRsiMidlineLine: any = null;\nlet volumeDeltaChart: any = null;\n\nlet volumeDeltaHistogramSeries: any = null;\nlet volumeDeltaTimelineSeries: any = null;\nlet volumeDeltaRsiPoints: Array<{ time: string | number, value: number }> = [];\nlet volumeDeltaIndexByTime = new Map<string, number>();\nlet volumeDeltaHighlightSeries: any = null;\nlet volumeDeltaTrendLineSeriesList: any[] = [];\nlet volumeDeltaTrendlineCrossLabels: Array<{\n  element: HTMLDivElement;\n  anchorTime: string | number;\n  anchorValue: number;\n}> = [];\nlet volumeDeltaTrendlineDefinitions: RSIPersistedTrendline[] = [];\nlet volumeDeltaDivergencePointTimeKeys = new Set<string>();\nlet volumeDeltaFirstPoint: { time: string | number, rsi: number, price: number, index: number } | null = null;\nlet volumeDeltaDivergenceToolActive = false;\nlet rsiDivergenceToolActive = false;\nlet volumeDeltaSuppressSync = false;\nlet chartResizeObserver: ResizeObserver | null = null;\nlet isChartSyncBound = false;\nlet latestRenderRequestId = 0;\nlet pricePaneContainerEl: HTMLElement | null = null;\nlet volumeDeltaPaneContainerEl: HTMLElement | null = null;\nlet priceByTime = new Map<string, number>();\nlet priceChangeByTime = new Map<string, number>();\nlet rsiByTime = new Map<string, number>();\nlet volumeDeltaRsiByTime = new Map<string, number>();\nlet volumeDeltaByTime = new Map<string, number>();\nlet barIndexByTime = new Map<string, number>();\nlet currentBars: any[] = [];\nlet monthBoundaryTimes: number[] = [];\nlet priceMonthGridOverlayEl: HTMLDivElement | null = null;\nlet volumeDeltaRsiMonthGridOverlayEl: HTMLDivElement | null = null;\nlet volumeDeltaMonthGridOverlayEl: HTMLDivElement | null = null;\nlet rsiMonthGridOverlayEl: HTMLDivElement | null = null;\nlet priceSettingsPanelEl: HTMLDivElement | null = null;\nlet volumeDeltaSettingsPanelEl: HTMLDivElement | null = null;\nlet volumeDeltaRsiSettingsPanelEl: HTMLDivElement | null = null;\nlet rsiSettingsPanelEl: HTMLDivElement | null = null;\nlet volumeDeltaDivergenceSummaryEl: HTMLDivElement | null = null;\nlet rsiDivergencePlotToolActive = false;\nlet volumeDeltaRsiDivergencePlotToolActive = false;\nlet rsiDivergencePlotSelected = false;\nlet volumeDeltaRsiDivergencePlotSelected = false;\nlet rsiDivergencePlotStartIndex: number | null = null;\nlet volumeDeltaRsiDivergencePlotStartIndex: number | null = null;\nlet rsiDivergenceOverlayEl: HTMLDivElement | null = null;\nlet volumeDeltaRsiDivergenceOverlayEl: HTMLDivElement | null = null;\nlet rsiDivergenceOverlayChart: any = null;\nlet volumeDeltaRsiDivergenceOverlayChart: any = null;\nlet hasLoadedSettingsFromStorage = false;\nlet chartFetchAbortController: AbortController | null = null;\nlet prefetchAbortController: AbortController | null = null;\nlet chartActivelyLoading = false;\nlet intervalSwitchDebounceTimer: number | null = null;\nlet chartLiveRefreshTimer: number | null = null;\nlet chartLiveRefreshInFlight = false;\nlet chartDataCache = new Map<string, { data: ChartData; updatedAt: number }>();\nlet chartCacheHydratedFromSession = false;\nlet chartCachePersistTimer: number | null = null;\nlet chartLayoutRefreshRafId: number | null = null;\nlet chartPrefetchInFlight = new Map<string, Promise<void>>();\nlet vdfButtonEl: HTMLButtonElement | null = null;\nlet vdfRefreshButtonEl: HTMLButtonElement | null = null;\nlet vdfLoadingForTicker: string | null = null;\ninterface VDFZone {\n  startDate: string; endDate: string; score: number; windowDays: number;\n  absorptionPct?: number; netDeltaPct?: number; accumWeekRatio?: number;\n  overallPriceChange?: number; accumWeeks?: number; weeks?: number;\n  durationMultiplier?: number;\n  concordancePenalty?: number; concordantFrac?: number;\n  components?: { s1: number; s2: number; s3: number; s4: number; s5: number; s6: number; s7: number; s8?: number };\n}\ninterface VDFDistribution { startDate: string; endDate: string; spanDays: number; priceChangePct?: number; netDeltaPct?: number; }\ninterface VDFProximity { compositeScore: number; level: string; signals: Array<{ type: string; points: number; detail: string }>; }\ninterface VDFCacheEntry {\n  is_detected: boolean; composite_score: number; status: string; weeks: number;\n  zones: VDFZone[]; allZones: VDFZone[]; distribution: VDFDistribution[]; proximity: VDFProximity;\n  details?: { metrics?: { totalDays?: number; scanStart?: string; scanEnd?: string; preDays?: number; recentCutoff?: string }; reason?: string };\n}\nlet vdfResultCache = new Map<string, VDFCacheEntry>();\nlet vdZoneOverlayEl: HTMLDivElement | null = null;\nlet vdfAnalysisPanelEl: HTMLDivElement | null = null;\nconst VDF_CACHE_MAX_SIZE = 200;\nconst TREND_ICON = '\u270E';\nconst ERASE_ICON = '\u232B';\nconst DIVERGENCE_ICON = 'D';\nconst INTERVAL_SWITCH_DEBOUNCE_MS = 120;\nconst CHART_LIVE_REFRESH_MS = 15 * 60 * 1000;\nconst CHART_CLIENT_CACHE_TTL_MS = 15 * 60 * 1000;\nconst CHART_CLIENT_CACHE_MAX_ENTRIES = 16;\nconst CHART_SESSION_CACHE_KEY = 'custom_chart_session_cache_v1';\nconst CHART_SESSION_CACHE_MAX_ENTRIES = 6;\nconst CHART_SESSION_CACHE_MAX_BYTES = 900_000;\nconst RIGHT_MARGIN_BARS = 10;\nconst FUTURE_TIMELINE_TRADING_DAYS = 252;\nconst SCALE_LABEL_CHARS = 4;\nconst SCALE_MIN_WIDTH_PX = 56;\nconst INVALID_SYMBOL_MESSAGE = 'Invalid symbol';\nconst MONTH_GRIDLINE_COLOR = '#21262d';\nconst SETTINGS_ICON = '\u2699';\nconst SETTINGS_STORAGE_KEY = 'custom_chart_settings_v1';\n\n/** Detect touch-capable device \u2014 shared with rsi.ts */\nexport const isMobileTouch: boolean =\n  typeof window !== 'undefined' &&\n  (window.matchMedia('(max-width: 768px)').matches ||\n   'ontouchstart' in window ||\n   navigator.maxTouchPoints > 0);\nconst TRENDLINES_STORAGE_KEY = 'custom_chart_trendlines_v1';\nconst TOP_PANE_TICKER_LABEL_CLASS = 'top-pane-ticker-label';\nconst TOP_PANE_BADGE_CLASS = 'top-pane-badge';\nconst TOP_PANE_BADGE_START_LEFT_PX = 38;\nconst TOP_PANE_BADGE_GAP_PX = 6;\nconst PANE_SETTINGS_BUTTON_LEFT_PX = 8;\nconst PANE_TOOL_BUTTON_TOP_PX = 8;\nconst PANE_TOOL_BUTTON_SIZE_PX = 24;\nconst PANE_TOOL_BUTTON_GAP_PX = 6;\nconst VOLUME_DELTA_RSI_COLOR = '#2962FF';\nconst VOLUME_DELTA_MIDLINE = 50;\nconst RSI_MIDLINE_VALUE = 50;\nconst VOLUME_DELTA_AXIS_MIN = 20;\nconst VOLUME_DELTA_AXIS_MAX = 80;\nconst VOLUME_DELTA_DATA_MIN = 0;\nconst VOLUME_DELTA_DATA_MAX = 100;\nconst VOLUME_DELTA_MAX_HIGHLIGHT_POINTS = 2000;\nconst DIVERGENCE_HIGHLIGHT_COLOR = '#ff6b6b';\nconst TRENDLINE_COLOR = '#ffa500';\nconst VOLUME_DELTA_POSITIVE_COLOR = '#089981';\nconst VOLUME_DELTA_NEGATIVE_COLOR = '#f23645';\nconst VOLUME_DELTA_SOURCE_OPTIONS: Array<{ value: VolumeDeltaSourceInterval; label: string }> = [\n  { value: '1min', label: '1 min' },\n  { value: '5min', label: '5 min' },\n  { value: '15min', label: '15 min' },\n  { value: '30min', label: '30 min' },\n  { value: '1hour', label: '1 hour' },\n  { value: '4hour', label: '4 hour' }\n];\nconst CHART_PERF_SAMPLE_MAX = 180;\nconst PREFETCH_INTERVAL_TARGETS: Record<ChartInterval, ChartInterval[]> = {\n  '5min': [],\n  '15min': [],\n  '30min': [],\n  '1hour': [],\n  '4hour': ['1day'],\n  '1day': ['4hour', '1week'],\n  '1week': ['1day']\n};\n\ntype MAType = 'SMA' | 'EMA';\ntype MASourceMode = 'daily' | 'timeframe';\ntype MidlineStyle = 'dotted' | 'solid';\ntype PaneId = 'price-chart-container' | 'vd-rsi-chart-container' | 'rsi-chart-container' | 'vd-chart-container';\ntype TrendToolPane = 'rsi' | 'volumeDeltaRsi';\ntype PaneControlType = 'price' | 'volumeDelta' | 'volumeDeltaRsi' | 'rsi';\n\ninterface MASetting {\n  enabled: boolean;\n  type: MAType;\n  length: number;\n  color: string;\n  series: any | null;\n  values: Array<number | null>;\n}\n\ninterface PriceChartSettings {\n  maSourceMode: MASourceMode;\n  verticalGridlines: boolean;\n  horizontalGridlines: boolean;\n  ma: MASetting[];\n}\n\ninterface RSISettings {\n  length: number;\n  lineColor: string;\n  midlineColor: string;\n  midlineStyle: MidlineStyle;\n}\n\ninterface VolumeDeltaRSISettings {\n  length: number;\n  lineColor: string;\n  midlineColor: string;\n  midlineStyle: MidlineStyle;\n  sourceInterval: VolumeDeltaSourceInterval;\n}\n\ninterface VolumeDeltaSettings {\n  sourceInterval: VolumeDeltaSourceInterval;\n  divergenceTable: boolean;\n  divergentPriceBars: boolean;\n  bullishDivergentColor: string;\n  bearishDivergentColor: string;\n  neutralDivergentColor: string;\n}\n\ninterface PersistedMASetting {\n  enabled: boolean;\n  type: MAType;\n  length: number;\n  color: string;\n}\n\ninterface PersistedChartSettings {\n  price: {\n    maSourceMode: MASourceMode;\n    verticalGridlines: boolean;\n    horizontalGridlines: boolean;\n    ma: PersistedMASetting[];\n  };\n  volumeDelta?: VolumeDeltaSettings;\n  rsi: RSISettings;\n  volumeDeltaRsi?: VolumeDeltaRSISettings;\n  paneOrder?: PaneId[];\n  paneHeights?: Record<string, number>;\n}\n\ninterface PersistedTrendlineBundle {\n  rsi: RSIPersistedTrendline[];\n  volumeDeltaRsi: RSIPersistedTrendline[];\n}\n\nconst DEFAULT_RSI_SETTINGS: RSISettings = {\n  length: 14,\n  lineColor: '#58a6ff',\n  midlineColor: '#ffffff',\n  midlineStyle: 'dotted'\n};\n\nconst DEFAULT_VOLUME_DELTA_RSI_SETTINGS: VolumeDeltaRSISettings = {\n  length: 14,\n  lineColor: VOLUME_DELTA_RSI_COLOR,\n  midlineColor: '#ffffff',\n  midlineStyle: 'dotted',\n  sourceInterval: '1min'\n};\n\nconst DEFAULT_VOLUME_DELTA_SETTINGS: VolumeDeltaSettings = {\n  sourceInterval: '1min',\n  divergenceTable: true,\n  divergentPriceBars: true,\n  bullishDivergentColor: '#26a69a',\n  bearishDivergentColor: '#ef5350',\n  neutralDivergentColor: '#8b949e'\n};\n\nconst DEFAULT_PRICE_SETTINGS: {\n  maSourceMode: MASourceMode;\n  verticalGridlines: boolean;\n  horizontalGridlines: boolean;\n  ma: PersistedMASetting[];\n} = {\n  maSourceMode: 'daily',\n  verticalGridlines: false,\n  horizontalGridlines: false,\n  ma: [\n    { enabled: true, type: 'EMA', length: 8, color: '#ffa500' },\n    { enabled: true, type: 'EMA', length: 21, color: '#8a2be2' },\n    { enabled: true, type: 'SMA', length: 50, color: '#00bcd4' },\n    { enabled: false, type: 'SMA', length: 200, color: '#90ee90' }\n  ]\n};\n\nconst DEFAULT_PANE_ORDER: PaneId[] = [\n  'vd-chart-container',\n  'price-chart-container',\n  'rsi-chart-container',\n  'vd-rsi-chart-container'\n];\n\nlet paneOrder: PaneId[] = [...DEFAULT_PANE_ORDER];\nlet draggedPaneId: PaneId | null = null;\n\nconst PANE_HEIGHT_MIN = 120;\nconst PANE_HEIGHT_MAX = 600;\nconst DEFAULT_PANE_HEIGHTS: Record<string, number> = {\n  'vd-chart-container': 240,\n  'price-chart-container': 400,\n  'rsi-chart-container': 400,\n  'vd-rsi-chart-container': 400,\n};\nlet paneHeights: Record<string, number> = {};\nlet paneResizeHandlesInstalled = false;\nlet crosshairHidden = false;\n\nconst rsiSettings: RSISettings = {\n  ...DEFAULT_RSI_SETTINGS\n};\n\nconst volumeDeltaRsiSettings: VolumeDeltaRSISettings = {\n  ...DEFAULT_VOLUME_DELTA_RSI_SETTINGS\n};\n\nconst volumeDeltaSettings: VolumeDeltaSettings = {\n  ...DEFAULT_VOLUME_DELTA_SETTINGS\n};\n\nconst priceChartSettings: PriceChartSettings = {\n  maSourceMode: DEFAULT_PRICE_SETTINGS.maSourceMode,\n  verticalGridlines: DEFAULT_PRICE_SETTINGS.verticalGridlines,\n  horizontalGridlines: DEFAULT_PRICE_SETTINGS.horizontalGridlines,\n  ma: DEFAULT_PRICE_SETTINGS.ma.map((ma) => ({ ...ma, series: null, values: [] }))\n};\n\nfunction ensureMonthGridOverlay(container: HTMLElement, pane: 'price' | 'volumeDeltaRsi' | 'volumeDelta' | 'rsi'): HTMLDivElement {\n  const existing = pane === 'price'\n    ? priceMonthGridOverlayEl\n    : pane === 'volumeDeltaRsi'\n      ? volumeDeltaRsiMonthGridOverlayEl\n      : pane === 'volumeDelta'\n        ? volumeDeltaMonthGridOverlayEl\n      : rsiMonthGridOverlayEl;\n  if (existing && existing.parentElement === container) return existing;\n\n  const overlay = document.createElement('div');\n  const paneClass = pane === 'price'\n    ? 'month-grid-overlay-price'\n    : pane === 'volumeDeltaRsi'\n      ? 'month-grid-overlay-volume-delta-rsi'\n      : pane === 'volumeDelta'\n        ? 'month-grid-overlay-volume-delta'\n        : 'month-grid-overlay-rsi';\n  overlay.className = `month-grid-overlay ${paneClass}`;\n  overlay.style.position = 'absolute';\n  overlay.style.top = '0';\n  overlay.style.right = '0';\n  overlay.style.bottom = '0';\n  overlay.style.left = '0';\n  overlay.style.pointerEvents = 'none';\n  overlay.style.zIndex = '6';\n  container.appendChild(overlay);\n\n  if (pane === 'price') {\n    priceMonthGridOverlayEl = overlay;\n  } else if (pane === 'volumeDeltaRsi') {\n    volumeDeltaRsiMonthGridOverlayEl = overlay;\n  } else if (pane === 'volumeDelta') {\n    volumeDeltaMonthGridOverlayEl = overlay;\n  } else {\n    rsiMonthGridOverlayEl = overlay;\n  }\n  return overlay;\n}\n\nfunction unixSecondsFromTimeValue(time: string | number | null | undefined): number | null {\n  if (typeof time === 'number' && Number.isFinite(time)) return time;\n  if (typeof time === 'string' && time.trim()) {\n    const parsed = Date.parse(time.includes('T') ? time : `${time.replace(' ', 'T')}Z`);\n    if (Number.isFinite(parsed)) return Math.floor(parsed / 1000);\n  }\n  return null;\n}\n\nfunction toDateFromScaleTime(time: any): Date | null {\n  if (typeof time === 'number' && Number.isFinite(time)) {\n    return new Date(time * 1000);\n  }\n  if (typeof time === 'string' && time.trim()) {\n    const parsed = new Date(time.includes('T') ? time : `${time.replace(' ', 'T')}Z`);\n    return Number.isFinite(parsed.getTime()) ? parsed : null;\n  }\n  if (time && typeof time === 'object' && Number.isFinite(time.year) && Number.isFinite(time.month) && Number.isFinite(time.day)) {\n    return new Date(Date.UTC(Number(time.year), Number(time.month) - 1, Number(time.day), 0, 0, 0));\n  }\n  return null;\n}\n\nfunction formatTimeScaleTickMark(time: any, tickMarkType: number): string {\n  const date = toDateFromScaleTime(time);\n  if (!date) return '';\n  const appTimeZone = getAppTimeZone();\n\n  if (tickMarkType === 0) {\n    return date.toLocaleDateString('en-US', {\n      year: 'numeric',\n      timeZone: appTimeZone\n    });\n  }\n  if (tickMarkType === 1) {\n    return date.toLocaleDateString('en-US', {\n      month: 'short',\n      timeZone: appTimeZone\n    });\n  }\n  return date.toLocaleDateString('en-US', {\n    day: 'numeric',\n    timeZone: appTimeZone\n  });\n}\n\nfunction monthKeyInAppTimeZone(unixSeconds: number): string {\n  const parts = getAppTimeZoneFormatter('en-US', {\n    year: 'numeric',\n    month: '2-digit'\n  }).formatToParts(new Date(unixSeconds * 1000));\n  const year = parts.find((p) => p.type === 'year')?.value || '';\n  const month = parts.find((p) => p.type === 'month')?.value || '';\n  return `${year}-${month}`;\n}\n\nfunction buildMonthBoundaryTimes(bars: any[]): number[] {\n  const result: number[] = [];\n  let lastMonthKey = '';\n  for (const bar of bars) {\n    const unixSeconds = unixSecondsFromTimeValue(bar?.time);\n    if (unixSeconds === null) continue;\n    const monthKey = monthKeyInAppTimeZone(unixSeconds);\n    if (monthKey !== lastMonthKey) {\n      result.push(unixSeconds);\n      lastMonthKey = monthKey;\n    }\n  }\n  return result;\n}\n\nfunction dayKeyInAppTimeZone(unixSeconds: number): string {\n  return getAppTimeZoneFormatter('en-CA', {\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit'\n  }).format(new Date(unixSeconds * 1000));\n}\n\nfunction buildFutureTimelinePointsFromBars(bars: any[]): Array<{ time: number }> {\n  if (!Array.isArray(bars) || bars.length === 0) return [];\n  const lastUnix = unixSecondsFromTimeValue(bars[bars.length - 1]?.time);\n  if (!Number.isFinite(lastUnix)) return [];\n  const points: Array<{ time: number }> = [{ time: Number(lastUnix) }];\n  let cursor = Number(lastUnix);\n  let tradingDaysAdded = 0;\n  while (tradingDaysAdded < FUTURE_TIMELINE_TRADING_DAYS) {\n    cursor += 86400;\n    const dayOfWeek = new Date(cursor * 1000).getUTCDay();\n    if (dayOfWeek === 0 || dayOfWeek === 6) continue;\n    points.push({ time: cursor });\n    tradingDaysAdded += 1;\n  }\n  return points;\n}\n\nfunction applyFutureTimelineSeriesData(bars: any[]): void {\n  const timelinePoints = buildFutureTimelinePointsFromBars(bars);\n  if (priceTimelineSeries) {\n    priceTimelineSeries.setData(timelinePoints);\n  }\n  if (volumeDeltaRsiTimelineSeries) {\n    volumeDeltaRsiTimelineSeries.setData(timelinePoints);\n  }\n  if (volumeDeltaTimelineSeries) {\n    volumeDeltaTimelineSeries.setData(timelinePoints);\n  }\n}\n\nfunction calculateRSIFromCloses(closePrices: number[], period: number): number[] {\n  if (!Array.isArray(closePrices) || closePrices.length === 0) return [];\n  if (closePrices.length === 1) return [50];\n\n  const safePeriod = Math.max(1, Math.floor(period || 14));\n  const rsiValues = new Array(closePrices.length).fill(50);\n  const gains: number[] = [];\n  const losses: number[] = [];\n  let avgGain = 0;\n  let avgLoss = 0;\n\n  for (let i = 1; i < closePrices.length; i++) {\n    const change = closePrices[i] - closePrices[i - 1];\n    const gain = change > 0 ? change : 0;\n    const loss = change < 0 ? Math.abs(change) : 0;\n    gains.push(gain);\n    losses.push(loss);\n\n    if (i < safePeriod) {\n      const window = i;\n      let gainSum = 0;\n      let lossSum = 0;\n      for (let j = 0; j < window; j++) {\n        gainSum += gains[j];\n        lossSum += losses[j];\n      }\n      avgGain = gainSum / window;\n      avgLoss = lossSum / window;\n    } else if (i === safePeriod) {\n      let gainSum = 0;\n      let lossSum = 0;\n      for (let j = i - safePeriod; j < i; j++) {\n        gainSum += gains[j];\n        lossSum += losses[j];\n      }\n      avgGain = gainSum / safePeriod;\n      avgLoss = lossSum / safePeriod;\n    } else {\n      avgGain = ((avgGain * (safePeriod - 1)) + gain) / safePeriod;\n      avgLoss = ((avgLoss * (safePeriod - 1)) + loss) / safePeriod;\n    }\n\n    const rs = avgLoss === 0 ? 100 : avgGain / avgLoss;\n    const rsi = 100 - (100 / (1 + rs));\n    rsiValues[i] = Number.isFinite(rsi) ? rsi : rsiValues[i - 1];\n  }\n\n  rsiValues[0] = rsiValues[1] ?? 50;\n  return rsiValues;\n}\n\nfunction buildRSISeriesFromBars(bars: any[], period: number): Array<{ time: string | number, value: number }> {\n  if (!bars || bars.length === 0) return [];\n  // Don't filter \u2014 keep 1:1 index alignment between bars and closes.\n  // Non-finite values are handled inside calculateRSIFromCloses.\n  const closes = bars.map((bar) => Number(bar.close));\n  const rsiValues = calculateRSIFromCloses(closes, period);\n  const out: Array<{ time: string | number, value: number }> = [];\n  for (let i = 0; i < bars.length; i++) {\n    const raw = rsiValues[i];\n    if (!Number.isFinite(raw)) continue;\n    out.push({ time: bars[i].time, value: Math.round(raw * 100) / 100 });\n  }\n  return out;\n}\n\nfunction normalizeValueSeries(points: any[]): Array<{ time: string | number, value: number }> {\n  if (!Array.isArray(points)) return [];\n  return points.filter((point) => (\n    point &&\n    (typeof point.time === 'string' || typeof point.time === 'number') &&\n    Number.isFinite(Number(point.value))\n  )).map((point) => ({\n    time: point.time,\n    value: Number(point.value)\n  }));\n}\n\nfunction buildChartDataCacheKey(ticker: string, interval: ChartInterval): string {\n  return [\n    String(ticker || '').trim().toUpperCase(),\n    interval,\n    String(volumeDeltaRsiSettings.length),\n    volumeDeltaSettings.sourceInterval,\n    volumeDeltaRsiSettings.sourceInterval\n  ].join('|');\n}\n\nfunction isValidChartDataPayload(data: unknown): data is ChartData {\n  if (!data || typeof data !== 'object') return false;\n  const candidate = data as Partial<ChartData>;\n  if (!Array.isArray(candidate.bars) || candidate.bars.length === 0) return false;\n  return true;\n}\n\nfunction enforceChartDataCacheMaxEntries(): void {\n  while (chartDataCache.size > CHART_CLIENT_CACHE_MAX_ENTRIES) {\n    const oldestKey = chartDataCache.keys().next().value;\n    if (!oldestKey) break;\n    chartDataCache.delete(oldestKey);\n  }\n}\n\nfunction hydrateChartDataCacheFromSessionIfNeeded(): void {\n  if (chartCacheHydratedFromSession) return;\n  chartCacheHydratedFromSession = true;\n  if (typeof window === 'undefined') return;\n\n  try {\n    const raw = window.sessionStorage.getItem(CHART_SESSION_CACHE_KEY);\n    if (!raw) return;\n    const parsed = JSON.parse(raw) as {\n      version?: number;\n      entries?: Array<{ key: string; updatedAt: number; data: ChartData }>;\n    };\n    if (!parsed || parsed.version !== 1 || !Array.isArray(parsed.entries)) return;\n    const sortedEntries = [...parsed.entries]\n      .filter((entry) => entry && typeof entry.key === 'string' && Number.isFinite(entry.updatedAt) && isValidChartDataPayload(entry.data))\n      .sort((a, b) => Number(a.updatedAt) - Number(b.updatedAt));\n    for (const entry of sortedEntries) {\n      chartDataCache.set(entry.key, {\n        data: entry.data,\n        updatedAt: Number(entry.updatedAt)\n      });\n    }\n    enforceChartDataCacheMaxEntries();\n  } catch {\n    // Ignore session cache read/parse errors.\n  }\n}\n\nfunction schedulePersistChartDataCacheToSession(): void {\n  if (typeof window === 'undefined') return;\n  if (chartCachePersistTimer !== null) return;\n  chartCachePersistTimer = window.setTimeout(() => {\n    chartCachePersistTimer = null;\n    try {\n      const newestFirst = Array.from(chartDataCache.entries()).reverse();\n      const persistedEntries: Array<{ key: string; updatedAt: number; data: ChartData }> = [];\n      let totalBytes = 0;\n      for (const [key, entry] of newestFirst) {\n        if (!entry || !entry.data || !Number.isFinite(entry.updatedAt)) continue;\n        const candidate = {\n          key,\n          updatedAt: entry.updatedAt,\n          data: entry.data\n        };\n        const serializedCandidate = JSON.stringify(candidate);\n        if (!serializedCandidate) continue;\n        if ((totalBytes + serializedCandidate.length) > CHART_SESSION_CACHE_MAX_BYTES) continue;\n        persistedEntries.push(candidate);\n        totalBytes += serializedCandidate.length;\n        if (persistedEntries.length >= CHART_SESSION_CACHE_MAX_ENTRIES) break;\n      }\n      const payload = JSON.stringify({\n        version: 1,\n        entries: persistedEntries\n      });\n      window.sessionStorage.setItem(CHART_SESSION_CACHE_KEY, payload);\n    } catch {\n      // Ignore session cache persistence errors (quota, serialization, etc).\n    }\n  }, 180);\n}\n\nfunction sweepChartDataCache(): void {\n  hydrateChartDataCacheFromSessionIfNeeded();\n  const now = Date.now();\n  let changed = false;\n  for (const [key, entry] of chartDataCache.entries()) {\n    if (!entry || !entry.updatedAt || (now - entry.updatedAt) > CHART_CLIENT_CACHE_TTL_MS) {\n      chartDataCache.delete(key);\n      changed = true;\n    }\n  }\n  const sizeBefore = chartDataCache.size;\n  enforceChartDataCacheMaxEntries();\n  if (chartDataCache.size !== sizeBefore) {\n    changed = true;\n  }\n  if (changed) {\n    schedulePersistChartDataCacheToSession();\n  }\n}\n\nfunction getCachedChartData(cacheKey: string): ChartData | null {\n  sweepChartDataCache();\n  const cached = chartDataCache.get(cacheKey);\n  if (cached) {\n    chartDataCache.delete(cacheKey);\n    chartDataCache.set(cacheKey, cached);\n  }\n  return cached ? cached.data : null;\n}\n\nfunction setCachedChartData(cacheKey: string, data: ChartData): void {\n  hydrateChartDataCacheFromSessionIfNeeded();\n  chartDataCache.delete(cacheKey);\n  chartDataCache.set(cacheKey, {\n    data,\n    updatedAt: Date.now()\n  });\n  enforceChartDataCacheMaxEntries();\n  schedulePersistChartDataCacheToSession();\n}\n\nfunction getLastBarSignature(data: ChartData | null): string {\n  const bars = Array.isArray(data?.bars) ? data.bars : [];\n  if (!bars.length) return 'none';\n  const last = bars[bars.length - 1];\n  return [\n    bars.length,\n    timeKey(last.time),\n    Number(last.open),\n    Number(last.high),\n    Number(last.low),\n    Number(last.close),\n    Number(last.volume)\n  ].join('|');\n}\n\ntype ChartPerfSummary = {\n  fetchCount: number;\n  renderCount: number;\n  fetchP95Ms: number;\n  renderP95Ms: number;\n  responseCacheHit: number;\n  responseCacheMiss: number;\n  responseCacheUnknown: number;\n};\n\nconst chartPerfSamples: Record<ChartInterval, { fetchMs: number[]; renderMs: number[] }> = {\n  '5min': { fetchMs: [], renderMs: [] },\n  '15min': { fetchMs: [], renderMs: [] },\n  '30min': { fetchMs: [], renderMs: [] },\n  '1hour': { fetchMs: [], renderMs: [] },\n  '4hour': { fetchMs: [], renderMs: [] },\n  '1day': { fetchMs: [], renderMs: [] },\n  '1week': { fetchMs: [], renderMs: [] }\n};\n\nconst chartPerfSummary: Record<ChartInterval, ChartPerfSummary> = {\n  '5min': { fetchCount: 0, renderCount: 0, fetchP95Ms: 0, renderP95Ms: 0, responseCacheHit: 0, responseCacheMiss: 0, responseCacheUnknown: 0 },\n  '15min': { fetchCount: 0, renderCount: 0, fetchP95Ms: 0, renderP95Ms: 0, responseCacheHit: 0, responseCacheMiss: 0, responseCacheUnknown: 0 },\n  '30min': { fetchCount: 0, renderCount: 0, fetchP95Ms: 0, renderP95Ms: 0, responseCacheHit: 0, responseCacheMiss: 0, responseCacheUnknown: 0 },\n  '1hour': { fetchCount: 0, renderCount: 0, fetchP95Ms: 0, renderP95Ms: 0, responseCacheHit: 0, responseCacheMiss: 0, responseCacheUnknown: 0 },\n  '4hour': { fetchCount: 0, renderCount: 0, fetchP95Ms: 0, renderP95Ms: 0, responseCacheHit: 0, responseCacheMiss: 0, responseCacheUnknown: 0 },\n  '1day': { fetchCount: 0, renderCount: 0, fetchP95Ms: 0, renderP95Ms: 0, responseCacheHit: 0, responseCacheMiss: 0, responseCacheUnknown: 0 },\n  '1week': { fetchCount: 0, renderCount: 0, fetchP95Ms: 0, renderP95Ms: 0, responseCacheHit: 0, responseCacheMiss: 0, responseCacheUnknown: 0 }\n};\n\nfunction computeP95(values: number[]): number {\n  if (!values.length) return 0;\n  const sorted = [...values].sort((a, b) => a - b);\n  const index = Math.min(sorted.length - 1, Math.max(0, Math.ceil(sorted.length * 0.95) - 1));\n  return Math.round(sorted[index] * 100) / 100;\n}\n\nfunction pushPerfSample(values: number[], ms: number): void {\n  if (!Number.isFinite(ms) || ms < 0) return;\n  values.push(Math.round(ms * 100) / 100);\n  if (values.length > CHART_PERF_SAMPLE_MAX) {\n    values.shift();\n  }\n}\n\nfunction recordChartFetchPerf(interval: ChartInterval, durationMs: number, cacheHeader: string | null): void {\n  const samples = chartPerfSamples[interval];\n  const summary = chartPerfSummary[interval];\n  pushPerfSample(samples.fetchMs, durationMs);\n  summary.fetchCount += 1;\n  summary.fetchP95Ms = computeP95(samples.fetchMs);\n  if (cacheHeader === 'hit') {\n    summary.responseCacheHit += 1;\n  } else if (cacheHeader === 'miss') {\n    summary.responseCacheMiss += 1;\n  } else {\n    summary.responseCacheUnknown += 1;\n  }\n}\n\nfunction recordChartRenderPerf(interval: ChartInterval, durationMs: number): void {\n  const samples = chartPerfSamples[interval];\n  const summary = chartPerfSummary[interval];\n  pushPerfSample(samples.renderMs, durationMs);\n  summary.renderCount += 1;\n  summary.renderP95Ms = computeP95(samples.renderMs);\n}\n\nfunction exposeChartPerfMetrics(): void {\n  if (typeof window === 'undefined') return;\n  (window as any).__chartPerfMetrics = {\n    getSnapshot: () => ({\n      byInterval: chartPerfSummary,\n      sampleMax: CHART_PERF_SAMPLE_MAX\n    })\n  };\n}\n\nasync function prefetchRelatedIntervals(ticker: string, interval: ChartInterval): Promise<void> {\n  const normalizedTicker = String(ticker || '').trim().toUpperCase();\n  if (!normalizedTicker) return;\n  const targets = PREFETCH_INTERVAL_TARGETS[interval] || [];\n\n  // P1/P3 prefetches share an AbortController so the active chart load (P0)\n  // can cancel them instantly when the user navigates.\n  abortPrefetches();\n  const controller = new AbortController();\n  prefetchAbortController = controller;\n\n  const promises: Promise<void>[] = [];\n\n  for (const target of targets) {\n    if (controller.signal.aborted) break;\n    const cacheKey = buildChartDataCacheKey(normalizedTicker, target);\n    if (getCachedChartData(cacheKey)) continue;\n    if (chartPrefetchInFlight.has(cacheKey)) {\n        promises.push(chartPrefetchInFlight.get(cacheKey)!);\n        continue;\n    }\n\n    const prefetchPromise = fetchChartData(normalizedTicker, target, {\n      vdRsiLength: volumeDeltaRsiSettings.length,\n      vdSourceInterval: volumeDeltaSettings.sourceInterval,\n      vdRsiSourceInterval: volumeDeltaRsiSettings.sourceInterval,\n      signal: controller.signal\n    })\n      .then((prefetchedData) => {\n        setCachedChartData(cacheKey, prefetchedData);\n      })\n      .catch(() => {\n        // Prefetch is opportunistic; ignore errors (including AbortError).\n      })\n      .finally(() => {\n        chartPrefetchInFlight.delete(cacheKey);\n      });\n\n    chartPrefetchInFlight.set(cacheKey, prefetchPromise);\n    promises.push(prefetchPromise);\n  }\n\n  // P1 (same-ticker intervals) completes before P3 (neighbor tickers).\n  await Promise.allSettled(promises);\n  if (!controller.signal.aborted) {\n    prefetchNeighborTickers(interval, controller.signal).catch(() => {});\n  }\n}\n\nexposeChartPerfMetrics();\n\nfunction normalizePaneOrder(order: unknown): PaneId[] {\n  if (!Array.isArray(order)) return [...DEFAULT_PANE_ORDER];\n  const allowed = new Set<PaneId>(DEFAULT_PANE_ORDER);\n  const normalized: PaneId[] = [];\n\n  for (const candidate of order) {\n    if (typeof candidate !== 'string') continue;\n    if (!allowed.has(candidate as PaneId)) continue;\n    const paneId = candidate as PaneId;\n    if (!normalized.includes(paneId)) normalized.push(paneId);\n  }\n\n  for (const paneId of DEFAULT_PANE_ORDER) {\n    if (!normalized.includes(paneId)) normalized.push(paneId);\n  }\n\n  return normalized;\n}\n\nfunction formatVolumeDeltaScaleLabel(value: number): string {\n  if (!Number.isFinite(value)) return '';\n  const clamped = Math.max(0, Math.min(100, Number(value)));\n  let label = '';\n  if (Math.abs(clamped) >= 100) {\n    label = String(Math.round(clamped));\n  } else {\n    label = clamped.toFixed(1);\n  }\n  return label.length >= SCALE_LABEL_CHARS ? label : label.padEnd(SCALE_LABEL_CHARS, ' ');\n}\n\nfunction normalizeVolumeDeltaSeries(points: any[]): Array<{ time: string | number, delta: number }> {\n  if (!Array.isArray(points)) return [];\n  return points\n    .filter((point) => (\n      point &&\n      (typeof point.time === 'string' || typeof point.time === 'number') &&\n      Number.isFinite(Number(point.delta))\n    ))\n    .map((point) => ({\n      time: point.time,\n      delta: Number(point.delta)\n    }));\n}\n\nfunction formatVolumeDeltaHistogramScaleLabel(value: number): string {\n  if (!Number.isFinite(value)) return '';\n  const sign = value < 0 ? '-' : '';\n  const abs = Math.abs(value);\n  const budget = SCALE_LABEL_CHARS - sign.length;\n  if (budget <= 0) return sign.slice(0, SCALE_LABEL_CHARS);\n\n  const truncateTo = (num: number, decimals: number): number => {\n    if (decimals <= 0) return Math.trunc(num);\n    const factor = 10 ** decimals;\n    return Math.trunc(num * factor) / factor;\n  };\n  const trimZeros = (text: string): string => text.replace(/\\.0+$/, '').replace(/(\\.\\d*?)0+$/, '$1');\n\n  const tryUnit = (divisor: number, suffix: string): string | null => {\n    const scaled = abs / divisor;\n    if (divisor !== 1 && scaled < 1) return null;\n    const numericBudget = budget - suffix.length;\n    if (numericBudget <= 0) return null;\n\n    let decimals = 0;\n    if (suffix) {\n      if (scaled < 10) decimals = 1; // e.g. 4.8K\n    } else if (scaled >= 10 && scaled < 100) {\n      decimals = 1;\n    } else if (scaled < 10) {\n      decimals = 2;\n    }\n\n    while (decimals >= 0) {\n      const rendered = trimZeros(truncateTo(scaled, decimals).toFixed(decimals));\n      if (rendered.length <= numericBudget) {\n        return `${sign}${rendered}${suffix}`;\n      }\n      decimals -= 1;\n    }\n    return null;\n  };\n\n  const orderedUnits = [\n    { divisor: 1_000_000_000, suffix: 'B' },\n    { divisor: 1_000_000, suffix: 'M' },\n    { divisor: 1_000, suffix: 'K' },\n    { divisor: 1, suffix: '' }\n  ];\n  for (const unit of orderedUnits) {\n    const label = tryUnit(unit.divisor, unit.suffix);\n    if (label) return label.length >= SCALE_LABEL_CHARS ? label : label.padEnd(SCALE_LABEL_CHARS, ' ');\n  }\n\n  // Last resort for signed large numbers: promote unit so text stays within the 4-char axis budget.\n  const fallbackUnits = [\n    { divisor: 1_000, suffix: 'K' },\n    { divisor: 1_000_000, suffix: 'M' },\n    { divisor: 1_000_000_000, suffix: 'B' }\n  ];\n  for (const unit of fallbackUnits) {\n    const numericBudget = budget - unit.suffix.length;\n    if (numericBudget <= 0) continue;\n    const scaled = abs / unit.divisor;\n    const rendered = String(Math.max(1, Math.trunc(scaled)));\n    if (rendered.length > numericBudget) continue;\n    const label = `${sign}${rendered}${unit.suffix}`;\n    return label.length >= SCALE_LABEL_CHARS ? label : label.padEnd(SCALE_LABEL_CHARS, ' ');\n  }\n\n  return sign ? `${sign}0`.padEnd(SCALE_LABEL_CHARS, ' ') : '0'.padEnd(SCALE_LABEL_CHARS, ' ');\n}\n\nfunction normalizePersistedTrendlines(lines: unknown): RSIPersistedTrendline[] {\n  if (!Array.isArray(lines)) return [];\n  const out: RSIPersistedTrendline[] = [];\n  for (const line of lines) {\n    if (!line || typeof line !== 'object') continue;\n    const candidate = line as RSIPersistedTrendline;\n    const time1 = candidate.time1;\n    const time2 = candidate.time2;\n    const value1 = Number(candidate.value1);\n    const value2 = Number(candidate.value2);\n    if ((typeof time1 !== 'string' && typeof time1 !== 'number') || (typeof time2 !== 'string' && typeof time2 !== 'number')) continue;\n    if (!Number.isFinite(value1) || !Number.isFinite(value2)) continue;\n    out.push({ time1, value1, time2, value2 });\n  }\n  return out;\n}\n\nfunction buildTrendlineContextKey(ticker: string, interval: ChartInterval): string {\n  return `${ticker.toUpperCase()}|${interval}`;\n}\n\nfunction loadTrendlineStorage(): Record<string, PersistedTrendlineBundle> {\n  if (typeof window === 'undefined') return {};\n  try {\n    const raw = window.localStorage.getItem(TRENDLINES_STORAGE_KEY);\n    if (!raw) return {};\n    const parsed = JSON.parse(raw) as Record<string, Partial<PersistedTrendlineBundle>>;\n    const normalized: Record<string, PersistedTrendlineBundle> = {};\n    for (const [key, bundle] of Object.entries(parsed || {})) {\n      normalized[key] = {\n        rsi: normalizePersistedTrendlines(bundle?.rsi),\n        volumeDeltaRsi: normalizePersistedTrendlines(bundle?.volumeDeltaRsi)\n      };\n    }\n    return normalized;\n  } catch {\n    return {};\n  }\n}\n\nfunction saveTrendlineStorage(store: Record<string, PersistedTrendlineBundle>): void {\n  if (typeof window === 'undefined') return;\n  try {\n    window.localStorage.setItem(TRENDLINES_STORAGE_KEY, JSON.stringify(store));\n  } catch {\n    // Ignore storage errors (private mode/quota/etc.)\n  }\n}\n\nfunction loadPersistedTrendlinesForContext(ticker: string, interval: ChartInterval): PersistedTrendlineBundle {\n  const storage = loadTrendlineStorage();\n  const bundle = storage[buildTrendlineContextKey(ticker, interval)];\n  return {\n    rsi: normalizePersistedTrendlines(bundle?.rsi),\n    volumeDeltaRsi: normalizePersistedTrendlines(bundle?.volumeDeltaRsi)\n  };\n}\n\nfunction persistTrendlinesForCurrentContext(): void {\n  if (!currentChartTicker) return;\n  const storage = loadTrendlineStorage();\n  const key = buildTrendlineContextKey(currentChartTicker, currentChartInterval);\n  storage[key] = {\n    rsi: rsiChart?.getPersistedTrendlines() ?? [],\n    volumeDeltaRsi: volumeDeltaTrendlineDefinitions.map((line) => ({ ...line }))\n  };\n  saveTrendlineStorage(storage);\n}\n\nfunction persistSettingsToStorage(): void {\n  if (typeof window === 'undefined') return;\n  try {\n    const payload: PersistedChartSettings = {\n      price: {\n        maSourceMode: priceChartSettings.maSourceMode,\n        verticalGridlines: priceChartSettings.verticalGridlines,\n        horizontalGridlines: priceChartSettings.horizontalGridlines,\n        ma: priceChartSettings.ma.map((ma) => ({\n          enabled: ma.enabled,\n          type: ma.type,\n          length: ma.length,\n          color: ma.color\n        }))\n      },\n      rsi: {\n        length: rsiSettings.length,\n        lineColor: rsiSettings.lineColor,\n        midlineColor: rsiSettings.midlineColor,\n        midlineStyle: rsiSettings.midlineStyle\n      },\n      volumeDelta: {\n        sourceInterval: volumeDeltaSettings.sourceInterval,\n        divergenceTable: volumeDeltaSettings.divergenceTable,\n        divergentPriceBars: volumeDeltaSettings.divergentPriceBars,\n        bullishDivergentColor: volumeDeltaSettings.bullishDivergentColor,\n        bearishDivergentColor: volumeDeltaSettings.bearishDivergentColor,\n        neutralDivergentColor: volumeDeltaSettings.neutralDivergentColor\n      },\n      volumeDeltaRsi: {\n        length: volumeDeltaRsiSettings.length,\n        lineColor: volumeDeltaRsiSettings.lineColor,\n        midlineColor: volumeDeltaRsiSettings.midlineColor,\n        midlineStyle: volumeDeltaRsiSettings.midlineStyle,\n        sourceInterval: volumeDeltaRsiSettings.sourceInterval\n      },\n      paneOrder: [...paneOrder],\n      paneHeights: { ...paneHeights }\n    };\n    window.localStorage.setItem(SETTINGS_STORAGE_KEY, JSON.stringify(payload));\n  } catch {\n    // Ignore storage errors (private mode/quota/etc.)\n  }\n}\n\nfunction ensureSettingsLoadedFromStorage(): void {\n  if (hasLoadedSettingsFromStorage || typeof window === 'undefined') return;\n  hasLoadedSettingsFromStorage = true;\n  try {\n    const raw = window.localStorage.getItem(SETTINGS_STORAGE_KEY);\n    if (!raw) return;\n    const parsed = JSON.parse(raw) as Partial<PersistedChartSettings>;\n\n    const persistedPrice = parsed?.price;\n    if (persistedPrice) {\n      priceChartSettings.maSourceMode = persistedPrice.maSourceMode === 'timeframe' ? 'timeframe' : 'daily';\n      if (typeof persistedPrice.verticalGridlines === 'boolean') {\n        priceChartSettings.verticalGridlines = persistedPrice.verticalGridlines;\n      }\n      if (typeof persistedPrice.horizontalGridlines === 'boolean') {\n        priceChartSettings.horizontalGridlines = persistedPrice.horizontalGridlines;\n      }\n      if (Array.isArray(persistedPrice.ma)) {\n        for (let i = 0; i < priceChartSettings.ma.length; i++) {\n          const persisted = persistedPrice.ma[i];\n          if (!persisted) continue;\n          priceChartSettings.ma[i].enabled = Boolean(persisted.enabled);\n          priceChartSettings.ma[i].type = persisted.type === 'EMA' ? 'EMA' : 'SMA';\n          priceChartSettings.ma[i].length = Math.max(1, Math.floor(Number(persisted.length) || priceChartSettings.ma[i].length));\n          if (typeof persisted.color === 'string' && persisted.color.trim()) {\n            priceChartSettings.ma[i].color = persisted.color;\n          }\n        }\n      }\n    }\n\n    const persistedRSI = parsed?.rsi;\n    if (persistedRSI) {\n      rsiSettings.length = Math.max(1, Math.floor(Number(persistedRSI.length) || rsiSettings.length));\n      if (typeof persistedRSI.lineColor === 'string' && persistedRSI.lineColor.trim()) {\n        rsiSettings.lineColor = persistedRSI.lineColor;\n      }\n      if (typeof persistedRSI.midlineColor === 'string' && persistedRSI.midlineColor.trim()) {\n        rsiSettings.midlineColor = persistedRSI.midlineColor;\n      }\n      rsiSettings.midlineStyle = persistedRSI.midlineStyle === 'solid' ? 'solid' : 'dotted';\n    }\n\n    const persistedVolumeDelta = parsed?.volumeDelta;\n    if (persistedVolumeDelta) {\n      const source = String(persistedVolumeDelta.sourceInterval || '');\n      if (source === '1min' || source === '5min' || source === '15min' || source === '30min' || source === '1hour' || source === '4hour') {\n        volumeDeltaSettings.sourceInterval = source;\n      }\n      if (typeof persistedVolumeDelta.divergenceTable === 'boolean') {\n        volumeDeltaSettings.divergenceTable = persistedVolumeDelta.divergenceTable;\n      }\n      if (typeof persistedVolumeDelta.divergentPriceBars === 'boolean') {\n        volumeDeltaSettings.divergentPriceBars = persistedVolumeDelta.divergentPriceBars;\n      }\n      if (typeof persistedVolumeDelta.bullishDivergentColor === 'string' && persistedVolumeDelta.bullishDivergentColor.trim()) {\n        volumeDeltaSettings.bullishDivergentColor = persistedVolumeDelta.bullishDivergentColor;\n      }\n      if (typeof persistedVolumeDelta.bearishDivergentColor === 'string' && persistedVolumeDelta.bearishDivergentColor.trim()) {\n        volumeDeltaSettings.bearishDivergentColor = persistedVolumeDelta.bearishDivergentColor;\n      }\n      if (typeof persistedVolumeDelta.neutralDivergentColor === 'string' && persistedVolumeDelta.neutralDivergentColor.trim()) {\n        volumeDeltaSettings.neutralDivergentColor = persistedVolumeDelta.neutralDivergentColor;\n      }\n    }\n\n    const persistedVolumeDeltaRSI = parsed?.volumeDeltaRsi;\n    if (persistedVolumeDeltaRSI) {\n      volumeDeltaRsiSettings.length = Math.max(1, Math.floor(Number(persistedVolumeDeltaRSI.length) || volumeDeltaRsiSettings.length));\n      if (typeof persistedVolumeDeltaRSI.lineColor === 'string' && persistedVolumeDeltaRSI.lineColor.trim()) {\n        volumeDeltaRsiSettings.lineColor = persistedVolumeDeltaRSI.lineColor;\n      }\n      if (typeof persistedVolumeDeltaRSI.midlineColor === 'string' && persistedVolumeDeltaRSI.midlineColor.trim()) {\n        volumeDeltaRsiSettings.midlineColor = persistedVolumeDeltaRSI.midlineColor;\n      }\n      volumeDeltaRsiSettings.midlineStyle = persistedVolumeDeltaRSI.midlineStyle === 'solid' ? 'solid' : 'dotted';\n      const source = String(persistedVolumeDeltaRSI.sourceInterval || '');\n      if (source === '1min' || source === '5min' || source === '15min' || source === '30min' || source === '1hour' || source === '4hour') {\n        volumeDeltaRsiSettings.sourceInterval = source;\n      }\n    }\n\n    paneOrder = normalizePaneOrder(parsed?.paneOrder);\n\n    if (parsed?.paneHeights && typeof parsed.paneHeights === 'object') {\n      for (const [id, h] of Object.entries(parsed.paneHeights)) {\n        if (typeof h === 'number' && h >= PANE_HEIGHT_MIN && h <= PANE_HEIGHT_MAX) {\n          paneHeights[id] = h;\n        }\n      }\n    }\n  } catch {\n    // Ignore malformed storage content.\n  }\n}\n\nfunction computeSMA(values: number[], length: number): Array<number | null> {\n  const period = Math.max(1, Math.floor(length));\n  const out: Array<number | null> = new Array(values.length).fill(null);\n  // Forward-fill non-finite values so the sliding window stays consistent.\n  const filled = values.slice();\n  let lastFinite: number | null = null;\n  for (let i = 0; i < filled.length; i++) {\n    if (Number.isFinite(filled[i])) {\n      lastFinite = filled[i];\n    } else if (lastFinite !== null) {\n      filled[i] = lastFinite;\n    }\n  }\n  let sum = 0;\n  for (let i = 0; i < filled.length; i++) {\n    const value = filled[i];\n    if (!Number.isFinite(value)) continue;\n    sum += value;\n    if (i >= period) {\n      sum -= filled[i - period];\n    }\n    if (i >= period - 1) {\n      out[i] = sum / period;\n    }\n  }\n  return out;\n}\n\nfunction buildDailyMAValuesForBars(bars: any[], type: MAType, length: number): Array<number | null> {\n  const dayOrder: string[] = [];\n  const dayCloseByKey = new Map<string, number>();\n  const seen = new Set<string>();\n\n  for (const bar of bars) {\n    const unixSeconds = unixSecondsFromTimeValue(bar?.time);\n    const close = Number(bar?.close);\n    if (unixSeconds === null || !Number.isFinite(close)) continue;\n    const key = dayKeyInAppTimeZone(unixSeconds);\n    if (!seen.has(key)) {\n      seen.add(key);\n      dayOrder.push(key);\n    }\n    // Sorted bars => last assignment is the day close.\n    dayCloseByKey.set(key, close);\n  }\n\n  const dailyCloses = dayOrder.map((day) => Number(dayCloseByKey.get(day)));\n  const dailyMA = type === 'EMA'\n    ? computeEMA(dailyCloses, length)\n    : computeSMA(dailyCloses, length);\n\n  const dailyMAByKey = new Map<string, number | null>();\n  for (let i = 0; i < dayOrder.length; i++) {\n    dailyMAByKey.set(dayOrder[i], dailyMA[i] ?? null);\n  }\n\n  return bars.map((bar) => {\n    const unixSeconds = unixSecondsFromTimeValue(bar?.time);\n    if (unixSeconds === null) return null;\n    return dailyMAByKey.get(dayKeyInAppTimeZone(unixSeconds)) ?? null;\n  });\n}\n\nfunction computeEMA(values: number[], length: number): Array<number | null> {\n  const period = Math.max(1, Math.floor(length));\n  const out: Array<number | null> = new Array(values.length).fill(null);\n  if (values.length === 0) return out;\n  // Forward-fill non-finite values so the EMA window stays consistent.\n  const filled = values.slice();\n  let lastFinite: number | null = null;\n  for (let i = 0; i < filled.length; i++) {\n    if (Number.isFinite(filled[i])) {\n      lastFinite = filled[i];\n    } else if (lastFinite !== null) {\n      filled[i] = lastFinite;\n    }\n  }\n  const alpha = 2 / (period + 1);\n  let ema: number | null = null;\n\n  for (let i = 0; i < filled.length; i++) {\n    const value = filled[i];\n    if (!Number.isFinite(value)) continue;\n    if (ema === null) {\n      // Seed with SMA of first `period` finite values.\n      let sum = 0;\n      let count = 0;\n      for (let j = i; j < filled.length && count < period; j++) {\n        if (Number.isFinite(filled[j])) { sum += filled[j]; count++; }\n      }\n      ema = count > 0 ? sum / count : value;\n    } else {\n      ema = (value * alpha) + (ema * (1 - alpha));\n    }\n    out[i] = ema;\n  }\n  return out;\n}\n\nfunction isRenderableMaValue(value: unknown): value is number {\n  const numeric = typeof value === 'number' ? value : Number.NaN;\n  return Number.isFinite(numeric) && numeric > 0;\n}\n\nfunction clearMovingAverageSeries(): void {\n  for (const setting of priceChartSettings.ma) {\n    if (setting.series && priceChart) {\n      priceChart.removeSeries(setting.series);\n      setting.series = null;\n    }\n    if (!priceChart) {\n      setting.series = null;\n    }\n    setting.values = [];\n  }\n}\n\nfunction applyMovingAverages(): void {\n  if (!priceChart || !currentBars.length) {\n    clearMovingAverageSeries();\n    return;\n  }\n\n  for (const setting of priceChartSettings.ma) {\n    const validLength = Math.max(1, Math.floor(Number(setting.length) || 1));\n    setting.length = validLength;\n    if (!setting.enabled) {\n      if (setting.series) {\n        priceChart.removeSeries(setting.series);\n        setting.series = null;\n      }\n      setting.values = [];\n      continue;\n    }\n\n    if (!setting.series) {\n      setting.series = priceChart.addLineSeries({\n        color: setting.color,\n        lineWidth: 1,\n        priceLineVisible: false,\n        lastValueVisible: false,\n        crosshairMarkerVisible: false\n      });\n    } else {\n      setting.series.applyOptions({ color: setting.color });\n    }\n\n    const values = priceChartSettings.maSourceMode === 'daily'\n      ? buildDailyMAValuesForBars(currentBars, setting.type, validLength)\n      : (\n        setting.type === 'EMA'\n          ? computeEMA(currentBars.map((bar) => Number(bar.close)), validLength)\n          : computeSMA(currentBars.map((bar) => Number(bar.close)), validLength)\n      );\n    setting.values = values;\n\n    const maData = currentBars.map((bar, index) => {\n      const value = values[index];\n      if (!isRenderableMaValue(value)) {\n        return { time: bar.time };\n      }\n      return {\n        time: bar.time,\n        value\n      };\n    });\n    setting.series.setData(maData);\n  }\n}\n\nfunction updateMovingAveragesLatestPoint(): void {\n  if (!priceChart || !Array.isArray(currentBars) || currentBars.length === 0) return;\n  // Daily MA values can span multiple bars in the same day; keep full recompute for correctness.\n  if (priceChartSettings.maSourceMode === 'daily') {\n    applyMovingAverages();\n    return;\n  }\n\n  const lastIndex = currentBars.length - 1;\n  const lastBar = currentBars[lastIndex];\n  const lastClose = Number(lastBar?.close);\n  if (!Number.isFinite(lastClose)) {\n    applyMovingAverages();\n    return;\n  }\n\n  for (const setting of priceChartSettings.ma) {\n    if (!setting.enabled || !setting.series) continue;\n    const period = Math.max(1, Math.floor(Number(setting.length) || 1));\n    let nextValue: number | null = null;\n\n    if (setting.type === 'EMA') {\n      if (lastIndex === 0) {\n        nextValue = lastClose;\n      } else {\n        const prevValue = Number(setting.values[lastIndex - 1]);\n        if (!Number.isFinite(prevValue)) {\n          applyMovingAverages();\n          return;\n        }\n        const alpha = 2 / (period + 1);\n        nextValue = (lastClose * alpha) + (prevValue * (1 - alpha));\n      }\n    } else {\n      if (lastIndex < period - 1) {\n        nextValue = null;\n      } else {\n        let sum = 0;\n        for (let i = lastIndex - period + 1; i <= lastIndex; i++) {\n          const close = Number(currentBars[i]?.close);\n          if (!Number.isFinite(close)) {\n            applyMovingAverages();\n            return;\n          }\n          sum += close;\n        }\n        nextValue = sum / period;\n      }\n    }\n\n    if (setting.values.length !== currentBars.length) {\n      setting.values = new Array(currentBars.length).fill(null);\n    }\n    setting.values[lastIndex] = isRenderableMaValue(nextValue) ? nextValue : null;\n    if (isRenderableMaValue(nextValue)) {\n      setting.series.update({ time: lastBar.time, value: nextValue });\n    } else {\n      setting.series.update({ time: lastBar.time });\n    }\n  }\n}\n\nfunction clearMonthGridOverlay(overlayEl: HTMLDivElement | null): void {\n  if (!overlayEl) return;\n  overlayEl.innerHTML = '';\n}\n\nfunction renderMonthGridLines(chart: any, overlayEl: HTMLDivElement | null): void {\n  if (!chart || !overlayEl) return;\n\n  overlayEl.innerHTML = '';\n  if (!priceChartSettings.verticalGridlines) return;\n  if (!monthBoundaryTimes.length) return;\n\n  const width = overlayEl.clientWidth || overlayEl.offsetWidth;\n  if (!Number.isFinite(width) || width <= 0) return;\n\n  for (const time of monthBoundaryTimes) {\n    const x = chart.timeScale().timeToCoordinate(time);\n    if (!Number.isFinite(x)) continue;\n    if (x < 0 || x > width) continue;\n\n    const line = document.createElement('div');\n    line.style.position = 'absolute';\n    line.style.top = '0';\n    line.style.bottom = '0';\n    line.style.left = `${Math.round(x)}px`;\n    line.style.width = '1px';\n    line.style.background = MONTH_GRIDLINE_COLOR;\n    overlayEl.appendChild(line);\n  }\n}\n\nfunction refreshMonthGridLines(): void {\n  renderMonthGridLines(priceChart, priceMonthGridOverlayEl);\n  renderMonthGridLines(volumeDeltaRsiChart, volumeDeltaRsiMonthGridOverlayEl);\n  renderMonthGridLines(volumeDeltaChart, volumeDeltaMonthGridOverlayEl);\n  renderMonthGridLines(rsiChart?.getChart(), rsiMonthGridOverlayEl);\n  refreshVolumeDeltaTrendlineCrossLabels();\n}\n\nfunction scheduleChartLayoutRefresh(): void {\n  if (chartLayoutRefreshRafId !== null) return;\n  chartLayoutRefreshRafId = requestAnimationFrame(() => {\n    chartLayoutRefreshRafId = null;\n    refreshMonthGridLines();\n    refreshVDZones();\n  });\n}\n\nfunction applyPriceGridOptions(): void {\n  if (!priceChart) return;\n  priceChart.applyOptions({\n    grid: {\n      vertLines: { visible: false },\n      horzLines: {\n        visible: priceChartSettings.horizontalGridlines,\n        color: MONTH_GRIDLINE_COLOR\n      }\n    }\n  });\n  scheduleChartLayoutRefresh();\n}\n\nfunction syncPriceSettingsPanelValues(): void {\n  if (!priceSettingsPanelEl) return;\n  const sourceSelect = priceSettingsPanelEl.querySelector('[data-price-setting=\"ma-source\"]') as HTMLSelectElement | null;\n  const vGrid = priceSettingsPanelEl.querySelector('[data-price-setting=\"v-grid\"]') as HTMLInputElement | null;\n  const hGrid = priceSettingsPanelEl.querySelector('[data-price-setting=\"h-grid\"]') as HTMLInputElement | null;\n  if (sourceSelect) sourceSelect.value = priceChartSettings.maSourceMode;\n  if (vGrid) vGrid.checked = priceChartSettings.verticalGridlines;\n  if (hGrid) hGrid.checked = priceChartSettings.horizontalGridlines;\n\n  for (let i = 0; i < priceChartSettings.ma.length; i++) {\n    const ma = priceChartSettings.ma[i];\n    const enabled = priceSettingsPanelEl.querySelector(`[data-price-setting=\"ma-enabled-${i}\"]`) as HTMLInputElement | null;\n    const type = priceSettingsPanelEl.querySelector(`[data-price-setting=\"ma-type-${i}\"]`) as HTMLSelectElement | null;\n    const length = priceSettingsPanelEl.querySelector(`[data-price-setting=\"ma-length-${i}\"]`) as HTMLInputElement | null;\n    const color = priceSettingsPanelEl.querySelector(`[data-price-setting=\"ma-color-${i}\"]`) as HTMLInputElement | null;\n    if (enabled) enabled.checked = ma.enabled;\n    if (type) type.value = ma.type;\n    if (length) length.value = String(ma.length);\n    if (color) color.value = ma.color;\n  }\n  // VDF button doesn't need settings sync\n}\n\nfunction syncRSISettingsPanelValues(): void {\n  if (!rsiSettingsPanelEl) return;\n  const length = rsiSettingsPanelEl.querySelector('[data-rsi-setting=\"length\"]') as HTMLInputElement | null;\n  const color = rsiSettingsPanelEl.querySelector('[data-rsi-setting=\"line-color\"]') as HTMLInputElement | null;\n  const midlineColor = rsiSettingsPanelEl.querySelector('[data-rsi-setting=\"midline-color\"]') as HTMLInputElement | null;\n  const midlineStyle = rsiSettingsPanelEl.querySelector('[data-rsi-setting=\"midline-style\"]') as HTMLSelectElement | null;\n  if (length) length.value = String(rsiSettings.length);\n  if (color) color.value = rsiSettings.lineColor;\n  if (midlineColor) midlineColor.value = rsiSettings.midlineColor;\n  if (midlineStyle) midlineStyle.value = rsiSettings.midlineStyle;\n}\n\nfunction syncVolumeDeltaSettingsPanelValues(): void {\n  if (!volumeDeltaSettingsPanelEl) return;\n  const source = volumeDeltaSettingsPanelEl.querySelector('[data-vd-setting=\"source-interval\"]') as HTMLSelectElement | null;\n  const divergenceTable = volumeDeltaSettingsPanelEl.querySelector('[data-vd-setting=\"divergence-table\"]') as HTMLInputElement | null;\n  const divergent = volumeDeltaSettingsPanelEl.querySelector('[data-vd-setting=\"divergent-price-bars\"]') as HTMLInputElement | null;\n  const bullish = volumeDeltaSettingsPanelEl.querySelector('[data-vd-setting=\"divergent-bullish-color\"]') as HTMLInputElement | null;\n  const bearish = volumeDeltaSettingsPanelEl.querySelector('[data-vd-setting=\"divergent-bearish-color\"]') as HTMLInputElement | null;\n  const neutral = volumeDeltaSettingsPanelEl.querySelector('[data-vd-setting=\"divergent-neutral-color\"]') as HTMLInputElement | null;\n  if (source) source.value = volumeDeltaSettings.sourceInterval;\n  if (divergenceTable) divergenceTable.checked = volumeDeltaSettings.divergenceTable;\n  if (divergent) divergent.checked = volumeDeltaSettings.divergentPriceBars;\n  if (bullish) bullish.value = volumeDeltaSettings.bullishDivergentColor;\n  if (bearish) bearish.value = volumeDeltaSettings.bearishDivergentColor;\n  if (neutral) neutral.value = volumeDeltaSettings.neutralDivergentColor;\n}\n\nfunction syncVolumeDeltaRSISettingsPanelValues(): void {\n  if (!volumeDeltaRsiSettingsPanelEl) return;\n  const length = volumeDeltaRsiSettingsPanelEl.querySelector('[data-vd-rsi-setting=\"length\"]') as HTMLInputElement | null;\n  const color = volumeDeltaRsiSettingsPanelEl.querySelector('[data-vd-rsi-setting=\"line-color\"]') as HTMLInputElement | null;\n  const midlineColor = volumeDeltaRsiSettingsPanelEl.querySelector('[data-vd-rsi-setting=\"midline-color\"]') as HTMLInputElement | null;\n  const midlineStyle = volumeDeltaRsiSettingsPanelEl.querySelector('[data-vd-rsi-setting=\"midline-style\"]') as HTMLSelectElement | null;\n  const source = volumeDeltaRsiSettingsPanelEl.querySelector('[data-vd-rsi-setting=\"source-interval\"]') as HTMLSelectElement | null;\n  if (length) length.value = String(volumeDeltaRsiSettings.length);\n  if (color) color.value = volumeDeltaRsiSettings.lineColor;\n  if (midlineColor) midlineColor.value = volumeDeltaRsiSettings.midlineColor;\n  if (midlineStyle) midlineStyle.value = volumeDeltaRsiSettings.midlineStyle;\n  if (source) source.value = volumeDeltaRsiSettings.sourceInterval;\n}\n\nfunction hideSettingsPanels(): void {\n  if (priceSettingsPanelEl) priceSettingsPanelEl.style.display = 'none';\n  if (volumeDeltaSettingsPanelEl) volumeDeltaSettingsPanelEl.style.display = 'none';\n  if (volumeDeltaRsiSettingsPanelEl) volumeDeltaRsiSettingsPanelEl.style.display = 'none';\n  if (rsiSettingsPanelEl) rsiSettingsPanelEl.style.display = 'none';\n}\n\nfunction getTopPaneId(): PaneId {\n  return normalizePaneOrder(paneOrder)[0];\n}\n\nfunction getTopPaneBadgePriority(badge: HTMLElement): number {\n  const role = String(badge.dataset.topPaneBadgeRole || '');\n  if (role === 'ticker') return 0;\n  if (role === 'price-change') return 1;\n  return 100;\n}\n\nfunction getPaneBadgeStartLeft(container: HTMLElement): number {\n  const toolButtons = Array.from(container.querySelectorAll<HTMLElement>('.pane-settings-btn, .pane-trendline-btn'));\n  if (!toolButtons.length) return TOP_PANE_BADGE_START_LEFT_PX;\n  const rightEdge = toolButtons.reduce((maxRight, btn) => {\n    const right = btn.offsetLeft + btn.offsetWidth;\n    return right > maxRight ? right : maxRight;\n  }, 0);\n  const computed = rightEdge + TOP_PANE_BADGE_GAP_PX;\n  return Math.max(TOP_PANE_BADGE_START_LEFT_PX, computed);\n}\n\nfunction layoutTopPaneBadges(container: HTMLElement): void {\n  const badges = Array.from(container.querySelectorAll<HTMLElement>(`.${TOP_PANE_BADGE_CLASS}`))\n    .filter((badge) => badge.style.display !== 'none');\n  if (!badges.length) return;\n\n  const ordered = badges\n    .map((badge, index) => ({ badge, index, priority: getTopPaneBadgePriority(badge) }))\n    .sort((a, b) => (a.priority - b.priority) || (a.index - b.index))\n    .map((entry) => entry.badge);\n\n  let left = getPaneBadgeStartLeft(container);\n  for (const badge of ordered) {\n    badge.style.left = `${left}px`;\n    badge.style.top = '8px';\n    badge.style.maxWidth = `calc(100% - ${left + 30}px)`;\n    const width = Math.ceil(badge.getBoundingClientRect().width || badge.offsetWidth || 0);\n    left += Math.max(0, width) + TOP_PANE_BADGE_GAP_PX;\n  }\n}\n\nfunction openTickerOnTradingView(ticker: string): void {\n  const symbol = String(ticker || '').trim().toUpperCase();\n  if (!symbol) return;\n  const url = `https://www.tradingview.com/symbols/${encodeURIComponent(symbol)}/`;\n  window.open(url, '_blank', 'noopener,noreferrer');\n}\n\nfunction syncTopPaneTickerLabel(): void {\n  const topPaneId = getTopPaneId();\n\n  for (const paneId of DEFAULT_PANE_ORDER) {\n    const pane = document.getElementById(paneId);\n    if (!pane || !(pane instanceof HTMLElement)) continue;\n    const existing = pane.querySelector(`.${TOP_PANE_TICKER_LABEL_CLASS}`) as HTMLDivElement | null;\n    if (!existing) continue;\n    if (paneId !== topPaneId) {\n      existing.remove();\n    }\n  }\n\n  if (!topPaneId) return;\n  const topPane = document.getElementById(topPaneId);\n  if (!topPane || !(topPane instanceof HTMLElement)) return;\n\n  const ticker = String(currentChartTicker || '').trim().toUpperCase();\n  let label = topPane.querySelector(`.${TOP_PANE_TICKER_LABEL_CLASS}`) as HTMLDivElement | null;\n  if (!ticker) {\n    if (label) label.remove();\n    for (const paneId of DEFAULT_PANE_ORDER) {\n      const pane = document.getElementById(paneId);\n      if (!pane || !(pane instanceof HTMLElement)) continue;\n      layoutTopPaneBadges(pane);\n    }\n    return;\n  }\n\n  if (!label) {\n    const startLeft = getPaneBadgeStartLeft(topPane);\n    label = document.createElement('div');\n    label.className = `${TOP_PANE_TICKER_LABEL_CLASS} ${TOP_PANE_BADGE_CLASS}`;\n    label.dataset.topPaneBadgeRole = 'ticker';\n    label.style.position = 'absolute';\n    label.style.left = `${startLeft}px`;\n    label.style.top = '8px';\n    label.style.zIndex = '32';\n    label.style.minHeight = '24px';\n    label.style.maxWidth = `calc(100% - ${startLeft + 30}px)`;\n    label.style.display = 'inline-flex';\n    label.style.alignItems = 'center';\n    label.style.padding = '0 8px';\n    label.style.borderRadius = '4px';\n    label.style.border = '1px solid #30363d';\n    label.style.background = '#161b22';\n    label.style.color = '#c9d1d9';\n    label.style.fontSize = '12px';\n    label.style.fontWeight = '600';\n    label.style.fontFamily = \"'SF Mono', 'Menlo', 'Monaco', 'Consolas', monospace\";\n    label.style.whiteSpace = 'nowrap';\n    label.style.overflow = 'hidden';\n    label.style.textOverflow = 'ellipsis';\n    label.style.pointerEvents = 'auto';\n    label.style.cursor = 'pointer';\n    label.title = 'Open on TradingView';\n    label.setAttribute('role', 'link');\n    label.tabIndex = 0;\n    if (!label.dataset.clickBound) {\n      label.addEventListener('click', (event) => {\n        event.stopPropagation();\n        const el = event.currentTarget as HTMLElement;\n        openTickerOnTradingView(String(el.dataset.tickerSymbol || ''));\n      });\n      label.addEventListener('keydown', (event) => {\n        if (event.key !== 'Enter' && event.key !== ' ') return;\n        event.preventDefault();\n        const el = event.currentTarget as HTMLElement;\n        openTickerOnTradingView(String(el.dataset.tickerSymbol || ''));\n      });\n      label.dataset.clickBound = '1';\n    }\n    topPane.appendChild(label);\n  }\n\n  label.dataset.tickerSymbol = ticker;\n  label.textContent = ticker;\n  for (const paneId of DEFAULT_PANE_ORDER) {\n    const pane = document.getElementById(paneId);\n    if (!pane || !(pane instanceof HTMLElement)) continue;\n    layoutTopPaneBadges(pane);\n  }\n}\n\nfunction applyPaneOrderToDom(chartContent: HTMLElement): void {\n  for (const paneId of paneOrder) {\n    const pane = document.getElementById(paneId);\n    if (!pane || pane.parentElement !== chartContent) continue;\n    chartContent.appendChild(pane);\n  }\n}\n\nfunction movePaneInOrder(movingPaneId: PaneId, targetPaneId: PaneId, insertAfter: boolean): void {\n  if (movingPaneId === targetPaneId) return;\n  const nextOrder = paneOrder.filter((paneId) => paneId !== movingPaneId);\n  const targetIndex = nextOrder.indexOf(targetPaneId);\n  if (targetIndex < 0) return;\n  const insertIndex = insertAfter ? targetIndex + 1 : targetIndex;\n  nextOrder.splice(insertIndex, 0, movingPaneId);\n  paneOrder = normalizePaneOrder(nextOrder);\n}\n\nfunction clearPaneDragOverState(): void {\n  for (const paneId of DEFAULT_PANE_ORDER) {\n    const pane = document.getElementById(paneId);\n    if (!pane) continue;\n    pane.classList.remove('pane-drag-over');\n  }\n}\n\nfunction applyPaneOrderAndRefreshLayout(chartContent: HTMLElement): void {\n  applyPaneOrderToDom(chartContent);\n  const chartContainer = document.getElementById('price-chart-container');\n  const volumeDeltaRsiContainer = document.getElementById('vd-rsi-chart-container');\n  const rsiContainer = document.getElementById('rsi-chart-container');\n  const volumeDeltaContainer = document.getElementById('vd-chart-container');\n  if (chartContainer && volumeDeltaRsiContainer && rsiContainer && volumeDeltaContainer) {\n    applyChartSizes(\n      chartContainer as HTMLElement,\n      volumeDeltaRsiContainer as HTMLElement,\n      rsiContainer as HTMLElement,\n      volumeDeltaContainer as HTMLElement\n    );\n  }\n  applyPaneScaleVisibilityByPosition();\n  syncTopPaneTickerLabel();\n}\n\nfunction isChartFullscreen(): boolean {\n  const container = document.getElementById('custom-chart-container');\n  return container?.classList.contains('chart-fullscreen') === true;\n}\n\nfunction shouldShowPaneScale(paneId: PaneId): boolean {\n  const order = normalizePaneOrder(paneOrder);\n  const index = order.indexOf(paneId);\n  // Show only on pane positions 2 and 4.\n  // In fullscreen mode, hide the 4th pane's time scale.\n  if (index === 3 && isChartFullscreen()) return false;\n  return index === 1 || index === 3;\n}\n\nfunction applyChartScaleVisibility(chart: any, show: boolean): void {\n  if (!chart) return;\n  chart.applyOptions({\n    rightPriceScale: {\n      // Y-axis should always be visible on every pane.\n      visible: true\n    },\n    timeScale: {\n      visible: show,\n      borderVisible: show,\n      ticksVisible: show\n    }\n  });\n}\n\nfunction applyPaneScaleVisibilityByPosition(): void {\n  applyChartScaleVisibility(priceChart, shouldShowPaneScale('price-chart-container'));\n  applyChartScaleVisibility(volumeDeltaRsiChart, shouldShowPaneScale('vd-rsi-chart-container'));\n  applyChartScaleVisibility(rsiChart?.getChart(), shouldShowPaneScale('rsi-chart-container'));\n  applyChartScaleVisibility(volumeDeltaChart, shouldShowPaneScale('vd-chart-container'));\n}\n\nfunction ensurePaneReorderHandle(\n  pane: HTMLElement,\n  paneId: PaneId,\n  chartContent: HTMLElement\n): void {\n  if (!pane.dataset.paneId) {\n    pane.dataset.paneId = paneId;\n  }\n\n  let handle = pane.querySelector('.pane-order-handle') as HTMLButtonElement | null;\n  if (!handle) {\n    handle = document.createElement('button');\n    handle.type = 'button';\n    handle.className = 'pane-order-handle';\n    handle.title = 'Drag to reorder panes';\n    handle.textContent = '';\n    handle.setAttribute('aria-label', 'Reorder pane');\n    pane.appendChild(handle);\n  }\n\n  if (!handle.dataset.bound) {\n    handle.setAttribute('draggable', 'true');\n    handle.addEventListener('dragstart', (event: DragEvent) => {\n      draggedPaneId = paneId;\n      if (event.dataTransfer) {\n        event.dataTransfer.effectAllowed = 'move';\n        event.dataTransfer.setData('text/plain', paneId);\n      }\n      clearPaneDragOverState();\n    });\n    handle.addEventListener('dragend', () => {\n      draggedPaneId = null;\n      clearPaneDragOverState();\n    });\n    handle.dataset.bound = '1';\n  }\n\n  if (!pane.dataset.dropBound) {\n    pane.addEventListener('dragover', (event: DragEvent) => {\n      if (!draggedPaneId) return;\n      event.preventDefault();\n      pane.classList.add('pane-drag-over');\n      if (event.dataTransfer) event.dataTransfer.dropEffect = 'move';\n    });\n    pane.addEventListener('dragleave', () => {\n      pane.classList.remove('pane-drag-over');\n    });\n    pane.addEventListener('drop', (event: DragEvent) => {\n      event.preventDefault();\n      pane.classList.remove('pane-drag-over');\n      const source = draggedPaneId;\n      draggedPaneId = null;\n      if (!source || source === paneId) return;\n\n      const sourceIndex = paneOrder.indexOf(source);\n      const targetIndex = paneOrder.indexOf(paneId);\n      const insertAfter = sourceIndex >= 0 && targetIndex >= 0\n        ? sourceIndex < targetIndex\n        : true;\n      movePaneInOrder(source, paneId, insertAfter);\n      applyPaneOrderAndRefreshLayout(chartContent);\n      persistSettingsToStorage();\n    });\n    pane.dataset.dropBound = '1';\n  }\n}\n\nfunction ensurePaneReorderUI(chartContent: HTMLElement): void {\n  paneOrder = normalizePaneOrder(paneOrder);\n  applyPaneOrderToDom(chartContent);\n  for (const paneId of DEFAULT_PANE_ORDER) {\n    const pane = document.getElementById(paneId);\n    if (!pane || !(pane instanceof HTMLElement) || pane.parentElement !== chartContent) continue;\n    ensurePaneReorderHandle(pane, paneId, chartContent);\n  }\n  syncTopPaneTickerLabel();\n}\n\nfunction applyRSISettings(): void {\n  if (!rsiChart) return;\n  const rsiData = buildRSISeriesFromBars(currentBars, rsiSettings.length);\n  rsiByTime = new Map(\n    rsiData\n      .filter((point) => Number.isFinite(Number(point.value)))\n      .map((point) => [timeKey(point.time), Number(point.value)])\n  );\n  rsiChart.setData(rsiData, currentBars.map((b) => ({ time: b.time, close: b.close })));\n  rsiChart.setLineColor(rsiSettings.lineColor);\n  rsiChart.setMidlineOptions(rsiSettings.midlineColor, rsiSettings.midlineStyle);\n  refreshActiveDivergenceOverlays();\n}\n\nfunction midlineStyleToLineStyle(style: MidlineStyle): number {\n  return style === 'solid' ? 0 : 1;\n}\n\nfunction applyVolumeDeltaRSIVisualSettings(): void {\n  if (volumeDeltaRsiSeries) {\n    volumeDeltaRsiSeries.applyOptions({\n      color: volumeDeltaRsiSettings.lineColor,\n      lineWidth: 1\n    });\n  }\n  if (volumeDeltaRsiMidlineLine) {\n    volumeDeltaRsiMidlineLine.applyOptions({\n      color: volumeDeltaRsiSettings.midlineColor,\n      lineStyle: midlineStyleToLineStyle(volumeDeltaRsiSettings.midlineStyle)\n    });\n  }\n  refreshActiveDivergenceOverlays();\n}\n\nfunction applyVolumeDeltaRSISettings(refetch: boolean): void {\n  applyVolumeDeltaRSIVisualSettings();\n  if (!refetch) return;\n  if (!currentChartTicker) return;\n  renderCustomChart(currentChartTicker, currentChartInterval);\n}\n\nfunction resetPriceSettingsToDefault(): void {\n  clearMovingAverageSeries();\n  priceChartSettings.maSourceMode = DEFAULT_PRICE_SETTINGS.maSourceMode;\n  priceChartSettings.verticalGridlines = DEFAULT_PRICE_SETTINGS.verticalGridlines;\n  priceChartSettings.horizontalGridlines = DEFAULT_PRICE_SETTINGS.horizontalGridlines;\n  for (let i = 0; i < priceChartSettings.ma.length; i++) {\n    const defaults = DEFAULT_PRICE_SETTINGS.ma[i];\n    if (!defaults) continue;\n    priceChartSettings.ma[i].enabled = defaults.enabled;\n    priceChartSettings.ma[i].type = defaults.type;\n    priceChartSettings.ma[i].length = defaults.length;\n    priceChartSettings.ma[i].color = defaults.color;\n    priceChartSettings.ma[i].series = null;\n    priceChartSettings.ma[i].values = [];\n  }\n  paneOrder = [...DEFAULT_PANE_ORDER];\n  const chartContent = document.getElementById('chart-content');\n  if (chartContent && chartContent instanceof HTMLElement) {\n    applyPaneOrderAndRefreshLayout(chartContent);\n  }\n  applyPriceGridOptions();\n  applyMovingAverages();\n  syncPriceSettingsPanelValues();\n  persistSettingsToStorage();\n}\n\nfunction resetRSISettingsToDefault(): void {\n  rsiSettings.length = DEFAULT_RSI_SETTINGS.length;\n  rsiSettings.lineColor = DEFAULT_RSI_SETTINGS.lineColor;\n  rsiSettings.midlineColor = DEFAULT_RSI_SETTINGS.midlineColor;\n  rsiSettings.midlineStyle = DEFAULT_RSI_SETTINGS.midlineStyle;\n  applyRSISettings();\n  syncRSISettingsPanelValues();\n  persistSettingsToStorage();\n}\n\nfunction resetVolumeDeltaSettingsToDefault(): void {\n  volumeDeltaSettings.sourceInterval = DEFAULT_VOLUME_DELTA_SETTINGS.sourceInterval;\n  volumeDeltaSettings.divergenceTable = DEFAULT_VOLUME_DELTA_SETTINGS.divergenceTable;\n  volumeDeltaSettings.divergentPriceBars = DEFAULT_VOLUME_DELTA_SETTINGS.divergentPriceBars;\n  volumeDeltaSettings.bullishDivergentColor = DEFAULT_VOLUME_DELTA_SETTINGS.bullishDivergentColor;\n  volumeDeltaSettings.bearishDivergentColor = DEFAULT_VOLUME_DELTA_SETTINGS.bearishDivergentColor;\n  volumeDeltaSettings.neutralDivergentColor = DEFAULT_VOLUME_DELTA_SETTINGS.neutralDivergentColor;\n  if (currentChartTicker) {\n    renderCustomChart(currentChartTicker, currentChartInterval);\n  }\n  applyPricePaneDivergentBarColors();\n  syncVolumeDeltaSettingsPanelValues();\n  persistSettingsToStorage();\n}\n\nfunction resetVolumeDeltaRSISettingsToDefault(): void {\n  volumeDeltaRsiSettings.length = DEFAULT_VOLUME_DELTA_RSI_SETTINGS.length;\n  volumeDeltaRsiSettings.lineColor = DEFAULT_VOLUME_DELTA_RSI_SETTINGS.lineColor;\n  volumeDeltaRsiSettings.midlineColor = DEFAULT_VOLUME_DELTA_RSI_SETTINGS.midlineColor;\n  volumeDeltaRsiSettings.midlineStyle = DEFAULT_VOLUME_DELTA_RSI_SETTINGS.midlineStyle;\n  volumeDeltaRsiSettings.sourceInterval = DEFAULT_VOLUME_DELTA_RSI_SETTINGS.sourceInterval;\n  applyVolumeDeltaRSISettings(true);\n  syncVolumeDeltaRSISettingsPanelValues();\n  persistSettingsToStorage();\n}\n\nfunction createSettingsButton(container: HTMLElement, pane: PaneControlType): HTMLButtonElement {\n  const existing = container.querySelector(`.pane-settings-btn[data-pane=\"${pane}\"]`) as HTMLButtonElement | null;\n  if (existing) return existing;\n  const btn = document.createElement('button');\n  btn.className = 'pane-settings-btn settings-icon-btn';\n  btn.dataset.pane = pane;\n  btn.type = 'button';\n  btn.title = pane === 'price'\n    ? 'Price settings'\n    : pane === 'volumeDelta'\n      ? 'Volume Delta settings'\n      : pane === 'volumeDeltaRsi'\n        ? 'Volume Delta RSI settings'\n        : 'RSI settings';\n  btn.textContent = SETTINGS_ICON;\n  btn.style.position = 'absolute';\n  btn.style.left = `${PANE_SETTINGS_BUTTON_LEFT_PX}px`;\n  btn.style.top = `${PANE_TOOL_BUTTON_TOP_PX}px`;\n  btn.style.zIndex = '30';\n  btn.style.width = `${PANE_TOOL_BUTTON_SIZE_PX}px`;\n  btn.style.height = `${PANE_TOOL_BUTTON_SIZE_PX}px`;\n  btn.style.borderRadius = '4px';\n  container.appendChild(btn);\n  return btn;\n}\n\nfunction getPaneShortLabel(pane: PaneControlType): string {\n  if (pane === 'volumeDelta') return 'VD';\n  if (pane === 'volumeDeltaRsi') return 'VD-RSI';\n  if (pane === 'rsi') return 'RSI';\n  return 'Price';\n}\n\nfunction createPaneNameBadge(container: HTMLElement, pane: PaneControlType): HTMLDivElement {\n  const existing = container.querySelector(`.pane-name-badge[data-pane=\"${pane}\"]`) as HTMLDivElement | null;\n  if (existing) return existing;\n\n  const badge = document.createElement('div');\n  badge.className = 'pane-name-badge';\n  badge.dataset.pane = pane;\n  badge.textContent = getPaneShortLabel(pane);\n  badge.style.position = 'absolute';\n  badge.style.left = `${PANE_SETTINGS_BUTTON_LEFT_PX}px`;\n  badge.style.top = `${PANE_TOOL_BUTTON_TOP_PX + PANE_TOOL_BUTTON_SIZE_PX + PANE_TOOL_BUTTON_GAP_PX}px`;\n  badge.style.zIndex = '30';\n  badge.style.minWidth = `${PANE_TOOL_BUTTON_SIZE_PX}px`;\n  badge.style.height = `${PANE_TOOL_BUTTON_SIZE_PX}px`;\n  badge.style.padding = '0 8px';\n  badge.style.borderRadius = '4px';\n  badge.style.border = '1px solid #30363d';\n  badge.style.background = '#161b22';\n  badge.style.color = '#c9d1d9';\n  badge.style.display = 'inline-flex';\n  badge.style.alignItems = 'center';\n  badge.style.justifyContent = 'center';\n  badge.style.fontSize = '12px';\n  badge.style.fontWeight = '600';\n  badge.style.fontFamily = \"'SF Mono', 'Menlo', 'Monaco', 'Consolas', monospace\";\n  badge.style.pointerEvents = 'none';\n  badge.style.userSelect = 'none';\n  container.appendChild(badge);\n  return badge;\n}\n\nfunction createPaneTrendlineButton(\n  container: HTMLElement,\n  pane: TrendToolPane,\n  action: 'trend' | 'erase' | 'divergence',\n  orderFromSettings: number\n): HTMLButtonElement {\n  const existing = container.querySelector(`.pane-trendline-btn[data-pane=\"${pane}\"][data-action=\"${action}\"]`) as HTMLButtonElement | null;\n  if (existing) return existing;\n\n  const btn = document.createElement('button');\n  btn.className = 'pane-trendline-btn';\n  btn.dataset.pane = pane;\n  btn.dataset.action = action;\n  btn.type = 'button';\n  btn.title = action === 'trend'\n    ? 'Draw Trendline'\n    : action === 'erase'\n      ? 'Erase Trendline'\n      : 'Divergence';\n  btn.textContent = action === 'trend'\n    ? TREND_ICON\n    : action === 'erase'\n      ? ERASE_ICON\n      : DIVERGENCE_ICON;\n  btn.style.position = 'absolute';\n  btn.style.left = `${PANE_SETTINGS_BUTTON_LEFT_PX + ((orderFromSettings + 1) * (PANE_TOOL_BUTTON_SIZE_PX + PANE_TOOL_BUTTON_GAP_PX))}px`;\n  btn.style.top = `${PANE_TOOL_BUTTON_TOP_PX}px`;\n  btn.style.zIndex = '30';\n  btn.style.width = `${PANE_TOOL_BUTTON_SIZE_PX}px`;\n  btn.style.height = `${PANE_TOOL_BUTTON_SIZE_PX}px`;\n  btn.style.borderRadius = '4px';\n  btn.style.border = '1px solid #30363d';\n  btn.style.background = '#161b22';\n  btn.style.color = '#c9d1d9';\n  btn.style.cursor = 'pointer';\n  btn.style.padding = '0';\n  container.appendChild(btn);\n  return btn;\n}\n\nfunction getPaneToolButton(pane: TrendToolPane, action: 'trend' | 'divergence'): HTMLButtonElement | null {\n  return document.querySelector(`.pane-trendline-btn[data-pane=\"${pane}\"][data-action=\"${action}\"]`) as HTMLButtonElement | null;\n}\n\nfunction setPaneToolButtonActive(pane: TrendToolPane, action: 'trend' | 'divergence', active: boolean): void {\n  const btn = getPaneToolButton(pane, action);\n  if (!btn) return;\n  btn.classList.toggle('active', active);\n  btn.style.background = active ? '#1f6feb' : '#161b22';\n  btn.style.color = '#ffffff';\n  btn.textContent = action === 'trend' ? TREND_ICON : DIVERGENCE_ICON;\n}\n\nfunction setPaneTrendlineToolActive(pane: TrendToolPane, active: boolean): void {\n  setPaneToolButtonActive(pane, 'trend', active);\n}\n\nfunction getTrendlineCrosshairCueTime(): string | number | null {\n  if (!Array.isArray(currentBars) || currentBars.length === 0) return null;\n  const fallbackTime = currentBars[currentBars.length - 1]?.time;\n  if (typeof fallbackTime !== 'string' && typeof fallbackTime !== 'number') return null;\n  if (!priceChart) return fallbackTime;\n\n  try {\n    const visibleRange = priceChart.timeScale().getVisibleLogicalRange?.();\n    const from = Number(visibleRange?.from);\n    const to = Number(visibleRange?.to);\n    if (!Number.isFinite(from) || !Number.isFinite(to)) {\n      return fallbackTime;\n    }\n    const centerIndex = Math.round((from + to) / 2);\n    const clampedIndex = Math.max(0, Math.min(currentBars.length - 1, centerIndex));\n    const candidateTime = currentBars[clampedIndex]?.time;\n    if (typeof candidateTime === 'string' || typeof candidateTime === 'number') {\n      return candidateTime;\n    }\n  } catch {\n    // Fall through to last bar cue.\n  }\n\n  return fallbackTime;\n}\n\nfunction primeRsiTrendlineCrosshairCue(): void {\n  if (!rsiChart) return;\n  const cueTime = getTrendlineCrosshairCueTime();\n  if (cueTime === null) return;\n  const cueValue = getNearestMappedValueAtOrBefore(cueTime, rsiByTime);\n  const chart = rsiChart.getChart?.();\n  const series = rsiChart.getSeries?.();\n  if (!chart || !series || !Number.isFinite(cueValue)) return;\n  try {\n    chart.setCrosshairPosition(Number(cueValue), cueTime, series);\n  } catch {\n    // Ignore transient cue placement errors.\n  }\n}\n\nfunction primeVolumeDeltaRsiTrendlineCrosshairCue(): void {\n  if (!volumeDeltaRsiChart || !volumeDeltaRsiSeries) return;\n  const cueTime = getTrendlineCrosshairCueTime();\n  if (cueTime === null) return;\n  const cueValue = getNearestMappedValueAtOrBefore(cueTime, volumeDeltaRsiByTime);\n  if (!Number.isFinite(cueValue)) return;\n  try {\n    volumeDeltaRsiChart.setCrosshairPosition(Number(cueValue), cueTime, volumeDeltaRsiSeries);\n  } catch {\n    // Ignore transient cue placement errors.\n  }\n}\n\nfunction toggleRSITrendlineTool(): void {\n  if (!rsiChart) return;\n  if (rsiDivergenceToolActive) {\n    rsiChart.deactivateDivergenceTool();\n    rsiDivergenceToolActive = false;\n    setPaneTrendlineToolActive('rsi', false);\n    return;\n  }\n  if (rsiDivergencePlotToolActive) {\n    deactivateRsiDivergencePlotTool();\n  }\n  rsiChart.activateDivergenceTool();\n  rsiDivergenceToolActive = true;\n  setPaneTrendlineToolActive('rsi', true);\n  primeRsiTrendlineCrosshairCue();\n}\n\nfunction clearRSITrendlines(): void {\n  rsiChart?.clearDivergence(true);\n  rsiChart?.deactivateDivergenceTool();\n  rsiDivergenceToolActive = false;\n  setPaneTrendlineToolActive('rsi', false);\n  persistTrendlinesForCurrentContext();\n}\n\nfunction toggleVolumeDeltaRSITrendlineTool(): void {\n  if (!volumeDeltaRsiChart) return;\n  if (volumeDeltaDivergenceToolActive) {\n    deactivateVolumeDeltaDivergenceTool();\n    setPaneTrendlineToolActive('volumeDeltaRsi', false);\n    return;\n  }\n  if (volumeDeltaRsiDivergencePlotToolActive) {\n    deactivateVolumeDeltaRsiDivergencePlotTool();\n  }\n  activateVolumeDeltaDivergenceTool();\n  setPaneTrendlineToolActive('volumeDeltaRsi', true);\n  primeVolumeDeltaRsiTrendlineCrosshairCue();\n}\n\nfunction clearVolumeDeltaRSITrendlines(): void {\n  clearVolumeDeltaDivergence(true);\n  deactivateVolumeDeltaDivergenceTool();\n  setPaneTrendlineToolActive('volumeDeltaRsi', false);\n  persistTrendlinesForCurrentContext();\n}\n\nfunction formatDivergenceOverlayTimeLabel(time: string | number): string {\n  const unix = unixSecondsFromTimeValue(time);\n  if (unix === null) return '';\n  const date = new Date(unix * 1000);\n  if (currentChartInterval === '1day' || currentChartInterval === '1week') {\n    return getAppTimeZoneFormatter('en-US', {\n      month: '2-digit',\n      day: '2-digit',\n      year: '2-digit'\n    }).format(date);\n  }\n  return date.toLocaleString('en-US', {\n    timeZone: getAppTimeZone(),\n    month: '2-digit',\n    day: '2-digit',\n    hour: '2-digit',\n    minute: '2-digit',\n    hour12: false\n  });\n}\n\nfunction ensureDivergenceOverlay(container: HTMLElement, pane: TrendToolPane): HTMLDivElement {\n  const existing = pane === 'rsi' ? rsiDivergenceOverlayEl : volumeDeltaRsiDivergenceOverlayEl;\n  if (existing && existing.parentElement === container) {\n    existing.style.top = '0';\n    existing.style.right = '0';\n    existing.style.maxWidth = '100%';\n    return existing;\n  }\n\n  const overlay = document.createElement('div');\n  overlay.className = `divergence-plot-overlay divergence-plot-overlay-${pane}`;\n  overlay.style.position = 'absolute';\n  overlay.style.top = '0';\n  overlay.style.right = '0';\n  overlay.style.width = '468px';\n  overlay.style.maxWidth = '100%';\n  overlay.style.height = '286px';\n  overlay.style.border = '1px solid #30363d';\n  overlay.style.borderRadius = '6px';\n  overlay.style.background = 'rgba(13, 17, 23, 0.95)';\n  overlay.style.backdropFilter = 'blur(4px)';\n  overlay.style.zIndex = '35';\n  overlay.style.pointerEvents = 'none';\n  overlay.style.display = 'none';\n  overlay.style.padding = '8px';\n  overlay.style.boxSizing = 'border-box';\n\n  const canvasWrap = document.createElement('div');\n  canvasWrap.style.position = 'relative';\n  canvasWrap.style.width = '100%';\n  canvasWrap.style.height = '100%';\n  const canvas = document.createElement('canvas');\n  canvas.className = 'divergence-plot-overlay-canvas';\n  canvasWrap.appendChild(canvas);\n  overlay.appendChild(canvasWrap);\n  container.appendChild(overlay);\n\n  if (pane === 'rsi') {\n    rsiDivergenceOverlayEl = overlay;\n  } else {\n    volumeDeltaRsiDivergenceOverlayEl = overlay;\n  }\n  return overlay;\n}\n\nfunction getDivergenceOverlayChart(pane: TrendToolPane): any {\n  return pane === 'rsi' ? rsiDivergenceOverlayChart : volumeDeltaRsiDivergenceOverlayChart;\n}\n\nfunction setDivergenceOverlayChart(pane: TrendToolPane, chart: any | null): void {\n  if (pane === 'rsi') {\n    rsiDivergenceOverlayChart = chart;\n  } else {\n    volumeDeltaRsiDivergenceOverlayChart = chart;\n  }\n}\n\nfunction hideDivergenceOverlay(pane: TrendToolPane): void {\n  const overlay = pane === 'rsi' ? rsiDivergenceOverlayEl : volumeDeltaRsiDivergenceOverlayEl;\n  if (overlay) overlay.style.display = 'none';\n  const chart = getDivergenceOverlayChart(pane);\n  if (chart) {\n    try {\n      chart.destroy();\n    } catch {\n      // Ignore stale chart teardown errors.\n    }\n    setDivergenceOverlayChart(pane, null);\n  }\n}\n\nfunction findNearestBarIndex(time: string | number): number | null {\n  if (!Array.isArray(currentBars) || currentBars.length === 0) return null;\n  const direct = barIndexByTime.get(timeKey(time));\n  if (direct !== undefined) return direct;\n  const targetUnix = unixSecondsFromTimeValue(time);\n  if (targetUnix === null) return null;\n  let bestIndex = 0;\n  let bestDistance = Number.POSITIVE_INFINITY;\n  for (let i = 0; i < currentBars.length; i++) {\n    const unix = unixSecondsFromTimeValue(currentBars[i]?.time);\n    if (unix === null) continue;\n    const distance = Math.abs(unix - targetUnix);\n    if (distance < bestDistance) {\n      bestDistance = distance;\n      bestIndex = i;\n    }\n  }\n  return Number.isFinite(bestDistance) ? bestIndex : null;\n}\n\nfunction buildDivergenceOverlayData(startIndex: number): { labels: string[]; rsiValues: number[]; volumeDeltaRsiValues: number[] } {\n  const labels: string[] = [];\n  const rsiValues: number[] = [];\n  const volumeDeltaRsiValues: number[] = [];\n  for (let i = startIndex; i < currentBars.length; i++) {\n    const bar = currentBars[i];\n    const key = timeKey(bar.time);\n    const rsiValue = Number(rsiByTime.get(key));\n    const vdRsiValue = Number(volumeDeltaRsiByTime.get(key));\n    if (!Number.isFinite(rsiValue) || !Number.isFinite(vdRsiValue)) continue;\n    labels.push(formatDivergenceOverlayTimeLabel(bar.time));\n    rsiValues.push(rsiValue);\n    volumeDeltaRsiValues.push(vdRsiValue);\n  }\n  return { labels, rsiValues, volumeDeltaRsiValues };\n}\n\nfunction renderDivergenceOverlayForPane(pane: TrendToolPane, startIndex: number): void {\n  const container = pane === 'rsi'\n    ? document.getElementById('rsi-chart-container')\n    : document.getElementById('vd-rsi-chart-container');\n  if (!container || !(container instanceof HTMLElement)) return;\n  const overlay = ensureDivergenceOverlay(container, pane);\n  const canvas = overlay.querySelector('.divergence-plot-overlay-canvas') as HTMLCanvasElement | null;\n  if (!canvas) return;\n  if (!currentBars.length || startIndex < 0 || startIndex >= currentBars.length) {\n    hideDivergenceOverlay(pane);\n    return;\n  }\n\n  const data = buildDivergenceOverlayData(startIndex);\n  if (data.rsiValues.length < 2) {\n    hideDivergenceOverlay(pane);\n    return;\n  }\n\n  overlay.style.display = 'block';\n  const existingChart = getDivergenceOverlayChart(pane);\n  if (existingChart) {\n    existingChart.data.labels = data.labels;\n    existingChart.data.datasets[0].data = data.rsiValues;\n    existingChart.data.datasets[0].borderColor = rsiSettings.lineColor;\n    existingChart.data.datasets[1].data = data.volumeDeltaRsiValues;\n    existingChart.data.datasets[1].borderColor = volumeDeltaRsiSettings.lineColor;\n    existingChart.update('none');\n    return;\n  }\n\n  const chart = new Chart(canvas, {\n    type: 'line',\n    data: {\n      labels: data.labels,\n      datasets: [\n        {\n          label: 'RSI',\n          data: data.rsiValues,\n          borderColor: rsiSettings.lineColor,\n          backgroundColor: 'transparent',\n          borderWidth: 1,\n          pointRadius: data.rsiValues.length > 24 ? 0 : 2,\n          tension: 0.2\n        },\n        {\n          label: 'VD RSI',\n          data: data.volumeDeltaRsiValues,\n          borderColor: volumeDeltaRsiSettings.lineColor,\n          backgroundColor: 'transparent',\n          borderWidth: 1,\n          pointRadius: data.volumeDeltaRsiValues.length > 24 ? 0 : 2,\n          tension: 0.2\n        }\n      ]\n    },\n    options: {\n      responsive: true,\n      maintainAspectRatio: false,\n      animation: false,\n      interaction: {\n        mode: 'index',\n        intersect: false\n      },\n      plugins: {\n        legend: {\n          display: false\n        },\n        tooltip: {\n          backgroundColor: 'rgba(22, 27, 34, 0.95)',\n          borderColor: '#30363d',\n          borderWidth: 1,\n          titleColor: '#c9d1d9',\n          bodyColor: '#8b949e'\n        }\n      },\n      scales: {\n        x: {\n          display: false,\n          ticks: {\n            color: '#8b949e',\n            maxRotation: 0,\n            autoSkip: true,\n            maxTicksLimit: 6,\n            font: { size: 10 }\n          },\n          grid: { color: 'rgba(48, 54, 61, 0.22)' }\n        },\n        y: {\n          display: false,\n          min: 0,\n          max: 100,\n          ticks: {\n            color: '#8b949e',\n            font: { size: 10 }\n          },\n          grid: { color: 'rgba(48, 54, 61, 0.22)' }\n        }\n      }\n    }\n  });\n  setDivergenceOverlayChart(pane, chart);\n}\n\nfunction deactivateRsiDivergencePlotTool(): void {\n  rsiDivergencePlotToolActive = false;\n  rsiDivergencePlotSelected = false;\n  rsiDivergencePlotStartIndex = null;\n  setPaneToolButtonActive('rsi', 'divergence', false);\n  hideDivergenceOverlay('rsi');\n}\n\nfunction deactivateVolumeDeltaRsiDivergencePlotTool(): void {\n  volumeDeltaRsiDivergencePlotToolActive = false;\n  volumeDeltaRsiDivergencePlotSelected = false;\n  volumeDeltaRsiDivergencePlotStartIndex = null;\n  setPaneToolButtonActive('volumeDeltaRsi', 'divergence', false);\n  hideDivergenceOverlay('volumeDeltaRsi');\n}\n\nfunction updateRsiDivergencePlotPoint(time: string | number, fromMove: boolean): void {\n  if (!rsiDivergencePlotToolActive) return;\n  if (fromMove && !rsiDivergencePlotSelected) return;\n  const index = findNearestBarIndex(time);\n  if (index === null) return;\n  rsiDivergencePlotSelected = true;\n  rsiDivergencePlotStartIndex = index;\n  renderDivergenceOverlayForPane('rsi', index);\n}\n\nfunction updateVolumeDeltaRsiDivergencePlotPoint(time: string | number, fromMove: boolean): void {\n  if (!volumeDeltaRsiDivergencePlotToolActive) return;\n  if (fromMove && !volumeDeltaRsiDivergencePlotSelected) return;\n  const index = findNearestBarIndex(time);\n  if (index === null) return;\n  volumeDeltaRsiDivergencePlotSelected = true;\n  volumeDeltaRsiDivergencePlotStartIndex = index;\n  renderDivergenceOverlayForPane('volumeDeltaRsi', index);\n}\n\nfunction toggleRsiDivergencePlotTool(): void {\n  if (rsiDivergencePlotToolActive) {\n    deactivateRsiDivergencePlotTool();\n    return;\n  }\n  if (rsiDivergenceToolActive) {\n    rsiChart?.deactivateDivergenceTool();\n    rsiDivergenceToolActive = false;\n    setPaneTrendlineToolActive('rsi', false);\n  }\n  rsiDivergencePlotToolActive = true;\n  rsiDivergencePlotSelected = false;\n  rsiDivergencePlotStartIndex = null;\n  setPaneToolButtonActive('rsi', 'divergence', true);\n}\n\nfunction toggleVolumeDeltaRsiDivergencePlotTool(): void {\n  if (volumeDeltaRsiDivergencePlotToolActive) {\n    deactivateVolumeDeltaRsiDivergencePlotTool();\n    return;\n  }\n  if (volumeDeltaDivergenceToolActive) {\n    deactivateVolumeDeltaDivergenceTool();\n    setPaneTrendlineToolActive('volumeDeltaRsi', false);\n  }\n  volumeDeltaRsiDivergencePlotToolActive = true;\n  volumeDeltaRsiDivergencePlotSelected = false;\n  volumeDeltaRsiDivergencePlotStartIndex = null;\n  setPaneToolButtonActive('volumeDeltaRsi', 'divergence', true);\n}\n\nfunction refreshActiveDivergenceOverlays(): void {\n  if (rsiDivergencePlotToolActive && rsiDivergencePlotSelected && rsiDivergencePlotStartIndex !== null) {\n    renderDivergenceOverlayForPane('rsi', rsiDivergencePlotStartIndex);\n  }\n  if (volumeDeltaRsiDivergencePlotToolActive && volumeDeltaRsiDivergencePlotSelected && volumeDeltaRsiDivergencePlotStartIndex !== null) {\n    renderDivergenceOverlayForPane('volumeDeltaRsi', volumeDeltaRsiDivergencePlotStartIndex);\n  }\n}\n\nfunction deactivateInteractivePaneToolsFromEscape(): void {\n  if (rsiDivergenceToolActive) {\n    rsiChart?.deactivateDivergenceTool();\n    rsiDivergenceToolActive = false;\n    setPaneTrendlineToolActive('rsi', false);\n  }\n  if (volumeDeltaDivergenceToolActive) {\n    deactivateVolumeDeltaDivergenceTool();\n    setPaneTrendlineToolActive('volumeDeltaRsi', false);\n  }\n  if (rsiDivergencePlotToolActive) {\n    deactivateRsiDivergencePlotTool();\n  }\n  if (volumeDeltaRsiDivergencePlotToolActive) {\n    deactivateVolumeDeltaRsiDivergencePlotTool();\n  }\n}\n\nfunction applyUniformSettingsPanelTypography(panel: HTMLDivElement): void {\n  panel.style.fontFamily = '-apple-system, BlinkMacSystemFont, \"Segoe UI\", sans-serif';\n  panel.style.fontSize = '12px';\n  panel.style.fontWeight = '500';\n  panel.style.lineHeight = '1.2';\n  panel.querySelectorAll<HTMLElement>('div, span, label, input, select, button').forEach((el) => {\n    el.style.fontFamily = 'inherit';\n    el.style.fontSize = 'inherit';\n    el.style.fontWeight = 'inherit';\n    el.style.fontStyle = 'normal';\n    el.style.letterSpacing = 'normal';\n  });\n  panel.querySelectorAll<HTMLElement>('label').forEach((label) => {\n    label.style.display = 'flex';\n    label.style.justifyContent = 'space-between';\n    label.style.alignItems = 'center';\n    label.style.gap = '8px';\n    label.style.minHeight = '26px';\n  });\n  panel.querySelectorAll<HTMLInputElement>('input[type=\"checkbox\"]').forEach((checkbox) => {\n    checkbox.style.width = '14px';\n    checkbox.style.height = '14px';\n    checkbox.style.margin = '0';\n  });\n  panel.querySelectorAll<HTMLElement>('input, select, button').forEach((control) => {\n    control.style.boxSizing = 'border-box';\n    control.style.lineHeight = '1.2';\n  });\n}\n\n\nfunction createPriceSettingsPanel(container: HTMLElement): HTMLDivElement {\n  const panel = document.createElement('div');\n  panel.className = 'pane-settings-panel price-settings-panel';\n  panel.style.position = 'absolute';\n  panel.style.left = '8px';\n  panel.style.top = '38px';\n  panel.style.zIndex = '31';\n  panel.style.width = '280px';\n  panel.style.maxWidth = 'calc(100% - 16px)';\n  panel.style.background = 'rgba(22, 27, 34, 0.95)';\n  panel.style.border = '1px solid #30363d';\n  panel.style.borderRadius = '6px';\n  panel.style.padding = '10px';\n  panel.style.display = 'none';\n  panel.style.color = '#c9d1d9';\n  panel.style.backdropFilter = 'blur(6px)';\n\n  panel.innerHTML = `\n    <div style=\"display:flex; justify-content:space-between; align-items:center; min-height:26px; margin-bottom:8px;\">\n      <div style=\"font-weight:600;\">Chart</div>\n      <button type=\"button\" data-price-setting=\"reset\" style=\"background:#0d1117; color:#c9d1d9; border:1px solid #30363d; border-radius:4px; padding:4px 8px; font-size:12px; cursor:pointer;\">Reset</button>\n    </div>\n    <label style=\"margin-bottom:6px;\">\n      <span>Vertical gridlines</span>\n      <input type=\"checkbox\" data-price-setting=\"v-grid\" />\n    </label>\n    <label style=\"margin-bottom:6px;\">\n      <span>Horizontal gridlines</span>\n      <input type=\"checkbox\" data-price-setting=\"h-grid\" />\n    </label>\n    <label style=\"margin-bottom:4px;\">\n      <span>MA source</span>\n      <select data-price-setting=\"ma-source\" style=\"background:#0d1117; color:#c9d1d9; border:1px solid #30363d; border-radius:4px; padding:2px 4px;\">\n        <option value=\"daily\">Daily</option>\n        <option value=\"timeframe\">Chart</option>\n      </select>\n    </label>\n    ${priceChartSettings.ma.map((_, i) => `\n      <div style=\"display:grid; grid-template-columns: 20px 64px 58px 1fr; gap:6px; align-items:center; min-height:26px; margin-bottom:6px;\">\n        <input type=\"checkbox\" data-price-setting=\"ma-enabled-${i}\" title=\"Enable MA ${i + 1}\" />\n        <select data-price-setting=\"ma-type-${i}\" style=\"background:#0d1117; color:#c9d1d9; border:1px solid #30363d; border-radius:4px; padding:2px 4px;\">\n          <option value=\"SMA\">SMA</option>\n          <option value=\"EMA\">EMA</option>\n        </select>\n        <input data-price-setting=\"ma-length-${i}\" type=\"number\" min=\"1\" max=\"500\" step=\"1\" style=\"width:58px; background:#0d1117; color:#c9d1d9; border:1px solid #30363d; border-radius:4px; padding:2px 4px;\" />\n        <input data-price-setting=\"ma-color-${i}\" type=\"color\" style=\"width:100%; height:24px; border:none; background:transparent; padding:0;\" />\n      </div>\n    `).join('')}\n  `;\n  applyUniformSettingsPanelTypography(panel);\n\n  panel.addEventListener('input', (event) => {\n    const target = event.target as HTMLElement;\n    if (!target) return;\n\n    const setting = (target as HTMLInputElement | HTMLSelectElement).dataset.priceSetting || '';\n    if (setting === 'ma-source') {\n      priceChartSettings.maSourceMode = ((target as HTMLSelectElement).value === 'timeframe') ? 'timeframe' : 'daily';\n      applyMovingAverages();\n      persistSettingsToStorage();\n      return;\n    }\n    if (setting === 'v-grid') {\n      priceChartSettings.verticalGridlines = (target as HTMLInputElement).checked;\n      scheduleChartLayoutRefresh();\n      persistSettingsToStorage();\n      return;\n    }\n    if (setting === 'h-grid') {\n      priceChartSettings.horizontalGridlines = (target as HTMLInputElement).checked;\n      applyPriceGridOptions();\n      persistSettingsToStorage();\n      return;\n    }\n\n    const maMatch = setting.match(/^ma-(enabled|type|length|color)-(\\d)$/);\n    if (!maMatch) return;\n    const key = maMatch[1];\n    const index = Number(maMatch[2]);\n    const ma = priceChartSettings.ma[index];\n    if (!ma) return;\n\n    if (key === 'enabled') {\n      ma.enabled = (target as HTMLInputElement).checked;\n    } else if (key === 'type') {\n      ma.type = ((target as HTMLSelectElement).value === 'EMA') ? 'EMA' : 'SMA';\n    } else if (key === 'length') {\n      ma.length = Math.max(1, Math.floor(Number((target as HTMLInputElement).value) || 14));\n    } else if (key === 'color') {\n      ma.color = (target as HTMLInputElement).value || ma.color;\n    }\n    applyMovingAverages();\n    persistSettingsToStorage();\n  });\n\n  panel.addEventListener('click', (event) => {\n    const target = event.target as HTMLButtonElement | null;\n    if (!target) return;\n    if (target.dataset.priceSetting !== 'reset') return;\n    event.preventDefault();\n    resetPriceSettingsToDefault();\n  });\n\n  container.appendChild(panel);\n  return panel;\n}\n\nfunction createRSISettingsPanel(container: HTMLElement): HTMLDivElement {\n  const panel = document.createElement('div');\n  panel.className = 'pane-settings-panel rsi-settings-panel';\n  panel.style.position = 'absolute';\n  panel.style.left = '8px';\n  panel.style.top = '38px';\n  panel.style.zIndex = '31';\n  panel.style.width = '230px';\n  panel.style.maxWidth = 'calc(100% - 16px)';\n  panel.style.background = 'rgba(22, 27, 34, 0.95)';\n  panel.style.border = '1px solid #30363d';\n  panel.style.borderRadius = '6px';\n  panel.style.padding = '10px';\n  panel.style.display = 'none';\n  panel.style.color = '#c9d1d9';\n  panel.style.backdropFilter = 'blur(6px)';\n\n  panel.innerHTML = `\n    <div style=\"display:flex; justify-content:space-between; align-items:center; min-height:26px; margin-bottom:8px;\">\n      <div style=\"font-weight:600;\">RSI</div>\n      <button type=\"button\" data-rsi-setting=\"reset\" style=\"background:#0d1117; color:#c9d1d9; border:1px solid #30363d; border-radius:4px; padding:4px 8px; font-size:12px; cursor:pointer;\">Reset</button>\n    </div>\n    <label style=\"margin-bottom:6px;\">\n      <span>Length</span>\n      <input data-rsi-setting=\"length\" type=\"number\" min=\"1\" max=\"200\" step=\"1\" style=\"width:64px; background:#0d1117; color:#c9d1d9; border:1px solid #30363d; border-radius:4px; padding:2px 4px;\" />\n    </label>\n    <label style=\"margin-bottom:6px;\">\n      <span>Line color</span>\n      <input data-rsi-setting=\"line-color\" type=\"color\" style=\"width:64px; height:24px; border:none; background:transparent; padding:0;\" />\n    </label>\n    <label style=\"margin-bottom:6px;\">\n      <span>Midline color</span>\n      <input data-rsi-setting=\"midline-color\" type=\"color\" style=\"width:64px; height:24px; border:none; background:transparent; padding:0;\" />\n    </label>\n    <label style=\"margin-bottom:6px;\">\n      <span>Midline style</span>\n      <select data-rsi-setting=\"midline-style\" style=\"background:#0d1117; color:#c9d1d9; border:1px solid #30363d; border-radius:4px; padding:2px 4px;\">\n        <option value=\"dotted\">Dotted</option>\n        <option value=\"solid\">Solid</option>\n      </select>\n    </label>\n  `;\n  applyUniformSettingsPanelTypography(panel);\n\n  panel.addEventListener('input', (event) => {\n    const target = event.target as HTMLInputElement | HTMLSelectElement | null;\n    if (!target) return;\n    const setting = target.dataset.rsiSetting || '';\n    if (setting === 'length') {\n      rsiSettings.length = Math.max(1, Math.floor(Number(target.value) || 14));\n      applyRSISettings();\n      persistSettingsToStorage();\n      return;\n    }\n    if (setting === 'line-color') {\n      rsiSettings.lineColor = target.value || rsiSettings.lineColor;\n      rsiChart?.setLineColor(rsiSettings.lineColor);\n      persistSettingsToStorage();\n      return;\n    }\n    if (setting === 'midline-color') {\n      rsiSettings.midlineColor = target.value || rsiSettings.midlineColor;\n      rsiChart?.setMidlineOptions(rsiSettings.midlineColor, rsiSettings.midlineStyle);\n      persistSettingsToStorage();\n      return;\n    }\n    if (setting === 'midline-style') {\n      rsiSettings.midlineStyle = (target.value === 'solid') ? 'solid' : 'dotted';\n      rsiChart?.setMidlineOptions(rsiSettings.midlineColor, rsiSettings.midlineStyle);\n      persistSettingsToStorage();\n      return;\n    }\n  });\n\n  panel.addEventListener('click', (event) => {\n    const target = event.target as HTMLButtonElement | null;\n    if (!target) return;\n    if (target.dataset.rsiSetting !== 'reset') return;\n    event.preventDefault();\n    resetRSISettingsToDefault();\n  });\n\n  container.appendChild(panel);\n  return panel;\n}\n\nfunction createVolumeDeltaSettingsPanel(container: HTMLElement): HTMLDivElement {\n  const panel = document.createElement('div');\n  panel.className = 'pane-settings-panel volume-delta-settings-panel';\n  panel.style.position = 'absolute';\n  panel.style.left = '8px';\n  panel.style.top = '38px';\n  panel.style.zIndex = '31';\n  panel.style.width = '230px';\n  panel.style.maxWidth = 'calc(100% - 16px)';\n  panel.style.background = 'rgba(22, 27, 34, 0.95)';\n  panel.style.border = '1px solid #30363d';\n  panel.style.borderRadius = '6px';\n  panel.style.padding = '10px';\n  panel.style.display = 'none';\n  panel.style.color = '#c9d1d9';\n  panel.style.backdropFilter = 'blur(6px)';\n\n  panel.innerHTML = `\n    <div style=\"display:flex; justify-content:space-between; align-items:center; min-height:26px; margin-bottom:8px;\">\n      <div style=\"font-weight:600;\">Volume Delta</div>\n      <button type=\"button\" data-vd-setting=\"reset\" style=\"background:#0d1117; color:#c9d1d9; border:1px solid #30363d; border-radius:4px; padding:4px 8px; font-size:12px; cursor:pointer;\">Reset</button>\n    </div>\n    <label style=\"margin-bottom:6px;\">\n      <span>Source</span>\n      <select data-vd-setting=\"source-interval\" style=\"background:#0d1117; color:#c9d1d9; border:1px solid #30363d; border-radius:4px; padding:2px 4px;\">\n        ${VOLUME_DELTA_SOURCE_OPTIONS.map((option) => `<option value=\"${option.value}\">${option.label}</option>`).join('')}\n      </select>\n    </label>\n    <label style=\"margin-bottom:6px;\">\n      <span>Divergence table</span>\n      <input type=\"checkbox\" data-vd-setting=\"divergence-table\" />\n    </label>\n    <label style=\"margin-bottom:6px;\">\n      <span>Divergent price bars</span>\n      <input type=\"checkbox\" data-vd-setting=\"divergent-price-bars\" />\n    </label>\n    <label style=\"margin-bottom:6px;\">\n      <span>Bullish</span>\n      <input type=\"color\" data-vd-setting=\"divergent-bullish-color\" style=\"width:64px; height:24px; border:none; background:transparent; padding:0;\" />\n    </label>\n    <label style=\"margin-bottom:6px;\">\n      <span>Bearish</span>\n      <input type=\"color\" data-vd-setting=\"divergent-bearish-color\" style=\"width:64px; height:24px; border:none; background:transparent; padding:0;\" />\n    </label>\n    <label style=\"margin-bottom:6px;\">\n      <span>Neutral</span>\n      <input type=\"color\" data-vd-setting=\"divergent-neutral-color\" style=\"width:64px; height:24px; border:none; background:transparent; padding:0;\" />\n    </label>\n  `;\n  applyUniformSettingsPanelTypography(panel);\n\n  panel.addEventListener('input', (event) => {\n    const target = event.target as HTMLInputElement | HTMLSelectElement | null;\n    if (!target) return;\n    const setting = target.dataset.vdSetting || '';\n    if (setting === 'source-interval') {\n      const nextValue = String((target as HTMLSelectElement).value || '');\n      if (nextValue !== '1min' && nextValue !== '5min' && nextValue !== '15min' && nextValue !== '30min' && nextValue !== '1hour' && nextValue !== '4hour') return;\n      volumeDeltaSettings.sourceInterval = nextValue;\n      if (currentChartTicker) {\n        renderCustomChart(currentChartTicker, currentChartInterval);\n      }\n      persistSettingsToStorage();\n      return;\n    }\n    if (setting === 'divergence-table') {\n      volumeDeltaSettings.divergenceTable = (target as HTMLInputElement).checked;\n      if (volumeDeltaPaneContainerEl) {\n        renderVolumeDeltaDivergenceSummary(volumeDeltaPaneContainerEl, currentBars);\n      }\n      persistSettingsToStorage();\n      return;\n    }\n    if (setting === 'divergent-price-bars') {\n      volumeDeltaSettings.divergentPriceBars = (target as HTMLInputElement).checked;\n      applyPricePaneDivergentBarColors();\n      persistSettingsToStorage();\n      return;\n    }\n    if (setting === 'divergent-bullish-color') {\n      volumeDeltaSettings.bullishDivergentColor = (target as HTMLInputElement).value || volumeDeltaSettings.bullishDivergentColor;\n      applyPricePaneDivergentBarColors();\n      persistSettingsToStorage();\n      return;\n    }\n    if (setting === 'divergent-bearish-color') {\n      volumeDeltaSettings.bearishDivergentColor = (target as HTMLInputElement).value || volumeDeltaSettings.bearishDivergentColor;\n      applyPricePaneDivergentBarColors();\n      persistSettingsToStorage();\n      return;\n    }\n    if (setting === 'divergent-neutral-color') {\n      volumeDeltaSettings.neutralDivergentColor = (target as HTMLInputElement).value || volumeDeltaSettings.neutralDivergentColor;\n      applyPricePaneDivergentBarColors();\n      persistSettingsToStorage();\n      return;\n    }\n  });\n\n  panel.addEventListener('click', (event) => {\n    const target = event.target as HTMLButtonElement | null;\n    if (!target) return;\n    if (target.dataset.vdSetting !== 'reset') return;\n    event.preventDefault();\n    resetVolumeDeltaSettingsToDefault();\n  });\n\n  container.appendChild(panel);\n  return panel;\n}\n\nfunction createVolumeDeltaRSISettingsPanel(container: HTMLElement): HTMLDivElement {\n  const panel = document.createElement('div');\n  panel.className = 'pane-settings-panel volume-delta-rsi-settings-panel';\n  panel.style.position = 'absolute';\n  panel.style.left = '8px';\n  panel.style.top = '38px';\n  panel.style.zIndex = '31';\n  panel.style.width = '230px';\n  panel.style.maxWidth = 'calc(100% - 16px)';\n  panel.style.background = 'rgba(22, 27, 34, 0.95)';\n  panel.style.border = '1px solid #30363d';\n  panel.style.borderRadius = '6px';\n  panel.style.padding = '10px';\n  panel.style.display = 'none';\n  panel.style.color = '#c9d1d9';\n  panel.style.backdropFilter = 'blur(6px)';\n\n  panel.innerHTML = `\n    <div style=\"display:flex; justify-content:space-between; align-items:center; min-height:26px; margin-bottom:8px;\">\n      <div style=\"font-weight:600;\">Volume Delta RSI</div>\n      <button type=\"button\" data-vd-rsi-setting=\"reset\" style=\"background:#0d1117; color:#c9d1d9; border:1px solid #30363d; border-radius:4px; padding:4px 8px; font-size:12px; cursor:pointer;\">Reset</button>\n    </div>\n    <label style=\"margin-bottom:6px;\">\n      <span>Length</span>\n      <input data-vd-rsi-setting=\"length\" type=\"number\" min=\"1\" max=\"200\" step=\"1\" style=\"width:64px; background:#0d1117; color:#c9d1d9; border:1px solid #30363d; border-radius:4px; padding:2px 4px;\" />\n    </label>\n    <label style=\"margin-bottom:6px;\">\n      <span>Source</span>\n      <select data-vd-rsi-setting=\"source-interval\" style=\"background:#0d1117; color:#c9d1d9; border:1px solid #30363d; border-radius:4px; padding:2px 4px;\">\n        ${VOLUME_DELTA_SOURCE_OPTIONS.map((option) => `<option value=\"${option.value}\">${option.label}</option>`).join('')}\n      </select>\n    </label>\n    <label style=\"margin-bottom:6px;\">\n      <span>Line color</span>\n      <input data-vd-rsi-setting=\"line-color\" type=\"color\" style=\"width:64px; height:24px; border:none; background:transparent; padding:0;\" />\n    </label>\n    <label style=\"margin-bottom:6px;\">\n      <span>Midline color</span>\n      <input data-vd-rsi-setting=\"midline-color\" type=\"color\" style=\"width:64px; height:24px; border:none; background:transparent; padding:0;\" />\n    </label>\n    <label style=\"margin-bottom:6px;\">\n      <span>Midline style</span>\n      <select data-vd-rsi-setting=\"midline-style\" style=\"background:#0d1117; color:#c9d1d9; border:1px solid #30363d; border-radius:4px; padding:2px 4px;\">\n        <option value=\"dotted\">Dotted</option>\n        <option value=\"solid\">Solid</option>\n      </select>\n    </label>\n  `;\n  applyUniformSettingsPanelTypography(panel);\n\n  panel.addEventListener('input', (event) => {\n    const target = event.target as HTMLInputElement | HTMLSelectElement | null;\n    if (!target) return;\n    const setting = target.dataset.vdRsiSetting || '';\n    if (setting === 'length') {\n      volumeDeltaRsiSettings.length = Math.max(1, Math.floor(Number(target.value) || 14));\n      applyVolumeDeltaRSISettings(true);\n      persistSettingsToStorage();\n      return;\n    }\n    if (setting === 'source-interval') {\n      const nextValue = String((target as HTMLSelectElement).value || '');\n      if (nextValue !== '1min' && nextValue !== '5min' && nextValue !== '15min' && nextValue !== '30min' && nextValue !== '1hour' && nextValue !== '4hour') return;\n      volumeDeltaRsiSettings.sourceInterval = nextValue;\n      applyVolumeDeltaRSISettings(true);\n      persistSettingsToStorage();\n      return;\n    }\n    if (setting === 'line-color') {\n      volumeDeltaRsiSettings.lineColor = target.value || volumeDeltaRsiSettings.lineColor;\n      applyVolumeDeltaRSISettings(false);\n      persistSettingsToStorage();\n      return;\n    }\n    if (setting === 'midline-color') {\n      volumeDeltaRsiSettings.midlineColor = target.value || volumeDeltaRsiSettings.midlineColor;\n      applyVolumeDeltaRSISettings(false);\n      persistSettingsToStorage();\n      return;\n    }\n    if (setting === 'midline-style') {\n      volumeDeltaRsiSettings.midlineStyle = target.value === 'solid' ? 'solid' : 'dotted';\n      applyVolumeDeltaRSISettings(false);\n      persistSettingsToStorage();\n      return;\n    }\n  });\n\n  panel.addEventListener('click', (event) => {\n    const target = event.target as HTMLButtonElement | null;\n    if (!target) return;\n    if (target.dataset.vdRsiSetting !== 'reset') return;\n    event.preventDefault();\n    resetVolumeDeltaRSISettingsToDefault();\n  });\n\n  container.appendChild(panel);\n  return panel;\n}\n\nfunction ensureSettingsUI(\n  chartContainer: HTMLElement,\n  volumeDeltaRsiContainer: HTMLElement,\n  rsiContainer: HTMLElement,\n  volumeDeltaContainer: HTMLElement\n): void {\n  const priceBtn = createSettingsButton(chartContainer, 'price');\n  ensureVDFButton(chartContainer);\n  const vdfRefBtn = ensureVDFRefreshButton(chartContainer);\n  const volumeDeltaRsiBtn = createSettingsButton(volumeDeltaRsiContainer, 'volumeDeltaRsi');\n  const rsiBtn = createSettingsButton(rsiContainer, 'rsi');\n  const volumeDeltaBtn = createSettingsButton(volumeDeltaContainer, 'volumeDelta');\n  createPaneNameBadge(chartContainer, 'price');\n  createPaneNameBadge(volumeDeltaRsiContainer, 'volumeDeltaRsi');\n  createPaneNameBadge(rsiContainer, 'rsi');\n  createPaneNameBadge(volumeDeltaContainer, 'volumeDelta');\n  const volumeDeltaRsiTrendBtn = createPaneTrendlineButton(volumeDeltaRsiContainer, 'volumeDeltaRsi', 'trend', 0);\n  const volumeDeltaRsiEraseBtn = createPaneTrendlineButton(volumeDeltaRsiContainer, 'volumeDeltaRsi', 'erase', 1);\n  const volumeDeltaRsiDivergenceBtn = createPaneTrendlineButton(volumeDeltaRsiContainer, 'volumeDeltaRsi', 'divergence', 2);\n  const rsiTrendBtn = createPaneTrendlineButton(rsiContainer, 'rsi', 'trend', 0);\n  const rsiEraseBtn = createPaneTrendlineButton(rsiContainer, 'rsi', 'erase', 1);\n  const rsiDivergenceBtn = createPaneTrendlineButton(rsiContainer, 'rsi', 'divergence', 2);\n\n  if (!priceSettingsPanelEl || priceSettingsPanelEl.parentElement !== chartContainer) {\n    if (priceSettingsPanelEl?.parentElement) {\n      priceSettingsPanelEl.parentElement.removeChild(priceSettingsPanelEl);\n    }\n    priceSettingsPanelEl = createPriceSettingsPanel(chartContainer);\n  }\n  if (!rsiSettingsPanelEl || rsiSettingsPanelEl.parentElement !== rsiContainer) {\n    if (rsiSettingsPanelEl?.parentElement) {\n      rsiSettingsPanelEl.parentElement.removeChild(rsiSettingsPanelEl);\n    }\n    rsiSettingsPanelEl = createRSISettingsPanel(rsiContainer);\n  }\n  if (!volumeDeltaRsiSettingsPanelEl || volumeDeltaRsiSettingsPanelEl.parentElement !== volumeDeltaRsiContainer) {\n    if (volumeDeltaRsiSettingsPanelEl?.parentElement) {\n      volumeDeltaRsiSettingsPanelEl.parentElement.removeChild(volumeDeltaRsiSettingsPanelEl);\n    }\n    volumeDeltaRsiSettingsPanelEl = createVolumeDeltaRSISettingsPanel(volumeDeltaRsiContainer);\n  }\n  if (!volumeDeltaSettingsPanelEl || volumeDeltaSettingsPanelEl.parentElement !== volumeDeltaContainer) {\n    if (volumeDeltaSettingsPanelEl?.parentElement) {\n      volumeDeltaSettingsPanelEl.parentElement.removeChild(volumeDeltaSettingsPanelEl);\n    }\n    volumeDeltaSettingsPanelEl = createVolumeDeltaSettingsPanel(volumeDeltaContainer);\n  }\n\n  syncPriceSettingsPanelValues();\n  syncVolumeDeltaSettingsPanelValues();\n  syncVolumeDeltaRSISettingsPanelValues();\n  syncRSISettingsPanelValues();\n\n  if (!priceBtn.dataset.bound) {\n    priceBtn.addEventListener('click', (event) => {\n      event.stopPropagation();\n      const nextDisplay = priceSettingsPanelEl?.style.display === 'block' ? 'none' : 'block';\n      hideSettingsPanels();\n      if (priceSettingsPanelEl) priceSettingsPanelEl.style.display = nextDisplay;\n    });\n    priceBtn.dataset.bound = '1';\n  }\n  if (!volumeDeltaRsiBtn.dataset.bound) {\n    volumeDeltaRsiBtn.addEventListener('click', (event) => {\n      event.stopPropagation();\n      const nextDisplay = volumeDeltaRsiSettingsPanelEl?.style.display === 'block' ? 'none' : 'block';\n      hideSettingsPanels();\n      if (volumeDeltaRsiSettingsPanelEl) volumeDeltaRsiSettingsPanelEl.style.display = nextDisplay;\n    });\n    volumeDeltaRsiBtn.dataset.bound = '1';\n  }\n  if (!volumeDeltaBtn.dataset.bound) {\n    volumeDeltaBtn.addEventListener('click', (event) => {\n      event.stopPropagation();\n      const nextDisplay = volumeDeltaSettingsPanelEl?.style.display === 'block' ? 'none' : 'block';\n      hideSettingsPanels();\n      if (volumeDeltaSettingsPanelEl) volumeDeltaSettingsPanelEl.style.display = nextDisplay;\n    });\n    volumeDeltaBtn.dataset.bound = '1';\n  }\n  if (!rsiBtn.dataset.bound) {\n    rsiBtn.addEventListener('click', (event) => {\n      event.stopPropagation();\n      const nextDisplay = rsiSettingsPanelEl?.style.display === 'block' ? 'none' : 'block';\n      hideSettingsPanels();\n      if (rsiSettingsPanelEl) rsiSettingsPanelEl.style.display = nextDisplay;\n    });\n    rsiBtn.dataset.bound = '1';\n  }\n  if (!volumeDeltaRsiTrendBtn.dataset.bound) {\n    volumeDeltaRsiTrendBtn.addEventListener('click', (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n      toggleVolumeDeltaRSITrendlineTool();\n    });\n    volumeDeltaRsiTrendBtn.dataset.bound = '1';\n  }\n  if (!volumeDeltaRsiEraseBtn.dataset.bound) {\n    volumeDeltaRsiEraseBtn.addEventListener('click', (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n      clearVolumeDeltaRSITrendlines();\n    });\n    volumeDeltaRsiEraseBtn.dataset.bound = '1';\n  }\n  if (!volumeDeltaRsiDivergenceBtn.dataset.bound) {\n    volumeDeltaRsiDivergenceBtn.addEventListener('click', (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n      toggleVolumeDeltaRsiDivergencePlotTool();\n    });\n    volumeDeltaRsiDivergenceBtn.dataset.bound = '1';\n  }\n  if (!rsiTrendBtn.dataset.bound) {\n    rsiTrendBtn.addEventListener('click', (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n      toggleRSITrendlineTool();\n    });\n    rsiTrendBtn.dataset.bound = '1';\n  }\n  if (!rsiEraseBtn.dataset.bound) {\n    rsiEraseBtn.addEventListener('click', (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n      clearRSITrendlines();\n    });\n    rsiEraseBtn.dataset.bound = '1';\n  }\n  if (!rsiDivergenceBtn.dataset.bound) {\n    rsiDivergenceBtn.addEventListener('click', (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n      toggleRsiDivergencePlotTool();\n    });\n    rsiDivergenceBtn.dataset.bound = '1';\n  }\n\n  if (!vdfRefBtn.dataset.bound) {\n    vdfRefBtn.addEventListener('click', (event: MouseEvent) => {\n      event.preventDefault();\n      event.stopPropagation();\n      if (currentChartTicker) {\n        renderVDFRefreshIcon(true);\n        runVDFDetection(currentChartTicker, true).finally(() => {\n          renderVDFRefreshIcon(false);\n        });\n      }\n    });\n    vdfRefBtn.dataset.bound = '1';\n  }\n\n  setPaneTrendlineToolActive('rsi', rsiDivergenceToolActive);\n  setPaneTrendlineToolActive('volumeDeltaRsi', volumeDeltaDivergenceToolActive);\n  setPaneToolButtonActive('rsi', 'divergence', rsiDivergencePlotToolActive);\n  setPaneToolButtonActive('volumeDeltaRsi', 'divergence', volumeDeltaRsiDivergencePlotToolActive);\n\n  if (!document.body.dataset.chartSettingsBound) {\n    document.addEventListener('click', (event) => {\n      const target = event.target as HTMLElement | null;\n      if (!target) return;\n      if (target.closest('.pane-settings-panel') || target.closest('.pane-settings-btn')) return;\n      hideSettingsPanels();\n    });\n    document.addEventListener('keydown', (event) => {\n      if (event.key !== 'Escape') return;\n      deactivateInteractivePaneToolsFromEscape();\n    });\n    document.body.dataset.chartSettingsBound = '1';\n  }\n}\n\nfunction ensurePricePaneChangeEl(container: HTMLElement): HTMLDivElement {\n  let changeEl = container.querySelector('.price-pane-change') as HTMLDivElement | null;\n  if (changeEl) return changeEl;\n\n  const startLeft = getPaneBadgeStartLeft(container);\n  changeEl = document.createElement('div');\n  changeEl.className = `price-pane-change ${TOP_PANE_BADGE_CLASS}`;\n  changeEl.dataset.topPaneBadgeRole = 'price-change';\n  changeEl.style.position = 'absolute';\n  changeEl.style.left = `${startLeft}px`;\n  changeEl.style.top = '8px';\n  changeEl.style.zIndex = '30';\n  changeEl.style.minHeight = '24px';\n  changeEl.style.display = 'inline-flex';\n  changeEl.style.alignItems = 'center';\n  changeEl.style.padding = '0 8px';\n  changeEl.style.borderRadius = '4px';\n  changeEl.style.border = '1px solid #30363d';\n  changeEl.style.background = '#161b22';\n  changeEl.style.color = '#c9d1d9';\n  changeEl.style.fontSize = '12px';\n  changeEl.style.fontFamily = \"'SF Mono', 'Menlo', 'Monaco', 'Consolas', monospace\";\n  changeEl.style.pointerEvents = 'none';\n  changeEl.style.display = 'none';\n  container.appendChild(changeEl);\n  return changeEl;\n}\n\nfunction rebuildPricePaneChangeMap(bars: any[]): void {\n  priceChangeByTime = new Map<string, number>();\n  if (!Array.isArray(bars) || bars.length < 2) return;\n  for (let i = 1; i < bars.length; i++) {\n    const currClose = Number(bars[i]?.close);\n    const prevClose = Number(bars[i - 1]?.close);\n    if (!Number.isFinite(currClose) || !Number.isFinite(prevClose) || prevClose === 0) continue;\n    const percentChange = ((currClose - prevClose) / prevClose) * 100;\n    priceChangeByTime.set(timeKey(bars[i].time), percentChange);\n  }\n}\n\nfunction setPricePaneChange(container: HTMLElement, time?: string | number | null): void {\n  const changeEl = ensurePricePaneChangeEl(container);\n  if (!currentBars.length || priceChangeByTime.size === 0) {\n    changeEl.style.display = 'none';\n    changeEl.textContent = '';\n    layoutTopPaneBadges(container);\n    return;\n  }\n\n  const fallbackTime = currentBars[currentBars.length - 1]?.time;\n  const targetKey = time !== null && time !== undefined ? timeKey(time) : timeKey(fallbackTime);\n  const deltaValue = Number(priceChangeByTime.get(targetKey));\n  if (!Number.isFinite(deltaValue)) {\n    // If no previous candle exists for this crosshair candle (e.g., very first bar), hide label.\n    changeEl.style.display = 'none';\n    changeEl.textContent = '';\n    layoutTopPaneBadges(container);\n    return;\n  }\n\n  const sign = deltaValue > 0 ? '+' : '';\n  changeEl.textContent = `${sign}${deltaValue.toFixed(2)}%`;\n  changeEl.style.color = deltaValue > 0 ? '#26a69a' : deltaValue < 0 ? '#ef5350' : '#c9d1d9';\n  changeEl.style.display = 'inline-flex';\n  layoutTopPaneBadges(container);\n}\n\nfunction ensurePricePaneMessageEl(container: HTMLElement): HTMLDivElement {\n  let messageEl = container.querySelector('.price-pane-message') as HTMLDivElement | null;\n  if (messageEl) return messageEl;\n\n  messageEl = document.createElement('div');\n  messageEl.className = 'price-pane-message';\n  messageEl.style.position = 'absolute';\n  messageEl.style.top = '50%';\n  messageEl.style.left = '50%';\n  messageEl.style.transform = 'translate(-50%, -50%)';\n  messageEl.style.color = '#8b949e';\n  messageEl.style.fontSize = '1rem';\n  messageEl.style.fontWeight = '600';\n  messageEl.style.pointerEvents = 'none';\n  messageEl.style.zIndex = '20';\n  messageEl.style.display = 'none';\n  container.appendChild(messageEl);\n  return messageEl;\n}\n\nfunction setPricePaneMessage(container: HTMLElement, message: string | null): void {\n  const messageEl = ensurePricePaneMessageEl(container);\n  if (!message) {\n    messageEl.style.display = 'none';\n    messageEl.textContent = '';\n    return;\n  }\n  messageEl.textContent = message;\n  messageEl.style.display = 'block';\n}\n\nfunction isNoDataTickerError(err: unknown): boolean {\n  const message = String((err as any)?.message || err || '');\n  return /No .*data available for this ticker|No valid chart bars/i.test(message);\n}\n\nfunction formatPriceScaleLabel(value: number): string {\n  if (!Number.isFinite(value)) return '';\n  const abs = Math.abs(value);\n  let label = '';\n  if (abs >= 100) {\n    label = String(Math.round(value));\n  } else if (abs >= 10) {\n    const rounded = Math.round(value * 10) / 10;\n    if (Math.abs(rounded) >= 100) {\n      label = String(Math.round(rounded));\n    } else {\n      label = rounded.toFixed(1);\n    }\n  } else {\n    label = (Math.round(value * 100) / 100).toFixed(2);\n  }\n  return label.length >= SCALE_LABEL_CHARS ? label : label.padEnd(SCALE_LABEL_CHARS, ' ');\n}\n\nfunction timeKey(time: string | number): string {\n  return typeof time === 'number' ? String(time) : time;\n}\n\nfunction fixedVolumeDeltaAutoscaleInfoProvider(): any {\n  return {\n    priceRange: {\n      minValue: VOLUME_DELTA_AXIS_MIN,\n      maxValue: VOLUME_DELTA_AXIS_MAX\n    }\n  };\n}\n\nfunction normalizeVolumeDeltaValue(value: number): number {\n  return Math.max(VOLUME_DELTA_DATA_MIN, Math.min(VOLUME_DELTA_DATA_MAX, Number(value)));\n}\n\nfunction setVolumeDeltaCursor(isCrosshair: boolean): void {\n  const container = document.getElementById('vd-rsi-chart-container');\n  if (!container) return;\n  container.style.cursor = isCrosshair ? 'crosshair' : 'default';\n}\n\nfunction toUnixSeconds(time: string | number): number | null {\n  return unixSecondsFromTimeValue(time);\n}\n\nfunction formatMmDdYyFromUnixSeconds(unixSeconds: number | null): string {\n  if (!Number.isFinite(unixSeconds)) return 'N/A';\n  return getAppTimeZoneFormatter('en-US', {\n    month: '2-digit',\n    day: '2-digit',\n    year: '2-digit'\n  }).format(new Date(Math.round(Number(unixSeconds)) * 1000));\n}\n\nfunction createTrendlineCrossLabelElement(text: string): HTMLDivElement {\n  const label = document.createElement('div');\n  label.className = 'trendline-cross-label';\n  label.textContent = text;\n  label.style.position = 'absolute';\n  label.style.zIndex = '29';\n  label.style.minHeight = '24px';\n  label.style.display = 'inline-flex';\n  label.style.alignItems = 'center';\n  label.style.padding = '0 8px';\n  label.style.borderRadius = '4px';\n  label.style.border = '1px solid #30363d';\n  label.style.background = '#161b22';\n  label.style.color = '#c9d1d9';\n  label.style.fontSize = '12px';\n  label.style.fontFamily = \"'SF Mono', 'Menlo', 'Monaco', 'Consolas', monospace\";\n  label.style.pointerEvents = 'none';\n  label.style.whiteSpace = 'nowrap';\n  label.style.transform = 'translate(-50%, calc(-100% - 6px))';\n  return label;\n}\n\nfunction refreshVolumeDeltaTrendlineCrossLabels(): void {\n  const container = document.getElementById('vd-rsi-chart-container');\n  if (!container || !volumeDeltaRsiChart || !volumeDeltaRsiSeries) return;\n  const width = container.clientWidth;\n  const height = container.clientHeight;\n\n  for (const label of volumeDeltaTrendlineCrossLabels) {\n    const x = volumeDeltaRsiChart.timeScale().timeToCoordinate(label.anchorTime);\n    const y = volumeDeltaRsiSeries.priceToCoordinate(label.anchorValue);\n    if (!Number.isFinite(x) || !Number.isFinite(y) || x < 0 || x > width || y < 0 || y > height) {\n      label.element.style.display = 'none';\n      continue;\n    }\n    label.element.style.display = 'inline-flex';\n    label.element.style.left = `${Math.round(x)}px`;\n    label.element.style.top = `${Math.round(Math.max(8, y))}px`;\n  }\n}\n\nfunction clearVolumeDeltaTrendlineCrossLabels(): void {\n  for (const label of volumeDeltaTrendlineCrossLabels) {\n    label.element.remove();\n  }\n  volumeDeltaTrendlineCrossLabels = [];\n}\n\nfunction addVolumeDeltaTrendlineCrossLabel(anchorTime: string | number, anchorValue: number, text: string): void {\n  const container = document.getElementById('vd-rsi-chart-container');\n  if (!container) return;\n  const element = createTrendlineCrossLabelElement(text);\n  container.appendChild(element);\n  volumeDeltaTrendlineCrossLabels.push({\n    element,\n    anchorTime,\n    anchorValue\n  });\n  refreshVolumeDeltaTrendlineCrossLabels();\n}\n\nfunction volumeDeltaIndexToUnixSeconds(\n  index: number,\n  lastHistoricalIndex: number,\n  firstHistoricalTimeSeconds: number | null,\n  lastHistoricalTimeSeconds: number | null,\n  stepSeconds: number\n): number | null {\n  if (!Number.isFinite(index)) return null;\n\n  if (index > lastHistoricalIndex) {\n    if (lastHistoricalTimeSeconds === null) return null;\n    return lastHistoricalTimeSeconds + ((index - lastHistoricalIndex) * stepSeconds);\n  }\n\n  if (index < 0) {\n    if (firstHistoricalTimeSeconds === null) return null;\n    return firstHistoricalTimeSeconds + (index * stepSeconds);\n  }\n\n  const lowerIndex = Math.max(0, Math.floor(index));\n  const upperIndex = Math.min(lastHistoricalIndex, Math.ceil(index));\n  const lowerTime = toUnixSeconds(volumeDeltaRsiPoints[lowerIndex]?.time);\n  const upperTime = toUnixSeconds(volumeDeltaRsiPoints[upperIndex]?.time);\n  if (lowerIndex === upperIndex) return lowerTime;\n  if (Number.isFinite(lowerTime) && Number.isFinite(upperTime)) {\n    const ratio = index - lowerIndex;\n    return Number(lowerTime) + ((Number(upperTime) - Number(lowerTime)) * ratio);\n  }\n  if (Number.isFinite(lowerTime)) return Number(lowerTime) + ((index - lowerIndex) * stepSeconds);\n  if (firstHistoricalTimeSeconds === null) return null;\n  return firstHistoricalTimeSeconds + (index * stepSeconds);\n}\n\nfunction computeVolumeDeltaTrendlineMidlineCrossUnixSeconds(\n  index1: number,\n  value1: number,\n  slope: number,\n  lastHistoricalIndex: number,\n  firstHistoricalTimeSeconds: number | null,\n  lastHistoricalTimeSeconds: number | null,\n  stepSeconds: number\n): number | null {\n  if (!Number.isFinite(slope) || Math.abs(slope) < 1e-12) return null;\n  const crossIndex = index1 + ((RSI_MIDLINE_VALUE - value1) / slope);\n  if (!Number.isFinite(crossIndex)) return null;\n  return volumeDeltaIndexToUnixSeconds(\n    crossIndex,\n    lastHistoricalIndex,\n    firstHistoricalTimeSeconds,\n    lastHistoricalTimeSeconds,\n    stepSeconds\n  );\n}\n\nfunction inferVolumeDeltaBarStepSeconds(): number {\n  if (volumeDeltaRsiPoints.length < 2) return 1800;\n  const diffs: number[] = [];\n  for (let i = 1; i < volumeDeltaRsiPoints.length; i++) {\n    const prev = toUnixSeconds(volumeDeltaRsiPoints[i - 1].time);\n    const curr = toUnixSeconds(volumeDeltaRsiPoints[i].time);\n    if (prev === null || curr === null) continue;\n    const diff = curr - prev;\n    if (Number.isFinite(diff) && diff > 0 && diff <= (8 * 3600)) {\n      diffs.push(diff);\n    }\n  }\n  if (diffs.length === 0) return 1800;\n  diffs.sort((a, b) => a - b);\n  return diffs[Math.floor(diffs.length / 2)];\n}\n\nfunction barsPerTradingDayFromStep(stepSeconds: number): number {\n  if (stepSeconds <= 5 * 60) return 78;\n  if (stepSeconds <= 15 * 60) return 26;\n  if (stepSeconds <= 30 * 60) return 13;\n  if (stepSeconds <= 60 * 60) return 7;\n  return 2;\n}\n\nfunction volumeDeltaFutureBarsForOneYear(): number {\n  const stepSeconds = inferVolumeDeltaBarStepSeconds();\n  return barsPerTradingDayFromStep(stepSeconds) * 252;\n}\n\nfunction clearVolumeDeltaHighlights(): void {\n  if (!volumeDeltaHighlightSeries || !volumeDeltaRsiChart) return;\n  try {\n    volumeDeltaRsiChart.removeSeries(volumeDeltaHighlightSeries);\n  } catch {\n    // Ignore stale highlight series remove errors.\n  }\n  volumeDeltaHighlightSeries = null;\n}\n\nfunction clearVolumeDeltaTrendLines(preserveViewport: boolean = false): void {\n  const visibleRangeBeforeClear = preserveViewport && volumeDeltaRsiChart\n    ? volumeDeltaRsiChart.timeScale().getVisibleLogicalRange?.()\n    : null;\n  if (preserveViewport) {\n    volumeDeltaSuppressSync = true;\n  }\n\n  if (!volumeDeltaRsiChart || volumeDeltaTrendLineSeriesList.length === 0) {\n    volumeDeltaTrendLineSeriesList = [];\n    volumeDeltaTrendlineDefinitions = [];\n    clearVolumeDeltaTrendlineCrossLabels();\n    if (preserveViewport) {\n      volumeDeltaSuppressSync = false;\n    }\n    return;\n  }\n\n  try {\n    for (const series of volumeDeltaTrendLineSeriesList) {\n      try {\n        volumeDeltaRsiChart.removeSeries(series);\n      } catch {\n        // Ignore stale trendline series remove errors.\n      }\n    }\n    volumeDeltaTrendLineSeriesList = [];\n    volumeDeltaTrendlineDefinitions = [];\n    clearVolumeDeltaTrendlineCrossLabels();\n  } finally {\n    if (preserveViewport && visibleRangeBeforeClear) {\n      try {\n        volumeDeltaRsiChart.timeScale().setVisibleLogicalRange(visibleRangeBeforeClear);\n      } catch {\n        // Keep viewport stable after clearing.\n      }\n    }\n    if (preserveViewport) {\n      volumeDeltaSuppressSync = false;\n    }\n  }\n}\n\nfunction clearVolumeDeltaDivergenceState(): void {\n  clearVolumeDeltaHighlights();\n  volumeDeltaFirstPoint = null;\n  volumeDeltaDivergencePointTimeKeys.clear();\n}\n\nfunction deactivateVolumeDeltaDivergenceTool(): void {\n  volumeDeltaDivergenceToolActive = false;\n  clearVolumeDeltaDivergenceState();\n  setVolumeDeltaCursor(false);\n}\n\nfunction activateVolumeDeltaDivergenceTool(): void {\n  volumeDeltaDivergenceToolActive = true;\n  setVolumeDeltaCursor(true);\n}\n\nfunction clearVolumeDeltaDivergence(preserveViewport: boolean = false): void {\n  clearVolumeDeltaDivergenceState();\n  clearVolumeDeltaTrendLines(preserveViewport);\n}\n\nfunction highlightVolumeDeltaPoints(points: Array<{ time: string | number, value: number }>): void {\n  clearVolumeDeltaHighlights();\n  if (!volumeDeltaRsiChart || points.length === 0) return;\n\n  volumeDeltaHighlightSeries = volumeDeltaRsiChart.addLineSeries({\n    color: DIVERGENCE_HIGHLIGHT_COLOR,\n    lineVisible: false,\n    pointMarkersVisible: true,\n    pointMarkersRadius: 2,\n    priceLineVisible: false,\n    lastValueVisible: false,\n    crosshairMarkerVisible: false,\n    autoscaleInfoProvider: () => fixedVolumeDeltaAutoscaleInfoProvider()\n  });\n\n  const step = Math.max(1, Math.ceil(points.length / VOLUME_DELTA_MAX_HIGHLIGHT_POINTS));\n  const displayPoints = step === 1 ? points : points.filter((_, index) => index % step === 0);\n  volumeDeltaHighlightSeries.setData(displayPoints);\n}\n\nfunction drawVolumeDeltaTrendLine(\n  time1: string | number,\n  value1: number,\n  time2: string | number,\n  value2: number,\n  recordDefinition: boolean = true\n): void {\n  if (!volumeDeltaRsiChart || !volumeDeltaRsiPoints.length) return;\n\n  const index1 = volumeDeltaIndexByTime.get(timeKey(time1));\n  const index2 = volumeDeltaIndexByTime.get(timeKey(time2));\n  if (index1 === undefined || index2 === undefined || index1 === index2) return;\n\n  const slope = (value2 - value1) / (index2 - index1);\n  const lastHistoricalIndex = volumeDeltaRsiPoints.length - 1;\n  const futureBars = volumeDeltaFutureBarsForOneYear();\n  const maxIndex = lastHistoricalIndex + futureBars;\n  const stepSeconds = inferVolumeDeltaBarStepSeconds();\n  const firstTimeSeconds = toUnixSeconds(volumeDeltaRsiPoints[0]?.time);\n  const lastTimeSeconds = toUnixSeconds(volumeDeltaRsiPoints[lastHistoricalIndex]?.time);\n  const visibleRangeBeforeDraw = volumeDeltaRsiChart.timeScale().getVisibleLogicalRange?.();\n\n  const trendLineData: Array<{ time: string | number, value: number }> = [];\n  volumeDeltaSuppressSync = true;\n  try {\n    for (let i = index1; i <= maxIndex; i++) {\n      const projectedValue = value1 + (slope * (i - index1));\n      if (!Number.isFinite(projectedValue)) break;\n      if (projectedValue < VOLUME_DELTA_DATA_MIN || projectedValue > VOLUME_DELTA_DATA_MAX) break;\n\n      let pointTime: string | number | null = null;\n      if (i <= lastHistoricalIndex) {\n        pointTime = volumeDeltaRsiPoints[i]?.time ?? null;\n      } else if (lastTimeSeconds !== null) {\n        pointTime = lastTimeSeconds + ((i - lastHistoricalIndex) * stepSeconds);\n      }\n      if (pointTime === null || pointTime === undefined) continue;\n      trendLineData.push({\n        time: pointTime,\n        value: projectedValue\n      });\n    }\n\n    if (!trendLineData.length) return;\n\n    const trendLineSeries = volumeDeltaRsiChart.addLineSeries({\n      color: TRENDLINE_COLOR,\n      lineWidth: 1,\n      lineStyle: 0,\n      priceLineVisible: false,\n      lastValueVisible: false,\n      crosshairMarkerVisible: false,\n      autoscaleInfoProvider: () => fixedVolumeDeltaAutoscaleInfoProvider()\n    });\n    trendLineSeries.setData(trendLineData);\n    volumeDeltaTrendLineSeriesList.push(trendLineSeries);\n\n    const crossUnixSeconds = computeVolumeDeltaTrendlineMidlineCrossUnixSeconds(\n      index1,\n      value1,\n      slope,\n      lastHistoricalIndex,\n      firstTimeSeconds,\n      lastTimeSeconds,\n      stepSeconds\n    );\n    addVolumeDeltaTrendlineCrossLabel(time1, value1, formatMmDdYyFromUnixSeconds(crossUnixSeconds));\n    if (recordDefinition) {\n      volumeDeltaTrendlineDefinitions.push({\n        time1,\n        value1: Number(value1),\n        time2,\n        value2: Number(value2)\n      });\n    }\n  } finally {\n    if (visibleRangeBeforeDraw) {\n      try {\n        volumeDeltaRsiChart.timeScale().setVisibleLogicalRange(visibleRangeBeforeDraw);\n      } catch {\n        // Keep viewport stable even if range restoration fails.\n      }\n    }\n    volumeDeltaSuppressSync = false;\n  }\n}\n\nfunction detectAndHandleVolumeDeltaDivergenceClick(clickedTime: string | number): void {\n  if (!volumeDeltaDivergenceToolActive) return;\n\n  const clickedKey = timeKey(clickedTime);\n  const clickedIndex = volumeDeltaIndexByTime.get(clickedKey);\n  if (clickedIndex === undefined) return;\n\n  const clickedPoint = volumeDeltaRsiPoints[clickedIndex];\n  if (!clickedPoint) return;\n  const clickedRSI = Number(clickedPoint.value);\n  const clickedPrice = priceByTime.get(clickedKey);\n  if (!Number.isFinite(clickedRSI) || !Number.isFinite(clickedPrice)) return;\n  const clickedPriceValue = Number(clickedPrice);\n\n  if (!volumeDeltaFirstPoint) {\n    volumeDeltaFirstPoint = {\n      time: clickedTime,\n      rsi: clickedRSI,\n      price: clickedPriceValue,\n      index: clickedIndex\n    };\n\n    const divergencePoints: Array<{ time: string | number, value: number }> = [];\n    volumeDeltaDivergencePointTimeKeys.clear();\n\n    for (let i = clickedIndex + 1; i < volumeDeltaRsiPoints.length; i++) {\n      const currentPoint = volumeDeltaRsiPoints[i];\n      const currentRSI = Number(currentPoint?.value);\n      if (!Number.isFinite(currentRSI)) continue;\n      const currentPrice = priceByTime.get(timeKey(currentPoint.time));\n      if (!Number.isFinite(currentPrice)) continue;\n\n      const currentPriceValue = Number(currentPrice);\n      const bearishDivergence = currentRSI < clickedRSI && currentPriceValue > clickedPriceValue;\n      const bullishDivergence = currentRSI > clickedRSI && currentPriceValue < clickedPriceValue;\n      if (!bearishDivergence && !bullishDivergence) continue;\n\n      divergencePoints.push({ time: currentPoint.time, value: currentRSI });\n      volumeDeltaDivergencePointTimeKeys.add(timeKey(currentPoint.time));\n    }\n\n    highlightVolumeDeltaPoints(divergencePoints);\n    return;\n  }\n\n  if (!volumeDeltaDivergencePointTimeKeys.has(clickedKey)) {\n    return;\n  }\n\n  drawVolumeDeltaTrendLine(\n    volumeDeltaFirstPoint.time,\n    volumeDeltaFirstPoint.rsi,\n    clickedTime,\n    clickedRSI\n  );\n\n  deactivateVolumeDeltaDivergenceTool();\n  setPaneTrendlineToolActive('volumeDeltaRsi', false);\n  persistTrendlinesForCurrentContext();\n}\n\nfunction sameLogicalRange(a: any, b: any): boolean {\n  if (!a || !b) return false;\n  return Math.abs(Number(a.from) - Number(b.from)) < 1e-6 && Math.abs(Number(a.to) - Number(b.to)) < 1e-6;\n}\n\n// Create price chart\nfunction createPriceChart(container: HTMLElement) {\n  const chart = createChart(container, {\n    layout: {\n      background: { color: '#0d1117' },\n      textColor: '#d1d4dc',\n      fontFamily: \"'SF Mono', 'Menlo', 'Monaco', 'Consolas', monospace\",\n      attributionLogo: false,\n    },\n    grid: {\n      vertLines: { visible: false },\n      horzLines: { visible: false },\n    },\n    crosshair: {\n      mode: isMobileTouch ? CrosshairMode.Magnet : CrosshairMode.Normal,\n    },\n    kineticScroll: {\n      touch: false,\n      mouse: false,\n    },\n    handleScroll: {\n      pressedMouseMove: true,\n      horzTouchDrag: true,\n      vertTouchDrag: isMobileTouch,\n      mouseWheel: true,\n    },\n    handleScale: {\n      mouseWheel: true,\n      pinch: true,\n      axisPressedMouseMove: true,\n      axisDoubleClickReset: true,\n    },\n    rightPriceScale: {\n      borderColor: '#2b2b43',\n      minimumWidth: SCALE_MIN_WIDTH_PX,\n      entireTextOnly: true,\n    },\n    timeScale: {\n      visible: false,\n      timeVisible: true,\n      secondsVisible: false,\n      borderVisible: false,\n      fixRightEdge: false,\n      rightBarStaysOnScroll: false,\n      rightOffset: RIGHT_MARGIN_BARS,\n      tickMarkFormatter: formatTimeScaleTickMark,\n    },\n  });\n\n  const series = chart.addCandlestickSeries({\n    upColor: '#26a69a',\n    downColor: '#ef5350',\n    borderVisible: false,\n    wickUpColor: '#26a69a',\n    wickDownColor: '#ef5350',\n    priceFormat: {\n      type: 'custom',\n      minMove: 0.01,\n      formatter: (price: number) => formatPriceScaleLabel(Number(price))\n    }\n  });\n\n  const timelineSeries = chart.addLineSeries({\n    color: 'rgba(0, 0, 0, 0)',\n    lineVisible: false,\n    pointMarkersVisible: false,\n    priceLineVisible: false,\n    lastValueVisible: false,\n    crosshairMarkerVisible: false\n  });\n\n  // No line tools for price chart - divergence tool only on RSI chart\n\n  return { chart, series, timelineSeries };\n}\n\nfunction createVolumeDeltaRsiChart(container: HTMLElement) {\n  const chart = createChart(container, {\n    layout: {\n      background: { color: '#0d1117' },\n      textColor: '#c9d1d9',\n      fontFamily: \"'SF Mono', 'Menlo', 'Monaco', 'Consolas', monospace\",\n      attributionLogo: false,\n    },\n    grid: {\n      vertLines: { visible: false },\n      horzLines: { visible: false },\n    },\n    crosshair: {\n      mode: isMobileTouch ? CrosshairMode.Magnet : CrosshairMode.Normal,\n    },\n    kineticScroll: {\n      touch: false,\n      mouse: false,\n    },\n    handleScroll: {\n      pressedMouseMove: true,\n      horzTouchDrag: true,\n      vertTouchDrag: isMobileTouch,\n      mouseWheel: true,\n    },\n    handleScale: {\n      mouseWheel: true,\n      pinch: true,\n      axisPressedMouseMove: {\n        time: true,\n        price: false,\n      },\n      axisDoubleClickReset: {\n        time: true,\n        price: false,\n      },\n    },\n    rightPriceScale: {\n      borderColor: '#21262d',\n      minimumWidth: SCALE_MIN_WIDTH_PX,\n      entireTextOnly: true,\n      // Default view: 20-80 range (20% margin top + 20% margin bottom)\n      // User can adjust but won't go beyond 0-100 data bounds\n      scaleMargins: {\n        top: 0.2,    // 20% margin = hides 0-20 by default\n        bottom: 0.2, // 20% margin = hides 80-100 by default\n      },\n    },\n    timeScale: {\n      visible: false,\n      timeVisible: true,\n      secondsVisible: false,\n      borderVisible: false,\n      fixRightEdge: false,\n      rightBarStaysOnScroll: false,\n      rightOffset: RIGHT_MARGIN_BARS,\n      tickMarkFormatter: formatTimeScaleTickMark,\n    },\n  });\n\n  const rsiSeries = chart.addLineSeries({\n    color: volumeDeltaRsiSettings.lineColor,\n    lineWidth: 1,\n    priceLineVisible: false,\n    lastValueVisible: false,\n    crosshairMarkerVisible: false,\n    priceFormat: {\n      type: 'custom',\n      minMove: 0.1,\n      formatter: (value: number) => formatVolumeDeltaScaleLabel(Number(value)),\n    },\n    autoscaleInfoProvider: () => fixedVolumeDeltaAutoscaleInfoProvider(),\n  });\n\n  const timelineSeries = chart.addLineSeries({\n    color: 'rgba(0, 0, 0, 0)',\n    lineVisible: false,\n    pointMarkersVisible: false,\n    priceLineVisible: false,\n    lastValueVisible: false,\n    crosshairMarkerVisible: false\n  });\n\n  volumeDeltaRsiMidlineLine = rsiSeries.createPriceLine({\n    price: VOLUME_DELTA_MIDLINE,\n    color: volumeDeltaRsiSettings.midlineColor,\n    lineWidth: 1,\n    lineStyle: midlineStyleToLineStyle(volumeDeltaRsiSettings.midlineStyle),\n    axisLabelVisible: false,\n    title: 'Midline',\n  });\n\n  chart.subscribeClick((param: any) => {\n    if (!param || !param.time) return;\n    if (volumeDeltaRsiDivergencePlotToolActive) {\n      updateVolumeDeltaRsiDivergencePlotPoint(param.time, false);\n      return;\n    }\n    if (!volumeDeltaDivergenceToolActive) return;\n    detectAndHandleVolumeDeltaDivergenceClick(param.time);\n  });\n\n  return { chart, rsiSeries, timelineSeries };\n}\n\nfunction createVolumeDeltaChart(container: HTMLElement) {\n  const chart = createChart(container, {\n    layout: {\n      background: { color: '#0d1117' },\n      textColor: '#c9d1d9',\n      fontFamily: \"'SF Mono', 'Menlo', 'Monaco', 'Consolas', monospace\",\n      attributionLogo: false,\n    },\n    grid: {\n      vertLines: { visible: false },\n      horzLines: { visible: false },\n    },\n    crosshair: {\n      mode: isMobileTouch ? CrosshairMode.Magnet : CrosshairMode.Normal,\n    },\n    kineticScroll: {\n      touch: false,\n      mouse: false,\n    },\n    handleScroll: {\n      pressedMouseMove: true,\n      horzTouchDrag: true,\n      vertTouchDrag: isMobileTouch,\n      mouseWheel: true,\n    },\n    handleScale: {\n      mouseWheel: true,\n      pinch: true,\n      axisPressedMouseMove: {\n        time: true,\n        price: true,\n      },\n      axisDoubleClickReset: {\n        time: true,\n        price: true,\n      },\n    },\n    rightPriceScale: {\n      borderColor: '#21262d',\n      minimumWidth: SCALE_MIN_WIDTH_PX,\n      entireTextOnly: true,\n    },\n    timeScale: {\n      visible: false,\n      timeVisible: true,\n      secondsVisible: false,\n      borderVisible: false,\n      fixRightEdge: false,\n      rightBarStaysOnScroll: false,\n      rightOffset: RIGHT_MARGIN_BARS,\n      tickMarkFormatter: formatTimeScaleTickMark,\n    },\n  });\n\n  const histogramSeries = chart.addHistogramSeries({\n    base: 0,\n    priceLineVisible: false,\n    lastValueVisible: false,\n    priceFormat: {\n      type: 'custom',\n      minMove: 1,\n      formatter: (value: number) => formatVolumeDeltaHistogramScaleLabel(Number(value)),\n    },\n  });\n\n  const timelineSeries = chart.addLineSeries({\n    color: 'rgba(0, 0, 0, 0)',\n    lineVisible: false,\n    pointMarkersVisible: false,\n    priceLineVisible: false,\n    lastValueVisible: false,\n    crosshairMarkerVisible: false\n  });\n\n  histogramSeries.createPriceLine({\n    price: 0,\n    color: '#8b949e',\n    lineWidth: 1,\n    lineStyle: 2,\n    axisLabelVisible: false,\n    title: '',\n  });\n\n  // Assign global reference\n  volumeDeltaChart = chart;\n\n  return { chart, histogramSeries, timelineSeries };\n}\n\nfunction setVolumeDeltaRsiData(\n  bars: any[],\n  volumeDeltaRsi: { rsi: Array<{ time: string | number, value: number }> }\n): void {\n  if (!volumeDeltaRsiSeries) return;\n\n  clearVolumeDeltaDivergence();\n  const normalizedRsi = normalizeValueSeries(volumeDeltaRsi?.rsi || []);\n  volumeDeltaRsiPoints = normalizedRsi.map((point) => ({\n    time: point.time,\n    value: normalizeVolumeDeltaValue(Number(point.value))\n  }));\n  volumeDeltaIndexByTime = new Map<string, number>();\n  for (let i = 0; i < volumeDeltaRsiPoints.length; i++) {\n    volumeDeltaIndexByTime.set(timeKey(volumeDeltaRsiPoints[i].time), i);\n  }\n\n  const rsiByTimeLocal = new Map<string, number>();\n  for (const point of volumeDeltaRsiPoints) {\n    rsiByTimeLocal.set(timeKey(point.time), Number(point.value));\n  }\n\n  const seriesData = bars.map((bar) => {\n    const value = rsiByTimeLocal.get(timeKey(bar.time));\n    if (!Number.isFinite(value)) return { time: bar.time };\n    return { time: bar.time, value: Number(value) };\n  });\n\n  volumeDeltaRsiSeries.setData(seriesData);\n\n  volumeDeltaRsiByTime = new Map<string, number>();\n  for (const bar of bars) {\n    const key = timeKey(bar.time);\n    const rsiValue = rsiByTimeLocal.get(key);\n    if (Number.isFinite(rsiValue)) {\n      volumeDeltaRsiByTime.set(key, Number(rsiValue));\n    }\n  }\n  refreshActiveDivergenceOverlays();\n}\n\nfunction restoreVolumeDeltaPersistedTrendlines(trendlines: RSIPersistedTrendline[]): void {\n  clearVolumeDeltaTrendLines();\n  if (!Array.isArray(trendlines) || trendlines.length === 0) return;\n  for (const line of trendlines) {\n    const time1 = line?.time1;\n    const time2 = line?.time2;\n    const value1 = Number(line?.value1);\n    const value2 = Number(line?.value2);\n    if ((typeof time1 !== 'string' && typeof time1 !== 'number') || (typeof time2 !== 'string' && typeof time2 !== 'number')) continue;\n    if (!Number.isFinite(value1) || !Number.isFinite(value2)) continue;\n    drawVolumeDeltaTrendLine(time1, value1, time2, value2, true);\n  }\n}\n\nfunction restorePersistedTrendlinesForCurrentContext(): void {\n  if (!currentChartTicker) return;\n  const persisted = loadPersistedTrendlinesForContext(currentChartTicker, currentChartInterval);\n  rsiChart?.restorePersistedTrendlines(persisted.rsi);\n  restoreVolumeDeltaPersistedTrendlines(persisted.volumeDeltaRsi);\n}\n\nfunction setVolumeDeltaHistogramData(\n  bars: any[],\n  volumeDeltaValues: Array<{ time: string | number, delta: number }>\n): void {\n  if (!volumeDeltaHistogramSeries) return;\n\n  const deltaByTime = new Map<string, number>();\n  for (const point of volumeDeltaValues) {\n    const delta = Number(point.delta);\n    if (!Number.isFinite(delta)) continue;\n    deltaByTime.set(timeKey(point.time), delta);\n  }\n\n  const histogramData = bars.map((bar) => {\n    const delta = deltaByTime.get(timeKey(bar.time)) ?? 0;\n    const numeric = Number.isFinite(Number(delta)) ? Number(delta) : 0;\n    return {\n      time: bar.time,\n      value: numeric,\n      color: numeric >= 0 ? VOLUME_DELTA_POSITIVE_COLOR : VOLUME_DELTA_NEGATIVE_COLOR\n    };\n  });\n\n  volumeDeltaHistogramSeries.setData(histogramData);\n  volumeDeltaByTime = new Map(\n    histogramData.map((point: any) => [timeKey(point.time), Number(point.value) || 0])\n  );\n  applyPricePaneDivergentBarColors();\n}\n\nfunction ensureVolumeDeltaDivergenceSummaryEl(container: HTMLElement): HTMLDivElement {\n  if (volumeDeltaDivergenceSummaryEl && volumeDeltaDivergenceSummaryEl.parentElement === container) {\n    volumeDeltaDivergenceSummaryEl.style.top = '8px';\n    volumeDeltaDivergenceSummaryEl.style.transform = 'none';\n    volumeDeltaDivergenceSummaryEl.style.right = `${SCALE_MIN_WIDTH_PX + 8}px`;\n    volumeDeltaDivergenceSummaryEl.style.display = 'flex';\n    volumeDeltaDivergenceSummaryEl.style.flexDirection = 'row';\n    volumeDeltaDivergenceSummaryEl.style.alignItems = 'center';\n    volumeDeltaDivergenceSummaryEl.style.gap = `${PANE_TOOL_BUTTON_GAP_PX}px`;\n    volumeDeltaDivergenceSummaryEl.style.background = 'transparent';\n    volumeDeltaDivergenceSummaryEl.style.border = 'none';\n    volumeDeltaDivergenceSummaryEl.style.borderRadius = '0';\n    volumeDeltaDivergenceSummaryEl.style.overflow = 'visible';\n    return volumeDeltaDivergenceSummaryEl;\n  }\n\n  const el = document.createElement('div');\n  el.className = 'volume-delta-divergence-summary';\n  el.style.position = 'absolute';\n  el.style.top = '8px';\n  el.style.transform = 'none';\n  el.style.right = `${SCALE_MIN_WIDTH_PX + 8}px`;\n  el.style.zIndex = '34';\n  el.style.display = 'flex';\n  el.style.flexDirection = 'row';\n  el.style.alignItems = 'center';\n  el.style.gap = `${PANE_TOOL_BUTTON_GAP_PX}px`;\n  el.style.background = 'transparent';\n  el.style.border = 'none';\n  el.style.borderRadius = '0';\n  el.style.overflow = 'visible';\n  el.style.pointerEvents = 'auto';\n  container.appendChild(el);\n  volumeDeltaDivergenceSummaryEl = el;\n  return el;\n}\n\nfunction clearVolumeDeltaDivergenceSummary(): void {\n  if (!volumeDeltaDivergenceSummaryEl) return;\n  volumeDeltaDivergenceSummaryEl.style.display = 'none';\n  volumeDeltaDivergenceSummaryEl.innerHTML = '';\n}\n\nfunction renderVolumeDeltaDivergenceSummary(\n  container: HTMLElement,\n  bars: any[],\n  options?: { noCache?: boolean }\n): void {\n  if (!volumeDeltaSettings.divergenceTable) {\n    clearVolumeDeltaDivergenceSummary();\n    return;\n  }\n  const summaryEl = ensureVolumeDeltaDivergenceSummaryEl(container);\n  summaryEl.innerHTML = '';\n  summaryEl.style.display = 'flex';\n  summaryEl.style.flexDirection = 'row';\n  summaryEl.style.alignItems = 'center';\n  const ticker = String(currentChartTicker || '').trim().toUpperCase();\n  const sourceInterval = volumeDeltaSettings.sourceInterval;\n  const noCache = options?.noCache === true;\n  const requestToken = `${ticker}|${sourceInterval}|${Date.now()}`;\n  summaryEl.dataset.requestToken = requestToken;\n  let manualRefreshInFlight = false;\n  let lastSummary: DivergenceSummaryEntry | null = null;\n\n  const buildBadge = (text: string, color: string, title: string): HTMLDivElement => {\n    const badge = document.createElement('div');\n    badge.textContent = text;\n    badge.title = title;\n    badge.style.display = 'inline-flex';\n    badge.style.alignItems = 'center';\n    badge.style.justifyContent = 'center';\n    badge.style.width = `${PANE_TOOL_BUTTON_SIZE_PX}px`;\n    badge.style.height = `${PANE_TOOL_BUTTON_SIZE_PX}px`;\n    badge.style.padding = '0';\n    badge.style.borderRadius = '4px';\n    badge.style.border = '1px solid #30363d';\n    badge.style.background = '#161b22';\n    badge.style.fontSize = '12px';\n    badge.style.fontWeight = '600';\n    badge.style.lineHeight = '1';\n    badge.style.fontFamily = \"'SF Mono', 'Menlo', 'Monaco', 'Consolas', monospace\";\n    badge.style.color = color;\n    badge.style.pointerEvents = 'none';\n    return badge;\n  };\n\n  const runManualRefresh = () => {\n    if (manualRefreshInFlight) return;\n    manualRefreshInFlight = true;\n    renderSummary(lastSummary, true);\n    getTickerDivergenceSummary(\n      ticker,\n      sourceInterval,\n      { forceRefresh: true, noCache: true }\n    )\n      .then((summary) => {\n        if (summaryEl.dataset.requestToken !== requestToken) return;\n        if (String(currentChartTicker || '').trim().toUpperCase() !== ticker) return;\n        lastSummary = summary || null;\n        renderSummary(lastSummary, false);\n      })\n      .catch(() => {\n        if (summaryEl.dataset.requestToken !== requestToken) return;\n        if (String(currentChartTicker || '').trim().toUpperCase() !== ticker) return;\n        renderSummary(lastSummary, false);\n      })\n      .finally(() => {\n        manualRefreshInFlight = false;\n      });\n  };\n\n  const renderSummary = (summary: DivergenceSummaryEntry | null, loading = false) => {\n    if (summaryEl.dataset.requestToken !== requestToken) return;\n    if (String(currentChartTicker || '').trim().toUpperCase() !== ticker) return;\n    summaryEl.innerHTML = '';\n\n    const refreshButton = document.createElement('button');\n    refreshButton.type = 'button';\n    refreshButton.title = loading ? 'Refreshing divergence table...' : 'Refresh divergence table';\n    refreshButton.style.display = 'inline-flex';\n    refreshButton.style.alignItems = 'center';\n    refreshButton.style.justifyContent = 'center';\n    refreshButton.style.width = `${PANE_TOOL_BUTTON_SIZE_PX}px`;\n    refreshButton.style.height = `${PANE_TOOL_BUTTON_SIZE_PX}px`;\n    refreshButton.style.padding = '0';\n    refreshButton.style.borderRadius = '4px';\n    refreshButton.style.border = 'none';\n    refreshButton.style.background = 'transparent';\n    refreshButton.style.color = '#c9d1d9';\n    refreshButton.style.cursor = loading ? 'wait' : 'pointer';\n    refreshButton.style.pointerEvents = loading ? 'none' : 'auto';\n    refreshButton.style.userSelect = 'none';\n    refreshButton.style.flex = '0 0 auto';\n    refreshButton.style.verticalAlign = 'middle';\n    refreshButton.setAttribute('aria-disabled', loading ? 'true' : 'false');\n    refreshButton.disabled = false;\n    const svgNS = 'http://www.w3.org/2000/svg';\n    const svg = document.createElementNS(svgNS, 'svg');\n    svg.setAttribute('width', '11');\n    svg.setAttribute('height', '11');\n    svg.setAttribute('viewBox', '0 0 24 24');\n    svg.setAttribute('fill', 'none');\n    svg.setAttribute('stroke', 'currentColor');\n    svg.setAttribute('stroke-width', '2.5');\n    svg.setAttribute('stroke-linecap', 'round');\n    svg.setAttribute('stroke-linejoin', 'round');\n    svg.style.display = 'block';\n    const path1 = document.createElementNS(svgNS, 'path');\n    path1.setAttribute('d', 'M21.5 2v6h-6');\n    const path2 = document.createElementNS(svgNS, 'path');\n    path2.setAttribute('d', 'M21.5 8A10 10 0 0 0 5.6 5.6');\n    const path3 = document.createElementNS(svgNS, 'path');\n    path3.setAttribute('d', 'M2.5 22v-6h6');\n    const path4 = document.createElementNS(svgNS, 'path');\n    path4.setAttribute('d', 'M2.5 16A10 10 0 0 0 18.4 18.4');\n    svg.appendChild(path1);\n    svg.appendChild(path2);\n    svg.appendChild(path3);\n    svg.appendChild(path4);\n    if (loading) {\n      svg.animate(\n        [\n          { transform: 'rotate(0deg)' },\n          { transform: 'rotate(360deg)' }\n        ],\n        {\n          duration: 800,\n          iterations: Infinity,\n          easing: 'linear'\n        }\n      );\n    }\n    refreshButton.appendChild(svg);\n    refreshButton.addEventListener('click', (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n      runManualRefresh();\n    });\n    summaryEl.appendChild(refreshButton);\n\n    for (let i = 0; i < DIVERGENCE_LOOKBACK_DAYS.length; i++) {\n      const days = DIVERGENCE_LOOKBACK_DAYS[i];\n      const state = summary?.states?.[String(days)] || 'neutral';\n      const badgeColor = state === 'bullish'\n        ? '#26a69a'\n        : state === 'bearish'\n          ? '#ef5350'\n          : '#ffffff';\n      const badge = buildBadge(\n        String(days),\n        badgeColor,\n        `Last ${days} day${days === 1 ? '' : 's'}${summary?.tradeDate ? ` (as of ${summary.tradeDate})` : ''}`\n      );\n      summaryEl.appendChild(badge);\n    }\n  };\n\n  renderSummary(null, false);\n  if (!ticker || (!Array.isArray(bars) || bars.length < 2)) {\n    return;\n  }\n\n  // Phase 1: Fast path \u2014 try cached / stored value (no server recomputation).\n  getTickerDivergenceSummary(ticker, sourceInterval)\n    .then((summary) => {\n      if (summaryEl.dataset.requestToken !== requestToken) return;\n      lastSummary = summary || null;\n      renderSummary(lastSummary, false);\n\n      // Phase 2: If the cached value is stale or missing, refresh in background.\n      const needsRefresh = noCache || !summary || !Number.isFinite(summary.expiresAtMs) || summary.expiresAtMs <= Date.now();\n      if (needsRefresh) {\n        getTickerDivergenceSummary(\n          ticker,\n          sourceInterval,\n          { forceRefresh: true, noCache: true }\n        )\n          .then((freshSummary) => {\n            if (summaryEl.dataset.requestToken !== requestToken) return;\n            lastSummary = freshSummary || null;\n            renderSummary(lastSummary, false);\n          })\n          .catch(() => {});\n      }\n    })\n    .catch(() => {\n      // Phase 1 failed \u2014 fall back to force refresh.\n      getTickerDivergenceSummary(\n        ticker,\n        sourceInterval,\n        { forceRefresh: true, noCache: true }\n      )\n        .then((summary) => {\n          if (summaryEl.dataset.requestToken !== requestToken) return;\n          lastSummary = summary || null;\n          renderSummary(lastSummary, false);\n        })\n        .catch(() => {\n          renderSummary(lastSummary, false);\n        });\n    });\n}\n\n// =============================================================================\n// VDF (Volume Divergence Flag) Detector Button\n// =============================================================================\n\nconst VDF_COLOR_LOADING = '#c9d1d9';\nconst VDF_COLOR_NOT_DETECTED = '#484f58';\nconst VDF_COLOR_ERROR = '#ef5350';\n\nfunction ensureVDFButton(container: HTMLElement): HTMLButtonElement {\n  if (vdfButtonEl && vdfButtonEl.parentElement === container) return vdfButtonEl;\n  if (vdfButtonEl && vdfButtonEl.parentElement) {\n    vdfButtonEl.parentElement.removeChild(vdfButtonEl);\n  }\n\n  const btn = document.createElement('button');\n  btn.className = 'vdf-indicator-btn';\n  btn.type = 'button';\n  btn.title = 'Volume Divergence Flag Detector';\n  btn.textContent = 'VDF';\n  btn.style.position = 'absolute';\n  btn.style.top = `${PANE_TOOL_BUTTON_TOP_PX}px`;\n  btn.style.right = `${SCALE_MIN_WIDTH_PX + 8}px`;\n  btn.style.zIndex = '34';\n  btn.style.width = 'auto';\n  btn.style.minWidth = `${PANE_TOOL_BUTTON_SIZE_PX}px`;\n  btn.style.height = `${PANE_TOOL_BUTTON_SIZE_PX}px`;\n  btn.style.padding = '0 5px';\n  btn.style.borderRadius = '4px';\n  btn.style.border = '1px solid #30363d';\n  btn.style.background = '#161b22';\n  btn.style.color = VDF_COLOR_LOADING;\n  btn.style.cursor = 'default';\n  btn.style.pointerEvents = 'none';\n  btn.style.fontSize = '9px';\n  btn.style.fontWeight = '700';\n  btn.style.fontFamily = \"'SF Mono', 'Menlo', 'Monaco', 'Consolas', monospace\";\n  btn.style.letterSpacing = '0.5px';\n  btn.style.lineHeight = `${PANE_TOOL_BUTTON_SIZE_PX}px`;\n  btn.style.textAlign = 'center';\n  btn.style.userSelect = 'none';\n  container.appendChild(btn);\n  vdfButtonEl = btn;\n  return btn;\n}\n\nfunction ensureVDFRefreshButton(container: HTMLElement): HTMLButtonElement {\n  if (vdfRefreshButtonEl && vdfRefreshButtonEl.parentElement === container) return vdfRefreshButtonEl;\n  if (vdfRefreshButtonEl && vdfRefreshButtonEl.parentElement) {\n    vdfRefreshButtonEl.parentElement.removeChild(vdfRefreshButtonEl);\n  }\n\n  const btn = document.createElement('button');\n  btn.className = 'vdf-refresh-btn';\n  btn.type = 'button';\n  btn.title = 'Refresh VD Analysis';\n  btn.style.position = 'absolute';\n  btn.style.top = `${PANE_TOOL_BUTTON_TOP_PX}px`;\n  // Position to the left of the VDF button: VDF is at right = SCALE_MIN_WIDTH_PX + 8,\n  // VDF button is ~36px wide, gap matches PANE_TOOL_BUTTON_GAP_PX (same as divergence summary)\n  btn.style.right = `${SCALE_MIN_WIDTH_PX + 8 + 36 + PANE_TOOL_BUTTON_GAP_PX}px`;\n  btn.style.zIndex = '34';\n  btn.style.display = 'inline-flex';\n  btn.style.alignItems = 'center';\n  btn.style.justifyContent = 'center';\n  btn.style.width = `${PANE_TOOL_BUTTON_SIZE_PX}px`;\n  btn.style.height = `${PANE_TOOL_BUTTON_SIZE_PX}px`;\n  btn.style.padding = '0';\n  btn.style.borderRadius = '4px';\n  btn.style.border = 'none';\n  btn.style.background = 'transparent';\n  btn.style.color = '#c9d1d9';\n  btn.style.cursor = 'pointer';\n  btn.style.userSelect = 'none';\n  container.appendChild(btn);\n  vdfRefreshButtonEl = btn;\n  renderVDFRefreshIcon(false);\n  return btn;\n}\n\nfunction renderVDFRefreshIcon(loading: boolean): void {\n  if (!vdfRefreshButtonEl) return;\n  vdfRefreshButtonEl.innerHTML = '';\n  vdfRefreshButtonEl.title = loading ? 'Refreshing VD Analysis...' : 'Refresh VD Analysis';\n  vdfRefreshButtonEl.style.cursor = loading ? 'wait' : 'pointer';\n  vdfRefreshButtonEl.style.pointerEvents = loading ? 'none' : 'auto';\n\n  const svgNS = 'http://www.w3.org/2000/svg';\n  const svg = document.createElementNS(svgNS, 'svg');\n  svg.setAttribute('width', '11');\n  svg.setAttribute('height', '11');\n  svg.setAttribute('viewBox', '0 0 24 24');\n  svg.setAttribute('fill', 'none');\n  svg.setAttribute('stroke', 'currentColor');\n  svg.setAttribute('stroke-width', '2.5');\n  svg.setAttribute('stroke-linecap', 'round');\n  svg.setAttribute('stroke-linejoin', 'round');\n  svg.style.display = 'block';\n  const path1 = document.createElementNS(svgNS, 'path');\n  path1.setAttribute('d', 'M21.5 2v6h-6');\n  const path2 = document.createElementNS(svgNS, 'path');\n  path2.setAttribute('d', 'M21.5 8A10 10 0 0 0 5.6 5.6');\n  const path3 = document.createElementNS(svgNS, 'path');\n  path3.setAttribute('d', 'M2.5 22v-6h6');\n  const path4 = document.createElementNS(svgNS, 'path');\n  path4.setAttribute('d', 'M2.5 16A10 10 0 0 0 18.4 18.4');\n  svg.appendChild(path1);\n  svg.appendChild(path2);\n  svg.appendChild(path3);\n  svg.appendChild(path4);\n  if (loading) {\n    svg.animate(\n      [{ transform: 'rotate(0deg)' }, { transform: 'rotate(360deg)' }],\n      { duration: 800, iterations: Infinity, easing: 'linear' }\n    );\n  }\n  vdfRefreshButtonEl.appendChild(svg);\n}\n\nfunction setVDFButtonColor(color: string, title?: string): void {\n  if (!vdfButtonEl) return;\n  vdfButtonEl.style.color = color;\n  if (title !== undefined) vdfButtonEl.title = title;\n}\n\nfunction buildVDFTooltip(entry: VDFCacheEntry): string {\n  if (!entry.is_detected) return `VD Accumulation: Not detected`;\n  const score = Math.round(entry.composite_score * 100);\n  let tip = `VD Accumulation Score: ${score}`;\n  const bestZone = entry.zones?.[0];\n  if (bestZone) {\n    const startParts = bestZone.startDate.split('-');\n    const endParts = bestZone.endDate.split('-');\n    const startLabel = startParts.length >= 3 ? `${Number(startParts[1])}/${Number(startParts[2])}` : bestZone.startDate;\n    const endLabel = endParts.length >= 3 ? `${Number(endParts[1])}/${Number(endParts[2])}` : bestZone.endDate;\n    tip += `\\nZone: ${startLabel}\u2192${endLabel} (${bestZone.windowDays}d)`;\n    if (bestZone.absorptionPct != null) tip += `\\nAbsorption: ${(bestZone.absorptionPct * 100).toFixed(1)}%`;\n  }\n  if (entry.zones?.length > 1) tip += `\\n+${entry.zones.length - 1} more zone(s)`;\n  if (entry.distribution?.length > 0) tip += `\\nDistribution: ${entry.distribution.length} cluster(s)`;\n  const prox = entry.proximity;\n  if (prox && prox.level !== 'none') {\n    tip += `\\nProximity: ${prox.level.charAt(0).toUpperCase() + prox.level.slice(1)} (${prox.compositeScore} pts)`;\n    for (const sig of prox.signals) {\n      tip += `\\n  \u2713 ${sig.detail} +${sig.points}`;\n    }\n  }\n  return tip;\n}\n\nfunction updateVDFButton(entry: VDFCacheEntry): void {\n  if (!vdfButtonEl) return;\n  if (entry.is_detected) {\n    const score = Math.round(entry.composite_score * 100);\n    vdfButtonEl.textContent = String(score);\n    vdfButtonEl.style.color = score >= 80 ? '#26a69a' : score >= 60 ? '#8bc34a' : '#c9d1d9';\n    const proxLevel = entry.proximity?.level || 'none';\n    if (proxLevel === 'imminent' || proxLevel === 'high') {\n      vdfButtonEl.style.borderColor = '#ff9800';\n    } else if (proxLevel === 'elevated') {\n      vdfButtonEl.style.borderColor = '#ffc107';\n    } else {\n      vdfButtonEl.style.borderColor = '#30363d';\n    }\n  } else {\n    vdfButtonEl.textContent = 'VDF';\n    vdfButtonEl.style.color = VDF_COLOR_NOT_DETECTED;\n    vdfButtonEl.style.borderColor = '#30363d';\n  }\n  vdfButtonEl.title = buildVDFTooltip(entry);\n}\n\nfunction ensureVDZoneOverlay(container: HTMLElement): HTMLDivElement {\n  if (vdZoneOverlayEl && vdZoneOverlayEl.parentElement === container) return vdZoneOverlayEl;\n  if (vdZoneOverlayEl?.parentElement) vdZoneOverlayEl.parentElement.removeChild(vdZoneOverlayEl);\n  const overlay = document.createElement('div');\n  overlay.className = 'vd-zone-overlay';\n  overlay.style.position = 'absolute';\n  overlay.style.top = '0';\n  overlay.style.right = '0';\n  overlay.style.bottom = '0';\n  overlay.style.left = '0';\n  overlay.style.pointerEvents = 'none';\n  overlay.style.zIndex = '5';\n  container.appendChild(overlay);\n  vdZoneOverlayEl = overlay;\n  return overlay;\n}\n\nfunction renderVDZones(entry?: VDFCacheEntry | null): void {\n  if (!vdZoneOverlayEl) return;\n  vdZoneOverlayEl.innerHTML = '';\n  if (!priceChart || !entry) return;\n\n  const overlayWidth = vdZoneOverlayEl.clientWidth || vdZoneOverlayEl.offsetWidth;\n  const overlayHeight = vdZoneOverlayEl.clientHeight || vdZoneOverlayEl.offsetHeight;\n  if (!Number.isFinite(overlayWidth) || overlayWidth <= 0) return;\n\n  // Build lookup from YYYY-MM-DD (ET) \u2192 actual bar time value.\n  // Chart bars use midnight ET converted to UTC as their time, so we must\n  // map zone date strings to the real bar times the chart knows about.\n  const dateToBarTime = new Map<string, number>();\n  for (const bar of currentBars) {\n    const t = unixSecondsFromTimeValue(bar?.time);\n    if (t === null) continue;\n    const dateKey = new Date(t * 1000).toLocaleDateString('en-CA', {\n      timeZone: 'America/New_York', year: 'numeric', month: '2-digit', day: '2-digit'\n    });\n    if (!dateToBarTime.has(dateKey)) dateToBarTime.set(dateKey, t);\n  }\n\n  const dateToX = (dateStr: string): number | null => {\n    const barTime = dateToBarTime.get(dateStr);\n    if (barTime === undefined) return null;\n    const x = priceChart!.timeScale().timeToCoordinate(barTime as any);\n    return Number.isFinite(x) ? x : null;\n  };\n\n  // --- Full-height tinted overlays (use allZones for 1yr visual coverage) ---\n  const overlayZones = entry.allZones && entry.allZones.length > 0 ? entry.allZones : entry.zones;\n  if (overlayZones) {\n    for (const zone of overlayZones) {\n      const x1 = dateToX(zone.startDate);\n      const x2 = dateToX(zone.endDate);\n      if (x1 == null || x2 == null) continue;\n      const left = Math.min(x1, x2);\n      const width = Math.abs(x2 - x1);\n      if (left > overlayWidth || left + width < 0) continue;\n\n      const opacity = 0.04 + zone.score * 0.08;\n      const rect = document.createElement('div');\n      rect.style.cssText = `position:absolute;left:${Math.round(left)}px;top:0;width:${Math.max(Math.round(width), 2)}px;height:100%;background:rgba(38,166,154,${opacity.toFixed(3)});border-left:1px solid rgba(38,166,154,0.3);border-right:1px solid rgba(38,166,154,0.3);`;\n\n      const badge = document.createElement('div');\n      badge.style.cssText = 'position:absolute;top:2px;right:2px;font-size:9px;color:rgba(38,166,154,0.8);font-family:monospace;';\n      badge.textContent = (zone.score * 100).toFixed(0);\n      rect.appendChild(badge);\n      vdZoneOverlayEl.appendChild(rect);\n    }\n  }\n\n  if (entry.distribution) {\n    for (const dist of entry.distribution) {\n      const x1 = dateToX(dist.startDate);\n      const x2 = dateToX(dist.endDate);\n      if (x1 == null || x2 == null) continue;\n      const left = Math.min(x1, x2);\n      const width = Math.abs(x2 - x1);\n      if (left > overlayWidth || left + width < 0) continue;\n\n      const rect = document.createElement('div');\n      rect.style.cssText = `position:absolute;left:${Math.round(left)}px;top:0;width:${Math.max(Math.round(width), 2)}px;height:100%;background:rgba(239,83,80,0.06);border-left:1px solid rgba(239,83,80,0.3);border-right:1px solid rgba(239,83,80,0.3);`;\n      vdZoneOverlayEl.appendChild(rect);\n    }\n  }\n\n  // --- Bottom band strip: accumulation / distribution / absorption ---\n  const BAND_H = 5;\n  const BAND_GAP = 1;\n  const STRIP_PAD = 2;\n  const hasZones = overlayZones && overlayZones.length > 0;\n  const hasDist = entry.distribution && entry.distribution.length > 0;\n\n  if (overlayHeight > 60 && (hasZones || hasDist)) {\n    // Row Y positions (from bottom): accumulation (top row), distribution (mid), absorption (bottom)\n    const absY = overlayHeight - STRIP_PAD - BAND_H;\n    const distY = absY - BAND_GAP - BAND_H;\n    const accumY = distY - BAND_GAP - BAND_H;\n\n    // Accumulation zone bands (teal) \u2014 use allZones for 1yr visual\n    if (overlayZones) {\n      for (const zone of overlayZones) {\n        const x1 = dateToX(zone.startDate);\n        const x2 = dateToX(zone.endDate);\n        if (x1 == null || x2 == null) continue;\n        const left = Math.min(x1, x2);\n        const width = Math.abs(x2 - x1);\n        if (left > overlayWidth || left + width < 0) continue;\n        const op = (0.4 + zone.score * 0.5).toFixed(2);\n        const band = document.createElement('div');\n        band.style.cssText = `position:absolute;left:${Math.round(left)}px;top:${accumY}px;width:${Math.max(Math.round(width), 2)}px;height:${BAND_H}px;background:rgba(38,166,154,${op});border-radius:1px;`;\n        vdZoneOverlayEl.appendChild(band);\n      }\n    }\n\n    // Distribution cluster bands (red)\n    if (entry.distribution) {\n      for (const dist of entry.distribution) {\n        const x1 = dateToX(dist.startDate);\n        const x2 = dateToX(dist.endDate);\n        if (x1 == null || x2 == null) continue;\n        const left = Math.min(x1, x2);\n        const width = Math.abs(x2 - x1);\n        if (left > overlayWidth || left + width < 0) continue;\n        const band = document.createElement('div');\n        band.style.cssText = `position:absolute;left:${Math.round(left)}px;top:${distY}px;width:${Math.max(Math.round(width), 2)}px;height:${BAND_H}px;background:rgba(239,83,80,0.65);border-radius:1px;`;\n        vdZoneOverlayEl.appendChild(band);\n      }\n    }\n\n    // Absorption bands (amber, within accumulation zone date ranges) \u2014 use allZones for 1yr visual\n    if (overlayZones) {\n      for (const zone of overlayZones) {\n        const absPct = zone.absorptionPct || 0;\n        if (absPct < 5) continue;\n        const x1 = dateToX(zone.startDate);\n        const x2 = dateToX(zone.endDate);\n        if (x1 == null || x2 == null) continue;\n        const left = Math.min(x1, x2);\n        const width = Math.abs(x2 - x1);\n        if (left > overlayWidth || left + width < 0) continue;\n        const op = Math.min(0.3 + (absPct / 100) * 0.6, 0.9).toFixed(2);\n        const band = document.createElement('div');\n        band.style.cssText = `position:absolute;left:${Math.round(left)}px;top:${absY}px;width:${Math.max(Math.round(width), 2)}px;height:${BAND_H}px;background:rgba(255,167,38,${op});border-radius:1px;`;\n        vdZoneOverlayEl.appendChild(band);\n      }\n    }\n  }\n\n  // --- Zone boundary markers (dashed vertical lines at zone edges) ---\n  if (overlayZones) {\n    for (const zone of overlayZones) {\n      const xs = dateToX(zone.startDate);\n      const xe = dateToX(zone.endDate);\n      if (xs != null && xs >= 0 && xs <= overlayWidth) {\n        const line = document.createElement('div');\n        line.style.cssText = `position:absolute;left:${Math.round(xs)}px;top:0;width:0;height:100%;border-left:1px dashed rgba(38,166,154,0.25);`;\n        vdZoneOverlayEl.appendChild(line);\n      }\n      if (xe != null && xe >= 0 && xe <= overlayWidth) {\n        const line = document.createElement('div');\n        line.style.cssText = `position:absolute;left:${Math.round(xe)}px;top:0;width:0;height:100%;border-left:1px dashed rgba(38,166,154,0.25);`;\n        vdZoneOverlayEl.appendChild(line);\n      }\n    }\n  }\n  if (entry.distribution) {\n    for (const dist of entry.distribution) {\n      const xs = dateToX(dist.startDate);\n      const xe = dateToX(dist.endDate);\n      if (xs != null && xs >= 0 && xs <= overlayWidth) {\n        const line = document.createElement('div');\n        line.style.cssText = `position:absolute;left:${Math.round(xs)}px;top:0;width:0;height:100%;border-left:1px dashed rgba(239,83,80,0.2);`;\n        vdZoneOverlayEl.appendChild(line);\n      }\n      if (xe != null && xe >= 0 && xe <= overlayWidth) {\n        const line = document.createElement('div');\n        line.style.cssText = `position:absolute;left:${Math.round(xe)}px;top:0;width:0;height:100%;border-left:1px dashed rgba(239,83,80,0.2);`;\n        vdZoneOverlayEl.appendChild(line);\n      }\n    }\n  }\n\n  // --- Proximity glow bar at right edge ---\n  const prox = entry.proximity;\n  if (prox && prox.level !== 'none' && prox.compositeScore > 0) {\n    const proxRgb = prox.level === 'imminent' ? '244,67,54' : (prox.level === 'high' ? '255,152,0' : '255,193,7');\n    const proxOp = prox.level === 'imminent' ? 0.4 : (prox.level === 'high' ? 0.3 : 0.2);\n    const bar = document.createElement('div');\n    bar.style.cssText = `position:absolute;right:0;top:0;width:3px;height:100%;background:rgba(${proxRgb},${proxOp});box-shadow:0 0 8px rgba(${proxRgb},${(proxOp * 1.5).toFixed(2)}),0 0 16px rgba(${proxRgb},${proxOp});`;\n    if (prox.level === 'imminent') bar.className = 'vdf-prox-pulse';\n    vdZoneOverlayEl.appendChild(bar);\n  }\n}\n\nfunction refreshVDZones(): void {\n  if (!vdZoneOverlayEl || !currentChartTicker) return;\n  const today = new Date().toLocaleDateString('en-CA', {\n    timeZone: 'America/New_York', year: 'numeric', month: '2-digit', day: '2-digit'\n  });\n  const cached = vdfResultCache.get(`${currentChartTicker}|${today}`);\n  if (cached) renderVDZones(cached);\n  else renderVDZones(null);\n}\n\nasync function runVDFDetection(ticker: string, force = false): Promise<void> {\n  if (!ticker) return;\n  if (vdfLoadingForTicker === ticker && !force) return;\n\n  const today = new Date().toLocaleDateString('en-CA', {\n    timeZone: 'America/New_York',\n    year: 'numeric',\n    month: '2-digit',\n    day: '2-digit'\n  });\n  const cacheKey = `${ticker}|${today}`;\n  if (!force && vdfResultCache.has(cacheKey)) {\n    const cached = vdfResultCache.get(cacheKey)!;\n    updateVDFButton(cached);\n    renderVDZones(cached);\n    renderVDFAnalysisPanel(cached);\n    return;\n  }\n\n  vdfLoadingForTicker = ticker;\n  setVDFButtonColor(VDF_COLOR_LOADING, 'VDF: Loading...');\n\n  try {\n    const params = new URLSearchParams({ ticker, mode: 'chart' });\n    if (force) params.set('force', '1');\n    const response = await fetch(`/api/chart/vdf-status?${params}`);\n    if (!response.ok) throw new Error(`HTTP ${response.status}`);\n    const result = await response.json();\n\n    if (currentChartTicker !== ticker) return;\n\n    const entry: VDFCacheEntry = {\n      is_detected: result.is_detected || false,\n      composite_score: Number(result.composite_score) || 0,\n      status: result.status || '',\n      weeks: Number(result.weeks) || 0,\n      zones: Array.isArray(result.zones) ? result.zones : [],\n      allZones: Array.isArray(result.allZones) ? result.allZones : (Array.isArray(result.zones) ? result.zones : []),\n      distribution: Array.isArray(result.distribution) ? result.distribution : [],\n      proximity: result.proximity || { compositeScore: 0, level: 'none', signals: [] },\n      details: result.details || undefined,\n    };\n    vdfResultCache.set(cacheKey, entry);\n    if (vdfResultCache.size > VDF_CACHE_MAX_SIZE) {\n      const oldest = vdfResultCache.keys().next().value;\n      if (oldest !== undefined) vdfResultCache.delete(oldest);\n    }\n    updateVDFButton(entry);\n    renderVDZones(entry);\n    renderVDFAnalysisPanel(entry);\n  } catch {\n    if (currentChartTicker === ticker) {\n      setVDFButtonColor(VDF_COLOR_ERROR, 'VDF: Failed to load');\n    }\n  } finally {\n    if (vdfLoadingForTicker === ticker) vdfLoadingForTicker = null;\n  }\n}\n\n// \u2500\u2500\u2500 VDF Analysis Panel \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\n// VDF component metadata: [key, label, defaultWeight, tooltip]\nconst VDF_COMPONENTS: Array<{ key: string; label: string; defaultWeight: number; tooltip: string }> = [\n  { key: 's8', label: 'Divergence', defaultWeight: 35, tooltip: 'Overall price-down + delta-up divergence. The PRIMARY thesis signal. Score = 0 when price is rising or delta is negative.' },\n  { key: 's6', label: 'Absorption', defaultWeight: 25, tooltip: 'Percentage of days where price fell but delta was positive. Day-by-day divergence confirmation: institutions buying the dip.' },\n  { key: 's1', label: 'Net Delta', defaultWeight: 15, tooltip: 'Total net buying as % of total volume. Supporting signal: is there net buying?' },\n  { key: 's2', label: 'Delta Slope', defaultWeight: 10, tooltip: 'Trend of cumulative weekly delta. Supporting signal: is buying building over time?' },\n  { key: 's3', label: 'Delta Shift', defaultWeight: 5, tooltip: 'Is buying stronger now than before? Compares avg daily delta in the zone to the pre-context period.' },\n  { key: 's4', label: 'Accum Ratio', defaultWeight: 5, tooltip: 'Fraction of weeks with positive delta. High ratio = persistent buying across multiple weeks.' },\n  { key: 's5', label: 'Buy vs Sell', defaultWeight: 3, tooltip: 'Ratio of large buy days to large sell days. Detects if big-volume days lean bullish or bearish.' },\n  { key: 's7', label: 'Vol Decline', defaultWeight: 2, tooltip: 'Volume declining from first-third to last-third of the zone. Supply drying up = fewer sellers remain.' },\n];\n\nconst VDF_DEFAULT_WEIGHTS: Record<string, number> = {};\nVDF_COMPONENTS.forEach(c => { VDF_DEFAULT_WEIGHTS[c.key] = c.defaultWeight; });\n\nlet vdfWeights: Record<string, number> = { ...VDF_DEFAULT_WEIGHTS };\n\nfunction loadVDFWeightsFromStorage(): void {\n  try {\n    const raw = localStorage.getItem('chart_vdf_weights');\n    if (raw) {\n      const parsed = JSON.parse(raw);\n      if (parsed && typeof parsed === 'object') {\n        for (const c of VDF_COMPONENTS) {\n          if (typeof parsed[c.key] === 'number') vdfWeights[c.key] = parsed[c.key];\n        }\n      }\n    }\n  } catch { /* */ }\n}\n\nfunction getVDFWeightTotal(): number {\n  return VDF_COMPONENTS.reduce((s, c) => s + (vdfWeights[c.key] || 0), 0);\n}\n\nfunction recomputeVDFZoneScore(zone: VDFZone): number {\n  if (!zone.components) return zone.score;\n  const total = getVDFWeightTotal();\n  if (total <= 0) return 0;\n  let rawScore = 0;\n  for (const c of VDF_COMPONENTS) {\n    const val = (zone.components as Record<string, number>)[c.key] || 0;\n    rawScore += val * ((vdfWeights[c.key] || 0) / total);\n  }\n  const concordancePenalty = zone.concordancePenalty ?? 1.0;\n  const durationMultiplier = zone.durationMultiplier ?? 1.0;\n  return rawScore * concordancePenalty * durationMultiplier;\n}\n\n// Backwards-compatible label array for buildComponentBarsHtml\nfunction getVDFComponentLabels(): Array<[string, string, string]> {\n  const total = getVDFWeightTotal();\n  return VDF_COMPONENTS.map(c => {\n    const w = vdfWeights[c.key] || 0;\n    const pct = total > 0 ? Math.round((w / total) * 100) : 0;\n    return [c.key, c.label, `${pct}%`] as [string, string, string];\n  });\n}\n\nfunction formatVDFDate(dateStr: string): string {\n  const parts = dateStr.split('-');\n  if (parts.length < 3) return dateStr;\n  return `${Number(parts[1])}/${Number(parts[2])}`;\n}\n\nfunction vdfScoreTier(score: number): string {\n  if (score >= 80) return 'Strong';\n  if (score >= 60) return 'Moderate';\n  if (score >= 40) return 'Weak';\n  return 'Marginal';\n}\n\nfunction vdfScoreColor(score: number): string {\n  if (score >= 80) return '#26a69a';\n  if (score >= 60) return '#8bc34a';\n  return '#c9d1d9';\n}\n\nfunction vdfProximityColor(level: string): string {\n  if (level === 'imminent') return '#f44336';\n  if (level === 'high') return '#ff9800';\n  if (level === 'elevated') return '#ffc107';\n  return '#8b949e';\n}\n\nfunction ensureVDFAnalysisPanel(): HTMLDivElement {\n  if (vdfAnalysisPanelEl) return vdfAnalysisPanelEl;\n  const chartContent = document.getElementById('chart-content');\n  if (!chartContent) return document.createElement('div');\n  const panel = document.createElement('div');\n  panel.id = 'vdf-analysis-panel';\n  panel.style.cssText = 'width:100%;border-radius:6px;border:1px solid #30363d;background:#0d1117;color:#c9d1d9;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",sans-serif;font-size:13px;line-height:1.5;overflow:hidden;display:none;';\n  chartContent.appendChild(panel);\n  vdfAnalysisPanelEl = panel;\n  return panel;\n}\n\nfunction toggleVDFAnalysisPanel(): void {\n  if (!vdfAnalysisPanelEl) return;\n  const body = vdfAnalysisPanelEl.querySelector('.vdf-ap-body') as HTMLElement | null;\n  if (!body) return;\n  const isCollapsed = body.style.display === 'none';\n  body.style.display = isCollapsed ? 'block' : 'none';\n  const chevron = vdfAnalysisPanelEl.querySelector('.vdf-ap-chevron') as HTMLElement | null;\n  if (chevron) chevron.textContent = isCollapsed ? '\\u25be' : '\\u25b8';\n  try { localStorage.setItem('chart_vdf_panel_collapsed', isCollapsed ? '0' : '1'); } catch { /* */ }\n}\n\nfunction buildComponentBarsHtml(components: Record<string, number>): string {\n  return getVDFComponentLabels().map(([key, label, weight]: [string, string, string]) => {\n    const val = Number(components[key]) || 0;\n    const pct = Math.max(0, Math.min(100, Math.round(val * 100)));\n    const barColor = val >= 0.7 ? '#26a69a' : val >= 0.4 ? '#8bc34a' : '#484f58';\n    return `<div style=\"display:grid;grid-template-columns:130px 1fr 36px;gap:6px;align-items:center;margin:2px 0;\">\n      <span style=\"color:#8b949e;font-size:11px;white-space:nowrap;\">${escapeHtml(label)} (${weight})</span>\n      <div style=\"height:4px;background:#21262d;border-radius:2px;overflow:hidden;\">\n        <div style=\"height:100%;width:${pct}%;background:${barColor};border-radius:2px;\"></div>\n      </div>\n      <span style=\"color:#c9d1d9;font-size:11px;font-family:'SF Mono',Menlo,Monaco,Consolas,monospace;text-align:right;\">${val.toFixed(2)}</span>\n    </div>`;\n  }).join('');\n}\n\nfunction buildZoneHtml(zone: VDFZone, index: number, isBest: boolean): string {\n  const recomputed = recomputeVDFZoneScore(zone);\n  const scoreInt = Math.round(recomputed * 100);\n  const serverScoreInt = Math.round(zone.score * 100);\n  const isCustomWeights = !VDF_COMPONENTS.every(c => vdfWeights[c.key] === c.defaultWeight);\n  const label = isBest ? `Zone ${index + 1} (Primary)` : `Zone ${index + 1}`;\n  const color = vdfScoreColor(scoreInt);\n\n  let metricsLine = '';\n  const parts: string[] = [];\n  if (zone.overallPriceChange != null) parts.push(`Price: ${zone.overallPriceChange >= 0 ? '+' : ''}${zone.overallPriceChange.toFixed(1)}%`);\n  if (zone.netDeltaPct != null) parts.push(`Net Delta: ${zone.netDeltaPct >= 0 ? '+' : ''}${zone.netDeltaPct.toFixed(1)}%`);\n  if (zone.absorptionPct != null) parts.push(`Absorption: ${zone.absorptionPct.toFixed(1)}%`);\n  if (parts.length) metricsLine = `<div style=\"margin:4px 0;color:#8b949e;font-size:12px;\">${parts.join(' &nbsp;|&nbsp; ')}</div>`;\n\n  let detailLine = '';\n  const dParts: string[] = [];\n  if (zone.accumWeeks != null && zone.weeks) dParts.push(`Accum weeks: ${zone.accumWeeks}/${zone.weeks} (${Math.round((zone.accumWeeks / zone.weeks) * 100)}%)`);\n  if (zone.durationMultiplier != null) dParts.push(`Duration: ${zone.durationMultiplier.toFixed(3)}x`);\n  if (zone.concordancePenalty != null && zone.concordancePenalty < 1.0) dParts.push(`Concordance: ${zone.concordancePenalty.toFixed(3)}x`);\n  if (dParts.length) detailLine = `<div style=\"margin:2px 0;color:#8b949e;font-size:12px;\">${dParts.join(' &nbsp;|&nbsp; ')}</div>`;\n\n  let componentsHtml = '';\n  if (zone.components) {\n    componentsHtml = `<div style=\"margin-top:8px;\"><div style=\"color:#8b949e;font-size:11px;font-weight:600;text-transform:uppercase;letter-spacing:0.5px;margin-bottom:4px;\">Components</div>${buildComponentBarsHtml(zone.components as unknown as Record<string, number>)}</div>`;\n  }\n\n  // Show server vs local score difference when custom weights are active\n  const scoreDiffHtml = isCustomWeights && serverScoreInt !== scoreInt\n    ? `<span style=\"font-size:10px;color:#484f58;margin-left:4px;\" title=\"Server score with default weights\">(was ${serverScoreInt})</span>`\n    : '';\n\n  return `<div style=\"background:#161b22;border:1px solid #21262d;border-radius:4px;padding:12px;margin-bottom:8px;\">\n    <div style=\"display:flex;justify-content:space-between;align-items:center;margin-bottom:4px;\">\n      <span style=\"font-weight:600;font-size:13px;color:#c9d1d9;\">${escapeHtml(label)}</span>\n      <span><span style=\"font-family:'SF Mono',Menlo,Monaco,Consolas,monospace;font-size:13px;font-weight:700;color:${color};\">${scoreInt}</span>${scoreDiffHtml}</span>\n    </div>\n    <div style=\"color:#c9d1d9;font-size:12px;\">${formatVDFDate(zone.startDate)} \\u2192 ${formatVDFDate(zone.endDate)} (${zone.windowDays} trading days${zone.weeks ? `, ${zone.weeks} wk` : ''})</div>\n    ${metricsLine}\n    ${detailLine}\n    ${componentsHtml}\n  </div>`;\n}\n\nfunction buildDistributionHtml(dist: VDFDistribution, index: number): string {\n  let detail = '';\n  const parts: string[] = [];\n  if (dist.priceChangePct != null) parts.push(`Price ${dist.priceChangePct >= 0 ? '+' : ''}${dist.priceChangePct.toFixed(1)}%`);\n  if (dist.netDeltaPct != null) parts.push(`Delta ${dist.netDeltaPct >= 0 ? '+' : ''}${dist.netDeltaPct.toFixed(1)}%`);\n  if (parts.length) detail = parts.join(' while ') + ' \\u2014 selling into strength.';\n\n  return `<div style=\"background:rgba(239,83,80,0.06);border:1px solid rgba(239,83,80,0.2);border-radius:4px;padding:10px 12px;margin-bottom:8px;\">\n    <div style=\"font-weight:600;font-size:12px;color:#ef5350;margin-bottom:2px;\">Cluster ${index + 1}: ${formatVDFDate(dist.startDate)} \\u2192 ${formatVDFDate(dist.endDate)} (${dist.spanDays} days)</div>\n    ${detail ? `<div style=\"color:#8b949e;font-size:12px;\">${escapeHtml(detail)}</div>` : ''}\n  </div>`;\n}\n\nfunction buildProximityHtml(prox: VDFProximity): string {\n  if (prox.level === 'none' && prox.compositeScore === 0) return '';\n  const levelLabel = prox.level.charAt(0).toUpperCase() + prox.level.slice(1);\n  const levelColor = vdfProximityColor(prox.level);\n\n  const signalRows = prox.signals.map(sig =>\n    `<div style=\"display:flex;justify-content:space-between;align-items:center;padding:2px 0;font-size:12px;\">\n      <span style=\"color:#c9d1d9;\">\\u2713 ${escapeHtml(sig.detail)}</span>\n      <span style=\"color:${levelColor};font-family:'SF Mono',Menlo,Monaco,Consolas,monospace;font-weight:600;white-space:nowrap;margin-left:12px;\">+${sig.points}</span>\n    </div>`\n  ).join('');\n\n  return `<div style=\"margin-top:4px;\">\n    <div style=\"display:flex;align-items:center;gap:8px;margin-bottom:6px;\">\n      <span style=\"font-family:'SF Mono',Menlo,Monaco,Consolas,monospace;font-size:13px;font-weight:700;color:${levelColor};\">${prox.compositeScore} pts</span>\n      <span style=\"font-size:11px;font-weight:600;color:${levelColor};border:1px solid ${levelColor};border-radius:3px;padding:0 5px;line-height:16px;\">${levelLabel}</span>\n    </div>\n    ${signalRows}\n  </div>`;\n}\n\nfunction renderVDFAnalysisPanel(entry: VDFCacheEntry | null): void {\n  loadVDFWeightsFromStorage();\n  const panel = ensureVDFAnalysisPanel();\n  if (!entry) {\n    panel.style.display = 'none';\n    panel.innerHTML = '';\n    return;\n  }\n\n  const ticker = currentChartTicker || '';\n  // Use best zone recomputed score for the header\n  const bestZone = entry.zones[0];\n  const recomputedBestScore = bestZone ? Math.round(recomputeVDFZoneScore(bestZone) * 100) : 0;\n  const score = entry.is_detected ? recomputedBestScore : Math.round(entry.composite_score * 100);\n  const tier = vdfScoreTier(score);\n  const color = vdfScoreColor(score);\n  const metrics = entry.details?.metrics;\n\n  let collapsed = true;\n  try { collapsed = localStorage.getItem('chart_vdf_panel_collapsed') !== '0'; } catch { /* */ }\n  // Auto-expand when accumulation is detected\n  if (entry.is_detected && !localStorage.getItem('chart_vdf_panel_collapsed')) collapsed = false;\n\n  const chevron = collapsed ? '\\u25b8' : '\\u25be';\n  const bodyDisplay = collapsed ? 'none' : 'block';\n\n  // Header\n  const headerHtml = `<div class=\"vdf-ap-header\" style=\"display:flex;justify-content:space-between;align-items:center;padding:10px 14px;cursor:pointer;user-select:none;border-bottom:1px solid #21262d;\">\n    <div style=\"display:flex;align-items:center;gap:8px;\">\n      <span class=\"vdf-ap-chevron\" style=\"font-size:12px;color:#8b949e;width:12px;\">${chevron}</span>\n      <span style=\"font-weight:600;color:#c9d1d9;\">VD Analysis</span>\n      <span style=\"color:#8b949e;font-family:'SF Mono',Menlo,Monaco,Consolas,monospace;font-size:12px;\">${escapeHtml(ticker)}</span>\n    </div>\n    <div style=\"display:flex;align-items:center;\">\n      ${entry.is_detected\n        ? `<span style=\"font-family:'SF Mono',Menlo,Monaco,Consolas,monospace;font-size:13px;font-weight:700;color:${color};\">${score}</span>`\n        : `<span style=\"font-size:11px;color:#484f58;\">Not detected</span>`}\n    </div>\n  </div>`;\n\n  // Body\n  let bodyHtml = '';\n\n  if (!entry.is_detected) {\n    // Not detected \u2014 brief message\n    let scanInfo = '';\n    if (metrics?.scanStart && metrics?.scanEnd) {\n      scanInfo = ` Scan: ${formatVDFDate(metrics.scanStart)} \\u2192 ${formatVDFDate(metrics.scanEnd)}`;\n      if (metrics.totalDays) scanInfo += ` (${metrics.totalDays} trading days)`;\n      scanInfo += '.';\n    }\n    bodyHtml = `<div style=\"padding:14px;color:#8b949e;font-size:13px;\">No accumulation patterns detected in the scan period.${scanInfo}</div>`;\n  } else {\n    // Assessment section\n    const zoneCount = entry.zones.length;\n    let assessParts = `Volume-delta accumulation <span style=\"color:${color};font-weight:600;\">${tier}</span> (score: ${score}).`;\n    assessParts += ` ${zoneCount} accumulation zone${zoneCount !== 1 ? 's' : ''} detected`;\n    if (entry.weeks) assessParts += ` spanning up to ${entry.weeks} weeks`;\n    assessParts += '.';\n    if (metrics?.scanStart && metrics?.scanEnd) {\n      assessParts += ` Scan: ${formatVDFDate(metrics.scanStart)} \\u2192 ${formatVDFDate(metrics.scanEnd)}`;\n      if (metrics.totalDays) assessParts += ` (${metrics.totalDays} trading days)`;\n      assessParts += '.';\n    }\n    if (entry.distribution.length > 0) {\n      assessParts += ` <span style=\"color:#ef5350;\">${entry.distribution.length} distribution cluster${entry.distribution.length !== 1 ? 's' : ''}</span> also found.`;\n    }\n\n    const assessHtml = `<div style=\"margin-bottom:16px;font-size:13px;color:#c9d1d9;\">${assessParts}</div>`;\n\n    // Chart legend\n    const swatchStyle = 'display:inline-block;width:14px;height:5px;border-radius:1px;vertical-align:middle;margin-right:5px;';\n    const dashStyle = 'display:inline-block;width:14px;height:0;border-top:1px dashed;vertical-align:middle;margin-right:5px;';\n    const glowStyle = 'display:inline-block;width:3px;height:12px;border-radius:1px;vertical-align:middle;margin-right:5px;';\n    const legendItems: string[] = [];\n    legendItems.push(`<span style=\"white-space:nowrap;\"><span style=\"${swatchStyle}background:rgba(38,166,154,0.7);\"></span>Accumulation</span>`);\n    if (entry.distribution.length > 0) {\n      legendItems.push(`<span style=\"white-space:nowrap;\"><span style=\"${swatchStyle}background:rgba(239,83,80,0.65);\"></span>Distribution</span>`);\n    }\n    const hasAbsorption = entry.zones.some(z => (z.absorptionPct || 0) >= 5);\n    if (hasAbsorption) {\n      legendItems.push(`<span style=\"white-space:nowrap;\"><span style=\"${swatchStyle}background:rgba(255,167,38,0.7);\"></span>Absorption</span>`);\n    }\n    legendItems.push(`<span style=\"white-space:nowrap;\"><span style=\"${dashStyle}border-color:rgba(38,166,154,0.4);\"></span>Zone bounds</span>`);\n    const proxLegend = entry.proximity;\n    if (proxLegend && proxLegend.level !== 'none' && proxLegend.compositeScore > 0) {\n      const plc = vdfProximityColor(proxLegend.level);\n      legendItems.push(`<span style=\"white-space:nowrap;\"><span style=\"${glowStyle}background:${plc};box-shadow:0 0 4px ${plc};\"></span>Proximity</span>`);\n    }\n    const legendHtml = `<div style=\"display:flex;flex-wrap:wrap;gap:12px 16px;padding:8px 12px;background:#161b22;border:1px solid #21262d;border-radius:4px;margin-bottom:16px;font-size:11px;color:#8b949e;\">${legendItems.join('')}</div>`;\n\n    // Zones section\n    const sectionStyle = 'font-size:11px;font-weight:700;text-transform:uppercase;letter-spacing:0.5px;color:#8b949e;margin:16px 0 8px;border-bottom:1px solid #21262d;padding-bottom:4px;';\n    let zonesHtml = '';\n    if (entry.zones.length > 0) {\n      zonesHtml = `<div style=\"${sectionStyle}\">Accumulation Zones</div>`;\n      zonesHtml += entry.zones.map((z, i) => buildZoneHtml(z, i, i === 0)).join('');\n    }\n\n    // Distribution section\n    let distHtml = '';\n    if (entry.distribution.length > 0) {\n      distHtml = `<div style=\"${sectionStyle}\">Distribution Clusters</div>`;\n      distHtml += entry.distribution.map((d, i) => buildDistributionHtml(d, i)).join('');\n    }\n\n    // Proximity section\n    let proxHtml = '';\n    const prox = entry.proximity;\n    if (prox && (prox.level !== 'none' || prox.compositeScore > 0)) {\n      const levelLabel = prox.level.charAt(0).toUpperCase() + prox.level.slice(1);\n      proxHtml = `<div style=\"${sectionStyle}\">Proximity Signals (${prox.compositeScore} pts \\u2014 ${levelLabel})</div>`;\n      proxHtml += buildProximityHtml(prox);\n    }\n\n    bodyHtml = `<div style=\"padding:14px;\">${assessHtml}${legendHtml}${zonesHtml}${distHtml}${proxHtml}</div>`;\n  }\n\n  panel.innerHTML = `${headerHtml}<div class=\"vdf-ap-body\" style=\"display:${bodyDisplay};\">${bodyHtml}</div>`;\n  panel.style.display = 'block';\n\n  // Bind header click for toggle\n  const header = panel.querySelector('.vdf-ap-header');\n  if (header) {\n    header.addEventListener('click', () => {\n      toggleVDFAnalysisPanel();\n    });\n  }\n}\n\nfunction applyPricePaneDivergentBarColors(): void {\n  if (!candleSeries) return;\n  if (!Array.isArray(currentBars) || currentBars.length === 0) {\n    candleSeries.setData([]);\n    return;\n  }\n\n  if (!volumeDeltaSettings.divergentPriceBars) {\n    candleSeries.setData(currentBars);\n    return;\n  }\n\n  const bullishColor = volumeDeltaSettings.bullishDivergentColor || DEFAULT_VOLUME_DELTA_SETTINGS.bullishDivergentColor;\n  const bearishColor = volumeDeltaSettings.bearishDivergentColor || DEFAULT_VOLUME_DELTA_SETTINGS.bearishDivergentColor;\n  const configuredNeutral = String(volumeDeltaSettings.neutralDivergentColor || '').trim().toLowerCase();\n  const convergentColor = configuredNeutral === '#c9d1d9'\n    ? DEFAULT_VOLUME_DELTA_SETTINGS.neutralDivergentColor\n    : (volumeDeltaSettings.neutralDivergentColor || DEFAULT_VOLUME_DELTA_SETTINGS.neutralDivergentColor);\n\n  const barsWithBodyColor = currentBars.map((bar, index) => {\n    const close = Number(bar?.close);\n    const prevClose = Number(currentBars[index - 1]?.close);\n    const delta = Number(volumeDeltaByTime.get(timeKey(bar.time)));\n    const hasComparableBar = index > 0 && Number.isFinite(close) && Number.isFinite(prevClose);\n    const hasDelta = Number.isFinite(delta);\n\n    let bodyColor = convergentColor;\n    if (hasComparableBar && hasDelta) {\n      const isBullishDivergence = delta > 0 && close < prevClose;\n      const isBearishDivergence = delta < 0 && close > prevClose;\n      if (isBullishDivergence) {\n        bodyColor = bullishColor;\n      } else if (isBearishDivergence) {\n        bodyColor = bearishColor;\n      }\n    }\n\n    return {\n      ...bar,\n      color: bodyColor\n    };\n  });\n\n  candleSeries.setData(barsWithBodyColor);\n}\n\nfunction normalizeCandleBars(bars: any[]): any[] {\n  return bars.filter((bar) => (\n    bar &&\n    (typeof bar.time === 'string' || typeof bar.time === 'number') &&\n    Number.isFinite(Number(bar.open)) &&\n    Number.isFinite(Number(bar.high)) &&\n    Number.isFinite(Number(bar.low)) &&\n    Number.isFinite(Number(bar.close))\n  ));\n}\n\nfunction applyChartSizes(\n  chartContainer: HTMLElement,\n  volumeDeltaRsiContainer: HTMLElement,\n  rsiContainer: HTMLElement,\n  volumeDeltaContainer: HTMLElement\n): void {\n  if (!priceChart) return;\n\n  const chartRect = chartContainer.getBoundingClientRect();\n  const volumeDeltaRsiRect = volumeDeltaRsiContainer.getBoundingClientRect();\n  const rsiRect = rsiContainer.getBoundingClientRect();\n  const volumeDeltaRect = volumeDeltaContainer.getBoundingClientRect();\n  const priceWidth = Math.max(1, Math.floor(chartRect.width));\n  const priceHeight = Math.max(1, Math.floor(chartRect.height));\n  const volumeDeltaRsiWidth = Math.max(1, Math.floor(volumeDeltaRsiRect.width));\n  const volumeDeltaRsiHeight = Math.max(1, Math.floor(volumeDeltaRsiRect.height));\n  const rsiWidth = Math.max(1, Math.floor(rsiRect.width));\n  const rsiHeight = Math.max(1, Math.floor(rsiRect.height));\n  const volumeDeltaWidth = Math.max(1, Math.floor(volumeDeltaRect.width));\n  const volumeDeltaHeight = Math.max(1, Math.floor(volumeDeltaRect.height));\n\n  priceChart.applyOptions({ width: priceWidth, height: priceHeight });\n  if (volumeDeltaRsiChart) {\n    volumeDeltaRsiChart.applyOptions({ width: volumeDeltaRsiWidth, height: volumeDeltaRsiHeight });\n  }\n  if (rsiChart) {\n    rsiChart.getChart().applyOptions({ width: rsiWidth, height: rsiHeight });\n    rsiChart.refreshTrendlineLabels();\n  }\n  if (volumeDeltaChart) {\n    volumeDeltaChart.applyOptions({ width: volumeDeltaWidth, height: volumeDeltaHeight });\n  }\n  scheduleChartLayoutRefresh();\n}\n\nfunction ensureResizeObserver(\n  chartContainer: HTMLElement,\n  volumeDeltaRsiContainer: HTMLElement,\n  rsiContainer: HTMLElement,\n  volumeDeltaContainer: HTMLElement\n): void {\n  if (chartResizeObserver) return;\n\n  chartResizeObserver = new ResizeObserver(() => {\n    applyChartSizes(chartContainer, volumeDeltaRsiContainer, rsiContainer, volumeDeltaContainer);\n  });\n\n  chartResizeObserver.observe(chartContainer);\n  chartResizeObserver.observe(volumeDeltaRsiContainer);\n  chartResizeObserver.observe(rsiContainer);\n  chartResizeObserver.observe(volumeDeltaContainer);\n}\n\n/** Apply persisted pane heights (if any) to the containers. */\nfunction applyPersistedPaneHeights(\n  chartContainer: HTMLElement,\n  volumeDeltaRsiContainer: HTMLElement,\n  rsiContainer: HTMLElement,\n  volumeDeltaContainer: HTMLElement\n): void {\n  const containers = [chartContainer, volumeDeltaRsiContainer, rsiContainer, volumeDeltaContainer];\n  for (const c of containers) {\n    const h = paneHeights[c.id];\n    if (h && h >= PANE_HEIGHT_MIN && h <= PANE_HEIGHT_MAX) {\n      c.style.height = `${h}px`;\n    }\n  }\n}\n\n/** Install draggable resize handles on the bottom edge of each pane. */\nfunction ensurePaneResizeHandles(\n  chartContainer: HTMLElement,\n  volumeDeltaRsiContainer: HTMLElement,\n  rsiContainer: HTMLElement,\n  volumeDeltaContainer: HTMLElement\n): void {\n  if (paneResizeHandlesInstalled) return;\n  paneResizeHandlesInstalled = true;\n\n  const containers = [chartContainer, volumeDeltaRsiContainer, rsiContainer, volumeDeltaContainer];\n  for (const container of containers) {\n    const handle = document.createElement('div');\n    handle.className = 'pane-resize-handle';\n    container.appendChild(handle);\n\n    let startY = 0;\n    let startHeight = 0;\n\n    const onPointerMove = (e: PointerEvent) => {\n      const delta = e.clientY - startY;\n      const newHeight = Math.min(PANE_HEIGHT_MAX, Math.max(PANE_HEIGHT_MIN, startHeight + delta));\n      container.style.height = `${newHeight}px`;\n    };\n\n    const onPointerUp = (e: PointerEvent) => {\n      handle.classList.remove('active');\n      handle.releasePointerCapture(e.pointerId);\n      handle.removeEventListener('pointermove', onPointerMove);\n      handle.removeEventListener('pointerup', onPointerUp);\n\n      // Persist the final height.\n      const finalHeight = container.getBoundingClientRect().height;\n      paneHeights[container.id] = Math.round(finalHeight);\n      persistSettingsToStorage();\n    };\n\n    handle.addEventListener('pointerdown', (e: PointerEvent) => {\n      e.preventDefault();\n      e.stopPropagation();\n      startY = e.clientY;\n      startHeight = container.getBoundingClientRect().height;\n      handle.classList.add('active');\n      handle.setPointerCapture(e.pointerId);\n      handle.addEventListener('pointermove', onPointerMove);\n      handle.addEventListener('pointerup', onPointerUp);\n    });\n\n    // Double-click resets to default height.\n    handle.addEventListener('dblclick', (e: Event) => {\n      e.preventDefault();\n      e.stopPropagation();\n      const defaultH = DEFAULT_PANE_HEIGHTS[container.id];\n      if (defaultH) {\n        container.style.height = `${defaultH}px`;\n        delete paneHeights[container.id];\n        persistSettingsToStorage();\n      }\n    });\n  }\n}\n\nfunction showLoadingOverlay(container: HTMLElement): void {\n  // Remove existing overlay if present\n  const existingOverlay = container.querySelector('.chart-loading-overlay');\n  if (existingOverlay) {\n    existingOverlay.remove();\n  }\n\n  // Create loading overlay\n  const overlay = document.createElement('div');\n  overlay.className = 'chart-loading-overlay';\n  overlay.style.cssText = `\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(13, 17, 23, 0.95);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 1000;\n    pointer-events: none;\n  `;\n\n  // Create loading spinner\n  const spinner = document.createElement('div');\n  spinner.innerHTML = `\n    <svg width=\"40\" height=\"40\" viewBox=\"0 0 40 40\" style=\"animation: spin 1s linear infinite;\">\n      <circle cx=\"20\" cy=\"20\" r=\"16\" fill=\"none\" stroke=\"#58a6ff\" stroke-width=\"3\"\n              stroke-dasharray=\"80\" stroke-dashoffset=\"60\" stroke-linecap=\"round\" opacity=\"0.8\"/>\n    </svg>\n    <style>\n      @keyframes spin {\n        from { transform: rotate(0deg); }\n        to { transform: rotate(360deg); }\n      }\n    </style>\n  `;\n\n  overlay.appendChild(spinner);\n  container.appendChild(overlay);\n}\n\nfunction showRetryOverlay(container: HTMLElement, onRetry: () => void): void {\n  const existingOverlay = container.querySelector('.chart-loading-overlay');\n  if (existingOverlay) {\n    existingOverlay.remove();\n  }\n\n  const overlay = document.createElement('div');\n  overlay.className = 'chart-loading-overlay';\n  overlay.style.cssText = `\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(13, 17, 23, 0.95);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    z-index: 1000;\n    pointer-events: auto;\n  `;\n\n  const retryBtn = document.createElement('button');\n  retryBtn.type = 'button';\n  retryBtn.textContent = 'Try Refreshing';\n  retryBtn.style.background = '#161b22';\n  retryBtn.style.color = '#c9d1d9';\n  retryBtn.style.border = '1px solid #30363d';\n  retryBtn.style.borderRadius = '6px';\n  retryBtn.style.padding = '8px 12px';\n  retryBtn.style.fontSize = '12px';\n  retryBtn.style.fontWeight = '600';\n  retryBtn.style.cursor = 'pointer';\n  retryBtn.style.fontFamily = \"'SF Mono', 'Menlo', 'Monaco', 'Consolas', monospace\";\n  retryBtn.addEventListener('click', (event) => {\n    event.preventDefault();\n    onRetry();\n  });\n\n  overlay.appendChild(retryBtn);\n  container.appendChild(overlay);\n}\n\nfunction hideLoadingOverlay(container: HTMLElement): void {\n  const overlay = container.querySelector('.chart-loading-overlay');\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction scheduleIntervalChartRender(interval: ChartInterval): void {\n  const scheduledTicker = currentChartTicker;\n  if (!scheduledTicker) return;\n  if (intervalSwitchDebounceTimer !== null) {\n    window.clearTimeout(intervalSwitchDebounceTimer);\n    intervalSwitchDebounceTimer = null;\n  }\n  intervalSwitchDebounceTimer = window.setTimeout(() => {\n    intervalSwitchDebounceTimer = null;\n    if (!currentChartTicker || currentChartTicker !== scheduledTicker) return;\n    renderCustomChart(scheduledTicker, interval);\n  }, INTERVAL_SWITCH_DEBOUNCE_MS);\n}\n\nfunction isTickerChartVisible(): boolean {\n  if (document.visibilityState !== 'visible') return false;\n  const liveView = document.getElementById('view-live');\n  if (liveView?.classList.contains('hidden')) return false;\n  const tickerView = document.getElementById('ticker-view');\n  if (tickerView?.classList.contains('hidden')) return false;\n  return true;\n}\n\nfunction patchLatestBarInPlaceFromPayload(data: ChartLatestData): boolean {\n  if (!candleSeries || !rsiChart || !volumeDeltaRsiSeries || !volumeDeltaHistogramSeries) return false;\n  if (!Array.isArray(currentBars) || currentBars.length === 0) return false;\n\n  const currentLastIndex = currentBars.length - 1;\n  const currentLast = currentBars[currentLastIndex];\n  const fetchedLast = data.latestBar;\n  if (!fetchedLast) return false;\n  if (timeKey(currentLast?.time) !== timeKey(fetchedLast.time)) {\n    return false;\n  }\n\n  const lastTime = currentLast.time;\n  const lastKey = timeKey(lastTime);\n  currentBars[currentLastIndex] = {\n    ...currentLast,\n    ...fetchedLast\n  };\n\n  const latestClose = Number(currentBars[currentLastIndex].close);\n  if (Number.isFinite(latestClose)) {\n    priceByTime.set(lastKey, latestClose);\n  }\n  barIndexByTime.set(lastKey, currentLastIndex);\n\n  if (currentLastIndex > 0) {\n    const prevClose = Number(currentBars[currentLastIndex - 1]?.close);\n    if (Number.isFinite(prevClose) && prevClose !== 0 && Number.isFinite(latestClose)) {\n      const percentChange = ((latestClose - prevClose) / prevClose) * 100;\n      priceChangeByTime.set(lastKey, percentChange);\n    }\n  }\n\n  const latestRsi = Number(data.latestRsi?.value);\n  if (Number.isFinite(latestRsi)) {\n    rsiByTime.set(lastKey, Number(latestRsi));\n    const updated = rsiChart.updateLatestPoint(\n      { time: lastTime, value: Number(latestRsi) },\n      Number.isFinite(latestClose) ? { time: lastTime, close: latestClose } : undefined\n    );\n    if (!updated) return false;\n  }\n\n  const latestVdRsi = Number(data.latestVolumeDeltaRsi?.value);\n  if (Number.isFinite(latestVdRsi)) {\n    const normalizedVdRsi = normalizeVolumeDeltaValue(Number(latestVdRsi));\n    volumeDeltaRsiByTime.set(lastKey, normalizedVdRsi);\n    if (volumeDeltaRsiPoints.length > 0 && timeKey(volumeDeltaRsiPoints[volumeDeltaRsiPoints.length - 1].time) === lastKey) {\n      volumeDeltaRsiPoints[volumeDeltaRsiPoints.length - 1] = {\n        ...volumeDeltaRsiPoints[volumeDeltaRsiPoints.length - 1],\n        value: normalizedVdRsi\n      };\n    }\n    volumeDeltaRsiSeries.update({\n      time: lastTime,\n      value: normalizedVdRsi\n    });\n  }\n\n  const latestDelta = Number(data.latestVolumeDelta?.delta);\n  if (Number.isFinite(latestDelta)) {\n    const numericDelta = Number(latestDelta);\n    volumeDeltaByTime.set(lastKey, numericDelta);\n    volumeDeltaHistogramSeries.update({\n      time: lastTime,\n      value: numericDelta,\n      color: numericDelta >= 0 ? VOLUME_DELTA_POSITIVE_COLOR : VOLUME_DELTA_NEGATIVE_COLOR\n    });\n  }\n\n  if (volumeDeltaSettings.divergentPriceBars) {\n    applyPricePaneDivergentBarColors();\n  } else {\n    candleSeries.update(currentBars[currentLastIndex]);\n  }\n\n  updateMovingAveragesLatestPoint();\n  if (pricePaneContainerEl) {\n    setPricePaneChange(pricePaneContainerEl, null);\n  }\n  if (volumeDeltaPaneContainerEl) {\n    renderVolumeDeltaDivergenceSummary(volumeDeltaPaneContainerEl, currentBars);\n  }\n  refreshActiveDivergenceOverlays();\n  return true;\n}\n\nasync function refreshLatestChartDataInPlace(ticker: string, interval: ChartInterval): Promise<void> {\n  const fetchStartedAt = performance.now();\n  let responseCacheHeader: string | null = null;\n  const data = await fetchChartLatestData(ticker, interval, {\n    vdRsiLength: volumeDeltaRsiSettings.length,\n    vdSourceInterval: volumeDeltaSettings.sourceInterval,\n    vdRsiSourceInterval: volumeDeltaRsiSettings.sourceInterval,\n    onResponseMeta: (meta) => {\n      responseCacheHeader = meta.chartCacheHeader;\n    }\n  });\n  recordChartFetchPerf(interval, performance.now() - fetchStartedAt, responseCacheHeader);\n\n  if (!currentChartTicker || currentChartTicker !== ticker || currentChartInterval !== interval) return;\n  if (!Array.isArray(currentBars) || currentBars.length === 0) return;\n  const currentLastTime = currentBars[currentBars.length - 1]?.time;\n  const fetchedLast = data.latestBar;\n  if (currentLastTime === undefined || currentLastTime === null || !fetchedLast) {\n    await renderCustomChart(ticker, interval, { silent: true });\n    return;\n  }\n  const currentLastKey = timeKey(currentLastTime);\n  const fetchedLastKey = timeKey(fetchedLast.time);\n  if (currentLastKey !== fetchedLastKey) {\n    await renderCustomChart(ticker, interval, { silent: true });\n    return;\n  }\n\n  const patched = patchLatestBarInPlaceFromPayload(data);\n  if (!patched) {\n    await renderCustomChart(ticker, interval, { silent: true });\n  }\n}\n\nfunction applyChartDataToUi(\n  data: ChartData,\n  chartContainer: HTMLElement,\n  volumeDeltaRsiContainer: HTMLElement,\n  rsiContainer: HTMLElement,\n  volumeDeltaContainer: HTMLElement\n): void {\n  const bars = normalizeCandleBars(data.bars || []);\n  if (bars.length === 0) {\n    throw new Error('No valid chart bars returned for this ticker/interval');\n  }\n\n  monthBoundaryTimes = buildMonthBoundaryTimes(bars);\n  applyFutureTimelineSeriesData(bars);\n  const rsiData = buildRSISeriesFromBars(bars, rsiSettings.length);\n  const volumeDeltaRsiData = {\n    rsi: normalizeValueSeries(data.volumeDeltaRsi?.rsi || []),\n  };\n  const volumeDeltaData = normalizeVolumeDeltaSeries(data.volumeDelta || []);\n  currentBars = bars;\n  barIndexByTime = new Map<string, number>();\n  for (let i = 0; i < bars.length; i++) {\n    barIndexByTime.set(timeKey(bars[i].time), i);\n  }\n  rebuildPricePaneChangeMap(bars);\n  priceByTime = new Map(\n    bars.map((bar) => [timeKey(bar.time), Number(bar.close)])\n  );\n  rsiByTime = new Map(\n    rsiData\n      .filter((point) => Number.isFinite(Number(point.value)))\n      .map((point) => [timeKey(point.time), Number(point.value)])\n  );\n\n  if (candleSeries) {\n    candleSeries.setData(bars);\n  }\n  setPricePaneChange(chartContainer, null);\n  setVolumeDeltaRsiData(bars, volumeDeltaRsiData);\n  setVolumeDeltaHistogramData(bars, volumeDeltaData);\n  renderVolumeDeltaDivergenceSummary(volumeDeltaContainer, bars);\n  applyVolumeDeltaRSIVisualSettings();\n\n  if (!rsiChart && rsiContainer) {\n    rsiChart = new RSIChart({\n      container: rsiContainer,\n      data: rsiData,\n      displayMode: 'line',\n      lineColor: rsiSettings.lineColor,\n      midlineColor: rsiSettings.midlineColor,\n      midlineStyle: rsiSettings.midlineStyle,\n      priceData: bars.map((b) => ({ time: b.time, close: b.close })),\n      onTrendLineDrawn: () => {\n        rsiChart?.deactivateDivergenceTool();\n        rsiDivergenceToolActive = false;\n        setPaneTrendlineToolActive('rsi', false);\n        persistTrendlinesForCurrentContext();\n      }\n    });\n    applyChartSizes(chartContainer, volumeDeltaRsiContainer, rsiContainer, volumeDeltaContainer);\n    applyPaneScaleVisibilityByPosition();\n  } else if (rsiChart) {\n    rsiChart.setData(rsiData, bars.map((b) => ({ time: b.time, close: b.close })));\n  }\n\n  applyRSISettings();\n  restorePersistedTrendlinesForCurrentContext();\n  setupChartSync();\n\n  applyMovingAverages();\n  applyRightMargin();\n  syncChartsToPriceRange();\n  scheduleChartLayoutRefresh();\n\n  // Run VDF detection after divergence table + MAs complete\n  if (currentChartTicker) {\n    runVDFDetection(currentChartTicker);\n  }\n}\n\nfunction ensureChartLiveRefreshTimer(): void {\n  if (chartLiveRefreshTimer !== null) return;\n  chartLiveRefreshTimer = window.setInterval(() => {\n    if (chartLiveRefreshInFlight) return;\n    if (chartFetchAbortController) return;\n    if (!currentChartTicker) return;\n    if (!isTickerChartVisible()) return;\n\n    const scheduledTicker = currentChartTicker;\n    const scheduledInterval = currentChartInterval;\n    chartLiveRefreshInFlight = true;\n    refreshLatestChartDataInPlace(scheduledTicker, scheduledInterval)\n      .catch(() => {})\n      .finally(() => {\n        chartLiveRefreshInFlight = false;\n      });\n  }, CHART_LIVE_REFRESH_MS);\n}\n\nexport function isChartActivelyLoading(): boolean {\n  return chartActivelyLoading;\n}\n\nfunction abortPrefetches(): void {\n  if (prefetchAbortController) {\n    try { prefetchAbortController.abort(); } catch { /* ignore */ }\n    prefetchAbortController = null;\n  }\n}\n\nexport function cancelChartLoading(): void {\n  if (chartFetchAbortController) {\n    try { chartFetchAbortController.abort(); } catch { /* ignore */ }\n    chartFetchAbortController = null;\n  }\n  abortPrefetches();\n  if (chartLiveRefreshTimer !== null) {\n    window.clearInterval(chartLiveRefreshTimer);\n    chartLiveRefreshTimer = null;\n  }\n  chartLiveRefreshInFlight = false;\n  chartActivelyLoading = false;\n  latestRenderRequestId++;\n}\n\ninterface RenderCustomChartOptions {\n  silent?: boolean;\n}\n\nexport async function renderCustomChart(\n  ticker: string,\n  interval: ChartInterval = currentChartInterval,\n  options: RenderCustomChartOptions = {}\n) {\n  const silent = options.silent === true;\n  ensureSettingsLoadedFromStorage();\n  const previousTicker = currentChartTicker;\n  const previousInterval = currentChartInterval;\n  const requestId = ++latestRenderRequestId;\n  const contextChanged = (\n    typeof previousTicker === 'string' &&\n    (previousTicker !== ticker || previousInterval !== interval)\n  );\n  const shouldApplyWeeklyDefaultRange = interval === '1week' && (\n    typeof previousTicker !== 'string' || contextChanged\n  );\n  currentChartInterval = interval;\n  currentChartTicker = ticker;\n  const cacheKey = buildChartDataCacheKey(ticker, interval);\n\n  if (contextChanged) {\n    rsiDivergencePlotSelected = false;\n    volumeDeltaRsiDivergencePlotSelected = false;\n    rsiDivergencePlotStartIndex = null;\n    volumeDeltaRsiDivergencePlotStartIndex = null;\n    rsiDivergencePlotToolActive = false;\n    volumeDeltaRsiDivergencePlotToolActive = false;\n    volumeDeltaDivergenceToolActive = false;\n    rsiDivergenceToolActive = false;\n    hideDivergenceOverlay('rsi');\n    hideDivergenceOverlay('volumeDeltaRsi');\n    // Re-bind chart sync on next setupChartSync call since charts may be recreated.\n    isChartSyncBound = false;\n    crosshairHidden = false;\n    if (vdfAnalysisPanelEl) { vdfAnalysisPanelEl.style.display = 'none'; vdfAnalysisPanelEl.innerHTML = ''; }\n  }\n\n  const chartContent = document.getElementById('chart-content');\n  if (!chartContent || !(chartContent instanceof HTMLElement)) {\n    console.error('Chart content container not found');\n    return;\n  }\n  ensurePaneReorderUI(chartContent);\n\n  const chartContainer = document.getElementById('price-chart-container');\n  const volumeDeltaRsiContainer = document.getElementById('vd-rsi-chart-container');\n  const rsiContainer = document.getElementById('rsi-chart-container');\n  const volumeDeltaContainer = document.getElementById('vd-chart-container');\n  const errorContainer = document.getElementById('chart-error');\n\n  if (!chartContainer || !volumeDeltaRsiContainer || !rsiContainer || !volumeDeltaContainer || !errorContainer) {\n    console.error('Chart containers not found');\n    return;\n  }\n  pricePaneContainerEl = chartContainer as HTMLElement;\n  volumeDeltaPaneContainerEl = volumeDeltaContainer as HTMLElement;\n\n  // Clear error\n  errorContainer.style.display = 'none';\n  errorContainer.textContent = '';\n  setPricePaneMessage(chartContainer, null);\n  ensureMonthGridOverlay(chartContainer, 'price');\n  ensureMonthGridOverlay(volumeDeltaRsiContainer, 'volumeDeltaRsi');\n  ensureMonthGridOverlay(rsiContainer, 'rsi');\n  ensureMonthGridOverlay(volumeDeltaContainer, 'volumeDelta');\n  ensureVDZoneOverlay(chartContainer);\n  ensureVDFAnalysisPanel();\n  ensureSettingsUI(chartContainer, volumeDeltaRsiContainer, rsiContainer, volumeDeltaContainer);\n  syncTopPaneTickerLabel();\n\n  // Initialize charts if needed\n  if (!priceChart) {\n    const { chart, series, timelineSeries } = createPriceChart(chartContainer);\n    priceChart = chart;\n    candleSeries = series;\n    priceTimelineSeries = timelineSeries;\n    applyPriceGridOptions();\n  }\n  if (!volumeDeltaRsiChart) {\n    const { chart, rsiSeries, timelineSeries } = createVolumeDeltaRsiChart(volumeDeltaRsiContainer);\n    volumeDeltaRsiChart = chart;\n    volumeDeltaRsiSeries = rsiSeries;\n    volumeDeltaRsiTimelineSeries = timelineSeries;\n    applyVolumeDeltaRSIVisualSettings();\n  }\n  if (!volumeDeltaChart) {\n    const { chart, histogramSeries, timelineSeries } = createVolumeDeltaChart(volumeDeltaContainer);\n    volumeDeltaChart = chart;\n    volumeDeltaHistogramSeries = histogramSeries;\n    volumeDeltaTimelineSeries = timelineSeries;\n  }\n\n  applyPersistedPaneHeights(chartContainer, volumeDeltaRsiContainer, rsiContainer, volumeDeltaContainer);\n  ensureResizeObserver(chartContainer, volumeDeltaRsiContainer, rsiContainer, volumeDeltaContainer);\n  ensurePaneResizeHandles(chartContainer, volumeDeltaRsiContainer, rsiContainer, volumeDeltaContainer);\n  applyChartSizes(chartContainer, volumeDeltaRsiContainer, rsiContainer, volumeDeltaContainer);\n  applyPaneScaleVisibilityByPosition();\n\n  const cachedData = silent ? null : getCachedChartData(cacheKey);\n  const hasCachedData = Boolean(cachedData);\n  if (cachedData) {\n    const renderStartedAt = performance.now();\n    applyChartDataToUi(\n      cachedData,\n      chartContainer as HTMLElement,\n      volumeDeltaRsiContainer as HTMLElement,\n      rsiContainer as HTMLElement,\n      volumeDeltaContainer as HTMLElement\n    );\n    recordChartRenderPerf(interval, performance.now() - renderStartedAt);\n    if (shouldApplyWeeklyDefaultRange) {\n      applyWeeklyInitialVisibleRange();\n    }\n    prefetchRelatedIntervals(ticker, interval);\n  } else if (!silent) {\n    // Show loading indicators only on user-triggered renders.\n    showLoadingOverlay(chartContainer);\n    showLoadingOverlay(volumeDeltaRsiContainer);\n    showLoadingOverlay(rsiContainer);\n    showLoadingOverlay(volumeDeltaContainer);\n  }\n\n  // P0: Active chart load \u2014 abort any in-flight prefetches (P1/P3) and\n  // prior active fetches so all resources go to the new request.\n  abortPrefetches();\n  if (chartFetchAbortController) {\n    try {\n      chartFetchAbortController.abort();\n    } catch {\n      // Ignore abort errors from stale controllers.\n    }\n  }\n  const fetchController = new AbortController();\n  chartFetchAbortController = fetchController;\n  if (!silent) chartActivelyLoading = true;\n\n  try {\n    const fetchStartedAt = performance.now();\n    let responseCacheHeader: string | null = null;\n    // Fetch data from API\n    const data = await fetchChartData(ticker, interval, {\n      vdRsiLength: volumeDeltaRsiSettings.length,\n      vdSourceInterval: volumeDeltaSettings.sourceInterval,\n      vdRsiSourceInterval: volumeDeltaRsiSettings.sourceInterval,\n      signal: fetchController.signal,\n      onResponseMeta: (meta) => {\n        responseCacheHeader = meta.chartCacheHeader;\n      }\n    });\n    recordChartFetchPerf(interval, performance.now() - fetchStartedAt, responseCacheHeader);\n    if (requestId !== latestRenderRequestId) return;\n    const shouldApplyFreshData = !hasCachedData || getLastBarSignature(cachedData) !== getLastBarSignature(data);\n    if (shouldApplyFreshData) {\n      const renderStartedAt = performance.now();\n      applyChartDataToUi(\n        data,\n        chartContainer as HTMLElement,\n        volumeDeltaRsiContainer as HTMLElement,\n        rsiContainer as HTMLElement,\n        volumeDeltaContainer as HTMLElement\n      );\n      recordChartRenderPerf(interval, performance.now() - renderStartedAt);\n      if (shouldApplyWeeklyDefaultRange) {\n        applyWeeklyInitialVisibleRange();\n      }\n    }\n    setCachedChartData(cacheKey, data);\n    prefetchRelatedIntervals(ticker, interval);\n\n    if (!silent) {\n      // Hide loading indicators after successful load\n      hideLoadingOverlay(chartContainer);\n      hideLoadingOverlay(volumeDeltaRsiContainer);\n      hideLoadingOverlay(rsiContainer);\n      hideLoadingOverlay(volumeDeltaContainer);\n    }\n  } catch (err: any) {\n    if (requestId !== latestRenderRequestId) return;\n    if (err?.name === 'AbortError') return;\n\n    console.error('Failed to load chart:', err);\n    if (silent) {\n      return;\n    }\n    if (hasCachedData) {\n      return;\n    }\n    if (isNoDataTickerError(err)) {\n      // Hide loading indicators for no-data state.\n      hideLoadingOverlay(chartContainer);\n      hideLoadingOverlay(volumeDeltaRsiContainer);\n      hideLoadingOverlay(rsiContainer);\n      hideLoadingOverlay(volumeDeltaContainer);\n      if (candleSeries) {\n        candleSeries.setData([]);\n      }\n      priceChangeByTime = new Map();\n      setPricePaneChange(chartContainer, null);\n      if (rsiChart) {\n        rsiChart.setData([], []);\n      }\n      if (volumeDeltaRsiChart) {\n        volumeDeltaRsiSeries?.setData([]);\n      }\n      if (volumeDeltaChart) {\n        volumeDeltaHistogramSeries?.setData([]);\n      }\n      applyFutureTimelineSeriesData([]);\n      clearVolumeDeltaDivergence();\n      volumeDeltaRsiPoints = [];\n      volumeDeltaIndexByTime = new Map();\n      volumeDeltaRsiByTime = new Map();\n      volumeDeltaByTime = new Map();\n      clearVolumeDeltaDivergenceSummary();\n      currentBars = [];\n      barIndexByTime = new Map();\n      clearMovingAverageSeries();\n      monthBoundaryTimes = [];\n      clearMonthGridOverlay(priceMonthGridOverlayEl);\n      clearMonthGridOverlay(volumeDeltaRsiMonthGridOverlayEl);\n      clearMonthGridOverlay(volumeDeltaMonthGridOverlayEl);\n      clearMonthGridOverlay(rsiMonthGridOverlayEl);\n      renderVDZones(null);\n      renderVDFAnalysisPanel(null);\n      setPricePaneMessage(chartContainer, INVALID_SYMBOL_MESSAGE);\n      deactivateRsiDivergencePlotTool();\n      deactivateVolumeDeltaRsiDivergencePlotTool();\n      errorContainer.style.display = 'none';\n      errorContainer.textContent = '';\n      return;\n    }\n\n    priceChangeByTime = new Map();\n    setPricePaneChange(chartContainer, null);\n    clearVolumeDeltaDivergenceSummary();\n    deactivateRsiDivergencePlotTool();\n    deactivateVolumeDeltaRsiDivergencePlotTool();\n    errorContainer.style.display = 'none';\n    errorContainer.textContent = '';\n\n    const retryRender = () => {\n      showLoadingOverlay(chartContainer);\n      showLoadingOverlay(volumeDeltaRsiContainer);\n      showLoadingOverlay(rsiContainer);\n      showLoadingOverlay(volumeDeltaContainer);\n      renderCustomChart(ticker, interval);\n    };\n\n    showRetryOverlay(chartContainer, retryRender);\n    showRetryOverlay(volumeDeltaRsiContainer, retryRender);\n    showRetryOverlay(rsiContainer, retryRender);\n    showRetryOverlay(volumeDeltaContainer, retryRender);\n  } finally {\n    if (!silent) chartActivelyLoading = false;\n    if (chartFetchAbortController === fetchController) {\n      chartFetchAbortController = null;\n    }\n  }\n}\n\nfunction syncChartsToPriceRange(): void {\n  if (!priceChart) return;\n  const priceRange = priceChart.timeScale().getVisibleLogicalRange();\n  if (!priceRange) return;\n  try {\n    if (volumeDeltaRsiChart) {\n      volumeDeltaRsiChart.timeScale().setVisibleLogicalRange(priceRange);\n    }\n    if (rsiChart) {\n      rsiChart.getChart().timeScale().setVisibleLogicalRange(priceRange);\n    }\n    if (volumeDeltaChart) {\n      volumeDeltaChart.timeScale().setVisibleLogicalRange(priceRange);\n    }\n    scheduleChartLayoutRefresh();\n  } catch {\n    // Ignore transient range sync errors during live updates.\n  }\n}\n\nfunction applyRightMargin(): void {\n  if (!priceChart) return;\n  const rightOffset = RIGHT_MARGIN_BARS;\n  priceChart.timeScale().applyOptions({ rightOffset });\n  if (volumeDeltaRsiChart) {\n    volumeDeltaRsiChart.timeScale().applyOptions({ rightOffset });\n  }\n  if (rsiChart) {\n    rsiChart.getChart().timeScale().applyOptions({ rightOffset });\n  }\n  if (volumeDeltaChart) {\n    volumeDeltaChart.timeScale().applyOptions({ rightOffset });\n  }\n  scheduleChartLayoutRefresh();\n}\n\nfunction applyWeeklyInitialVisibleRange(): void {\n  if (!priceChart) return;\n  if (currentChartInterval !== '1week') return;\n  if (!Array.isArray(currentBars) || currentBars.length === 0) return;\n\n  const lastIndex = currentBars.length - 1;\n  // One-and-a-half-year weekly window (approx 78 bars).\n  const weeklyBarsToShow = Math.min(currentBars.length, 78);\n  const from = Math.max(0, lastIndex - weeklyBarsToShow + 1);\n  const to = lastIndex + RIGHT_MARGIN_BARS;\n\n  try {\n    priceChart.timeScale().setVisibleLogicalRange({ from, to });\n    syncChartsToPriceRange();\n    scheduleChartLayoutRefresh();\n  } catch {\n    // Ignore transient logical-range errors during render lifecycle.\n  }\n}\n\nfunction getNearestMappedValueAtOrBefore(time: string | number, valuesByTime: Map<string, number>): number | null {\n  const direct = Number(valuesByTime.get(timeKey(time)));\n  if (Number.isFinite(direct)) return direct;\n  if (!Array.isArray(currentBars) || currentBars.length === 0) return null;\n\n  const targetUnix = toUnixSeconds(time);\n  for (let i = currentBars.length - 1; i >= 0; i--) {\n    const bar = currentBars[i];\n    if (!bar) continue;\n    const barTime = bar.time;\n    if (targetUnix !== null) {\n      const barUnix = toUnixSeconds(barTime);\n      if (barUnix !== null && barUnix > targetUnix) continue;\n    }\n    const candidate = Number(valuesByTime.get(timeKey(barTime)));\n    if (Number.isFinite(candidate)) return candidate;\n  }\n  return null;\n}\n\n/** Toggle crosshair visibility on all four chart panes. */\nfunction toggleCrosshairVisibility() {\n  crosshairHidden = !crosshairHidden;\n  const lineOpts = { visible: !crosshairHidden };\n  const opts = { crosshair: { vertLine: lineOpts, horzLine: lineOpts } };\n  if (priceChart) priceChart.applyOptions(opts);\n  if (volumeDeltaRsiChart) volumeDeltaRsiChart.applyOptions(opts);\n  if (volumeDeltaChart) volumeDeltaChart.applyOptions(opts);\n  if (rsiChart) rsiChart.getChart()?.applyOptions(opts);\n  if (crosshairHidden) {\n    priceChart?.clearCrosshairPosition();\n    volumeDeltaRsiChart?.clearCrosshairPosition();\n    volumeDeltaChart?.clearCrosshairPosition();\n    rsiChart?.getChart()?.clearCrosshairPosition();\n  }\n}\n\n// Setup sync between price, Volume Delta RSI, RSI, and Volume Delta charts.\nfunction setupChartSync() {\n  if (isChartSyncBound) return;\n  if (!priceChart || !volumeDeltaRsiChart || !rsiChart || !volumeDeltaChart) return;\n  if (!candleSeries || !volumeDeltaRsiSeries || !volumeDeltaHistogramSeries) return;\n\n  isChartSyncBound = true;\n  const volumeDeltaRsiChartInstance = volumeDeltaRsiChart;\n  const rsiChartInstance = rsiChart.getChart();\n  const volumeDeltaChartInstance = volumeDeltaChart;\n\n  let syncLock: 'price' | 'volumeDeltaRsi' | 'rsi' | 'volumeDelta' | null = null;\n  const unlockAfterFrame = (owner: 'price' | 'volumeDeltaRsi' | 'rsi' | 'volumeDelta') => {\n    requestAnimationFrame(() => {\n      if (syncLock === owner) syncLock = null;\n    });\n  };\n\n  const syncRangeFromOwner = (\n    owner: 'price' | 'volumeDeltaRsi' | 'rsi' | 'volumeDelta',\n    timeRange: any\n  ) => {\n    if (!timeRange) return;\n    const targets: Array<{ owner: 'price' | 'volumeDeltaRsi' | 'rsi' | 'volumeDelta'; chart: any }> = [\n      { owner: 'price', chart: priceChart },\n      { owner: 'volumeDeltaRsi', chart: volumeDeltaRsiChartInstance },\n      { owner: 'rsi', chart: rsiChartInstance },\n      { owner: 'volumeDelta', chart: volumeDeltaChartInstance }\n    ];\n    for (const target of targets) {\n      if (target.owner === owner) continue;\n      const currentRange = target.chart.timeScale().getVisibleLogicalRange();\n      if (!sameLogicalRange(currentRange, timeRange)) {\n        target.chart.timeScale().setVisibleLogicalRange(timeRange);\n      }\n    }\n    scheduleChartLayoutRefresh();\n  };\n\n  priceChart.timeScale().subscribeVisibleLogicalRangeChange((timeRange: any) => {\n    if (!timeRange || syncLock === 'volumeDeltaRsi' || syncLock === 'rsi' || syncLock === 'volumeDelta') return;\n    syncLock = 'price';\n    try {\n      syncRangeFromOwner('price', timeRange);\n    } finally {\n      unlockAfterFrame('price');\n    }\n  });\n\n  volumeDeltaRsiChartInstance.timeScale().subscribeVisibleLogicalRangeChange((timeRange: any) => {\n    if (volumeDeltaSuppressSync) return;\n    if (!timeRange || syncLock === 'price' || syncLock === 'rsi' || syncLock === 'volumeDelta') return;\n    syncLock = 'volumeDeltaRsi';\n    try {\n      syncRangeFromOwner('volumeDeltaRsi', timeRange);\n    } finally {\n      unlockAfterFrame('volumeDeltaRsi');\n    }\n  });\n\n  rsiChartInstance.timeScale().subscribeVisibleLogicalRangeChange((timeRange: any) => {\n    if (rsiChart?.isSyncSuppressed?.()) return;\n    if (!timeRange || syncLock === 'price' || syncLock === 'volumeDeltaRsi' || syncLock === 'volumeDelta') return;\n    syncLock = 'rsi';\n    try {\n      syncRangeFromOwner('rsi', timeRange);\n    } finally {\n      unlockAfterFrame('rsi');\n    }\n  });\n\n  volumeDeltaChartInstance.timeScale().subscribeVisibleLogicalRangeChange((timeRange: any) => {\n    if (!timeRange || syncLock === 'price' || syncLock === 'volumeDeltaRsi' || syncLock === 'rsi') return;\n    syncLock = 'volumeDelta';\n    try {\n      syncRangeFromOwner('volumeDelta', timeRange);\n    } finally {\n      unlockAfterFrame('volumeDelta');\n    }\n  });\n\n  const setCrosshairOnPrice = (time: string | number) => {\n    const mappedPrice = getNearestMappedValueAtOrBefore(time, priceByTime);\n    if (Number.isFinite(mappedPrice) && candleSeries) {\n      try {\n        priceChart.setCrosshairPosition(Number(mappedPrice), time, candleSeries);\n      } catch {\n        priceChart.clearCrosshairPosition();\n      }\n    } else {\n      priceChart.clearCrosshairPosition();\n    }\n  };\n\n  const setCrosshairOnVolumeDeltaRsi = (time: string | number) => {\n    const mappedVdRsi = getNearestMappedValueAtOrBefore(time, volumeDeltaRsiByTime);\n    if (Number.isFinite(mappedVdRsi)) {\n      try {\n        volumeDeltaRsiChartInstance.setCrosshairPosition(Number(mappedVdRsi), time, volumeDeltaRsiSeries);\n      } catch {\n        volumeDeltaRsiChartInstance.clearCrosshairPosition();\n      }\n    } else {\n      volumeDeltaRsiChartInstance.clearCrosshairPosition();\n    }\n  };\n\n  const setCrosshairOnRsi = (time: string | number) => {\n    const mappedRsi = getNearestMappedValueAtOrBefore(time, rsiByTime);\n    const rsiSeries = rsiChart?.getSeries();\n    if (Number.isFinite(mappedRsi) && rsiSeries) {\n      try {\n        rsiChartInstance.setCrosshairPosition(Number(mappedRsi), time, rsiSeries);\n      } catch {\n        rsiChartInstance.clearCrosshairPosition();\n      }\n    } else {\n      rsiChartInstance.clearCrosshairPosition();\n    }\n  };\n\n  const setCrosshairOnVolumeDelta = (time: string | number) => {\n    const mappedVd = getNearestMappedValueAtOrBefore(time, volumeDeltaByTime);\n    if (Number.isFinite(mappedVd)) {\n      try {\n        volumeDeltaChartInstance.setCrosshairPosition(Number(mappedVd), time, volumeDeltaHistogramSeries);\n      } catch {\n        volumeDeltaChartInstance.clearCrosshairPosition();\n      }\n    } else {\n      volumeDeltaChartInstance.clearCrosshairPosition();\n    }\n  };\n\n  priceChart.subscribeCrosshairMove((param: any) => {\n    if (!param || !param.time) {\n      volumeDeltaRsiChartInstance.clearCrosshairPosition();\n      rsiChartInstance.clearCrosshairPosition();\n      volumeDeltaChartInstance.clearCrosshairPosition();\n      if (pricePaneContainerEl) setPricePaneChange(pricePaneContainerEl, null);\n      return;\n    }\n    if (crosshairHidden) return;\n    if (pricePaneContainerEl) setPricePaneChange(pricePaneContainerEl, param.time);\n    setCrosshairOnVolumeDeltaRsi(param.time);\n    setCrosshairOnRsi(param.time);\n    setCrosshairOnVolumeDelta(param.time);\n  });\n\n  volumeDeltaRsiChartInstance.subscribeCrosshairMove((param: any) => {\n    if (!param || !param.time) {\n      priceChart.clearCrosshairPosition();\n      rsiChartInstance.clearCrosshairPosition();\n      volumeDeltaChartInstance.clearCrosshairPosition();\n      if (pricePaneContainerEl) setPricePaneChange(pricePaneContainerEl, null);\n      return;\n    }\n    if (crosshairHidden) return;\n    if (volumeDeltaRsiDivergencePlotToolActive) {\n      updateVolumeDeltaRsiDivergencePlotPoint(param.time, true);\n    }\n    if (pricePaneContainerEl) setPricePaneChange(pricePaneContainerEl, param.time);\n    setCrosshairOnPrice(param.time);\n    setCrosshairOnRsi(param.time);\n    setCrosshairOnVolumeDelta(param.time);\n  });\n\n  rsiChartInstance.subscribeCrosshairMove((param: any) => {\n    if (!param || !param.time) {\n      priceChart.clearCrosshairPosition();\n      volumeDeltaRsiChartInstance.clearCrosshairPosition();\n      volumeDeltaChartInstance.clearCrosshairPosition();\n      if (pricePaneContainerEl) setPricePaneChange(pricePaneContainerEl, null);\n      return;\n    }\n    if (crosshairHidden) return;\n    if (rsiDivergencePlotToolActive) {\n      updateRsiDivergencePlotPoint(param.time, true);\n    }\n    if (pricePaneContainerEl) setPricePaneChange(pricePaneContainerEl, param.time);\n    setCrosshairOnPrice(param.time);\n    setCrosshairOnVolumeDeltaRsi(param.time);\n    setCrosshairOnVolumeDelta(param.time);\n  });\n\n  volumeDeltaChartInstance.subscribeCrosshairMove((param: any) => {\n    if (!param || !param.time) {\n      priceChart.clearCrosshairPosition();\n      volumeDeltaRsiChartInstance.clearCrosshairPosition();\n      rsiChartInstance.clearCrosshairPosition();\n      if (pricePaneContainerEl) setPricePaneChange(pricePaneContainerEl, null);\n      return;\n    }\n    if (crosshairHidden) return;\n    if (pricePaneContainerEl) setPricePaneChange(pricePaneContainerEl, param.time);\n    setCrosshairOnPrice(param.time);\n    setCrosshairOnVolumeDeltaRsi(param.time);\n    setCrosshairOnRsi(param.time);\n  });\n\n  rsiChartInstance.subscribeClick((param: any) => {\n    if (!param || !param.time) return;\n    if (!rsiDivergencePlotToolActive) return;\n    updateRsiDivergencePlotPoint(param.time, false);\n  });\n\n  // Double-tap on chart area toggles crosshair visibility (touch only).\n  // subscribeClick fires only for the chart area, not axes.\n  if (isMobileTouch) {\n    let lastTapTime = 0;\n    const handleDoubleTap = () => {\n      const now = Date.now();\n      if (now - lastTapTime < 300) {\n        toggleCrosshairVisibility();\n        lastTapTime = 0;\n      } else {\n        lastTapTime = now;\n      }\n    };\n    priceChart.subscribeClick(handleDoubleTap);\n    volumeDeltaRsiChartInstance.subscribeClick(handleDoubleTap);\n    rsiChartInstance.subscribeClick(handleDoubleTap);\n    volumeDeltaChartInstance.subscribeClick(handleDoubleTap);\n  }\n}\n\n// Export for main.ts usage\nexport function initChartControls() {\n  const controls = document.getElementById('chart-controls');\n  if (!controls) return;\n  ensureChartLiveRefreshTimer();\n\n  // Interval buttons\n  controls.querySelectorAll('button[data-interval]').forEach(btn => {\n    btn.addEventListener('click', (e) => {\n      const target = e.currentTarget as HTMLElement;\n      const interval = target.getAttribute('data-interval') as ChartInterval;\n      if (!interval) return;\n\n      // Update active state\n      controls.querySelectorAll('button[data-interval]').forEach(b => b.classList.remove('active'));\n      target.classList.add('active');\n\n      if (currentChartTicker) {\n        scheduleIntervalChartRender(interval);\n      }\n    });\n  });\n\n  // RSI Display Mode\n  controls.querySelectorAll('button[data-mode]').forEach(btn => {\n    btn.addEventListener('click', (e) => {\n      const target = e.currentTarget as HTMLElement;\n      const mode = target.getAttribute('data-mode') as any;\n      if (!mode) return;\n\n      controls.querySelectorAll('button[data-mode]').forEach(b => b.classList.remove('active'));\n      target.classList.add('active');\n\n      if (rsiChart) {\n        rsiChart.setDisplayMode(mode);\n      }\n    });\n  });\n\n  // Fullscreen toggle\n  initChartFullscreen();\n}\n\nconst FULLSCREEN_ENTER_SVG = `<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n  <polyline points=\"5.5 1 1 1 1 5.5\"/>\n  <polyline points=\"10.5 1 15 1 15 5.5\"/>\n  <polyline points=\"10.5 15 15 15 15 10.5\"/>\n  <polyline points=\"5.5 15 1 15 1 10.5\"/>\n</svg>`;\n\nconst FULLSCREEN_EXIT_SVG = `<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"1.5\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n  <polyline points=\"1 5.5 5.5 5.5 5.5 1\"/>\n  <polyline points=\"15 5.5 10.5 5.5 10.5 1\"/>\n  <polyline points=\"15 10.5 10.5 10.5 10.5 15\"/>\n  <polyline points=\"1 10.5 5.5 10.5 5.5 15\"/>\n</svg>`;\n\nimport { getTickerListContext, getTickerOriginView } from './main';\n\nfunction initChartFullscreen(): void {\n  const btn = document.getElementById('chart-fullscreen-btn');\n  const container = document.getElementById('custom-chart-container');\n  const navPrevBtn = document.getElementById('chart-nav-prev');\n  const navNextBtn = document.getElementById('chart-nav-next');\n  \n  if (!btn || !container) return;\n\n  // Initialize Navigation Buttons\n  if (navPrevBtn) {\n      navPrevBtn.addEventListener('click', () => navigateChart(-1));\n  }\n  if (navNextBtn) {\n      navNextBtn.addEventListener('click', () => navigateChart(1));\n  }\n  \n  initPaneAxisNavigation();\n\n  const updateIcon = (): void => {\n    const isActive = container.classList.contains('chart-fullscreen');\n    btn.innerHTML = isActive ? FULLSCREEN_EXIT_SVG : FULLSCREEN_ENTER_SVG;\n    btn.title = isActive ? 'Exit fullscreen (Space)' : 'Fullscreen (Space)';\n    // Re-apply scale visibility \u2014 shouldShowPaneScale already accounts\n    // for fullscreen state, so this handles both enter and exit.\n    applyPaneScaleVisibilityByPosition();\n  };\n\n  const toggleFullscreen = () => {\n    container.classList.toggle('chart-fullscreen');\n    updateIcon();\n  };\n\n  btn.addEventListener('click', toggleFullscreen);\n\n  document.addEventListener('keydown', (e) => {\n    // Only handle if chart is visible\n    const tickerView = document.getElementById('ticker-view');\n    if (!tickerView || tickerView.classList.contains('hidden')) return;\n\n    if (e.key === 'Escape' && container.classList.contains('chart-fullscreen')) {\n      container.classList.remove('chart-fullscreen');\n      updateIcon();\n    }\n    \n    // Spacebar to toggle fullscreen\n    if (e.code === 'Space' && document.activeElement?.tagName !== 'INPUT') {\n        e.preventDefault(); // Prevent scrolling\n        toggleFullscreen();\n    }\n\n    // Arrow keys for navigation\n    if (e.key === 'ArrowLeft') {\n        navigateChart(-1);\n    } else if (e.key === 'ArrowRight') {\n        navigateChart(1);\n    }\n  });\n}\n\nfunction navigateChart(direction: -1 | 1): void {\n    const context = getTickerListContext();\n    const origin = getTickerOriginView();\n    const currentTicker = document.getElementById('ticker-view')?.dataset.ticker;\n\n    if (!context || !currentTicker) return;\n\n    let containerId = '';\n    if (origin === 'divergence') {\n        containerId = context === 'daily' ? 'divergence-daily-container' : 'divergence-weekly-container';\n    } else {\n        containerId = context === 'daily' ? 'daily-container' : 'weekly-container';\n    }\n\n    const container = document.getElementById(containerId);\n    if (!container) return;\n\n    const cards = Array.from(container.querySelectorAll('.alert-card')) as HTMLElement[];\n    const currentIndex = cards.findIndex(c => c.dataset.ticker === currentTicker);\n\n    if (currentIndex === -1) return;\n\n    const nextIndex = currentIndex + direction;\n    if (nextIndex >= 0 && nextIndex < cards.length) {\n        const nextCard = cards[nextIndex];\n        const nextTicker = nextCard.dataset.ticker;\n        if (nextTicker && window.showTickerView) {\n            // Keep the same context\n            window.showTickerView(nextTicker, origin, context);\n        }\n    }\n}\n\nfunction initPaneAxisNavigation(): void {\n    const container = document.getElementById('custom-chart-container');\n    if (!container) return;\n\n    container.addEventListener('dblclick', (e) => {\n        // e.target might be the canvas or a wrapper\n        const rect = container.getBoundingClientRect();\n        const x = e.clientX - rect.left;\n\n        // Check if click is on the right side (Y-axis area)\n        // Assume Y-axis width is roughly 60px\n        const isRightSide = x > rect.width - 60;\n        if (!isRightSide) return;\n\n        // Determine which pane was clicked\n        // We need to find the DOM elements for the panes in current order\n        const currentOrder = normalizePaneOrder(paneOrder);\n        const pane3Id = currentOrder[2]; // 3rd pane\n        const pane4Id = currentOrder[3]; // 4th pane\n\n        const getPaneRect = (id: string) => {\n            const el = document.getElementById(id);\n            if (!el || el.style.display === 'none') return null;\n            // The pane element itself might be relative to chart content\n            return el.getBoundingClientRect();\n        };\n\n        // Check 3rd Pane -> Next (Right)\n        const pane3Rect = getPaneRect(pane3Id);\n        if (pane3Rect && e.clientY >= pane3Rect.top && e.clientY <= pane3Rect.bottom) {\n             navigateChart(1);\n             return;\n        }\n\n        // Check 4th Pane -> Prev (Left)\n        const pane4Rect = getPaneRect(pane4Id);\n        if (pane4Rect && e.clientY >= pane4Rect.top && e.clientY <= pane4Rect.bottom) {\n             navigateChart(-1);\n             return;\n        }\n    });\n}\n\nfunction getNeighborTicker(direction: -1 | 1): string | null {\n    const context = getTickerListContext();\n    const origin = getTickerOriginView();\n    const currentTicker = document.getElementById('ticker-view')?.dataset.ticker;\n\n    if (!context || !currentTicker) return null;\n\n    let containerId = '';\n    if (origin === 'divergence') {\n        containerId = context === 'daily' ? 'divergence-daily-container' : 'divergence-weekly-container';\n    } else {\n        containerId = context === 'daily' ? 'daily-container' : 'weekly-container';\n    }\n\n    const container = document.getElementById(containerId);\n    if (!container) return null;\n\n    const cards = Array.from(container.querySelectorAll('.alert-card')) as HTMLElement[];\n    const currentIndex = cards.findIndex(c => c.dataset.ticker === currentTicker);\n\n    if (currentIndex === -1) return null;\n\n    const nextIndex = currentIndex + direction;\n    if (nextIndex >= 0 && nextIndex < cards.length) {\n        return cards[nextIndex].dataset.ticker || null;\n    }\n    return null;\n}\n\nasync function prefetchNeighborTickers(interval: ChartInterval, signal?: AbortSignal): Promise<void> {\n    const nextTicker = getNeighborTicker(1);\n    const prevTicker = getNeighborTicker(-1);\n\n    const fetchForTicker = async (ticker: string) => {\n        if (signal?.aborted) return;\n        const cacheKey = buildChartDataCacheKey(ticker, interval);\n        if (getCachedChartData(cacheKey)) return;\n        if (chartPrefetchInFlight.has(cacheKey)) return;\n\n        const promise = fetchChartData(ticker, interval, {\n            vdRsiLength: volumeDeltaRsiSettings.length,\n            vdSourceInterval: volumeDeltaSettings.sourceInterval,\n            vdRsiSourceInterval: volumeDeltaRsiSettings.sourceInterval,\n            signal\n        })\n        .then(data => setCachedChartData(cacheKey, data))\n        .catch(() => {})\n        .finally(() => chartPrefetchInFlight.delete(cacheKey));\n\n        chartPrefetchInFlight.set(cacheKey, promise);\n        return promise;\n    };\n\n    if (nextTicker) await fetchForTicker(nextTicker);\n    if (prevTicker) await fetchForTicker(prevTicker);\n}\n\nexport function refreshActiveTickerDivergenceSummary(options?: { noCache?: boolean }): void {\n  if (!volumeDeltaPaneContainerEl) return;\n  if (!Array.isArray(currentBars) || currentBars.length < 2) return;\n  renderVolumeDeltaDivergenceSummary(volumeDeltaPaneContainerEl, currentBars, options);\n}\n", "import { Alert } from './types';\nimport { getPreferredDivergenceSourceInterval } from './divergenceTable';\n\nfunction toFavoriteBoolean(value: unknown): boolean {\n    if (typeof value === 'boolean') return value;\n    if (typeof value === 'string') return value.toLowerCase() === 'true';\n    if (typeof value === 'number') return value === 1;\n    return false;\n}\n\nfunction normalizeAlert(raw: unknown): Alert {\n    const item = raw as Partial<Alert> & { id?: unknown; is_favorite?: unknown };\n    const id = Number(item.id);\n\n    if (!Number.isFinite(id)) {\n        throw new Error('Invalid divergence payload: missing/invalid id');\n    }\n\n    return {\n        ...item,\n        id,\n        is_favorite: toFavoriteBoolean(item.is_favorite),\n        source: 'DataAPI',\n    } as Alert;\n}\n\nexport async function fetchDivergenceSignalsFromApi(params: string = ''): Promise<Alert[]> {\n    try {\n        const query = new URLSearchParams(String(params || '').replace(/^\\?/, ''));\n        query.set('vd_source_interval', getPreferredDivergenceSourceInterval());\n        const response = await fetch(`/api/divergence/signals?${query.toString()}`);\n        if (!response.ok) throw new Error('Network response was not ok');\n        const payload = await response.json();\n        if (!Array.isArray(payload)) {\n            throw new Error('Invalid divergence payload: expected array');\n        }\n        return payload.map(normalizeAlert);\n    } catch (error) {\n        console.error('Error fetching divergence signals:', error);\n        throw error;\n    }\n}\n\nexport async function toggleDivergenceFavorite(id: number): Promise<Alert> {\n    const response = await fetch(`/api/divergence/signals/${id}/favorite`, {\n        method: 'POST'\n    });\n    if (!response.ok) {\n        throw new Error('Network response was not ok');\n    }\n    return normalizeAlert(await response.json());\n}\n\nexport interface DivergenceScanStatus {\n    running: boolean;\n    lastScanDateEt: string | null;\n    scanControl?: {\n        running?: boolean;\n        pause_requested?: boolean;\n        stop_requested?: boolean;\n        can_resume?: boolean;\n    } | null;\n    tableBuild?: {\n        running?: boolean;\n        pause_requested?: boolean;\n        stop_requested?: boolean;\n        can_resume?: boolean;\n        status?: string;\n        total_tickers?: number;\n        processed_tickers?: number;\n        error_tickers?: number;\n        started_at?: string | null;\n        finished_at?: string | null;\n        last_published_trade_date?: string | null;\n    } | null;\n    fetchDailyData?: {\n        running?: boolean;\n        stop_requested?: boolean;\n        can_resume?: boolean;\n        status?: string;\n        total_tickers?: number;\n        processed_tickers?: number;\n        error_tickers?: number;\n        started_at?: string | null;\n        finished_at?: string | null;\n        last_published_trade_date?: string | null;\n    } | null;\n    fetchWeeklyData?: {\n        running?: boolean;\n        stop_requested?: boolean;\n        can_resume?: boolean;\n        status?: string;\n        total_tickers?: number;\n        processed_tickers?: number;\n        error_tickers?: number;\n        started_at?: string | null;\n        finished_at?: string | null;\n        last_published_trade_date?: string | null;\n    } | null;\n    vdfScan?: {\n        running?: boolean;\n        stop_requested?: boolean;\n        status?: string;\n        total_tickers?: number;\n        processed_tickers?: number;\n        error_tickers?: number;\n        detected_tickers?: number;\n        started_at?: string | null;\n        finished_at?: string | null;\n    } | null;\n    latestJob: {\n        run_for_date?: string;\n        scanned_trade_date?: string;\n        status?: string;\n        started_at?: string;\n        finished_at?: string;\n        processed_symbols?: number;\n        total_symbols?: number;\n        bullish_count?: number;\n        bearish_count?: number;\n        error_count?: number;\n    } | null;\n}\n\nexport async function startDivergenceScan(options?: { force?: boolean; refreshUniverse?: boolean; runDateEt?: string }): Promise<{ status: string }> {\n    const response = await fetch('/api/divergence/scan', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n            force: options?.force ?? true,\n            refreshUniverse: options?.refreshUniverse ?? true,\n            runDateEt: options?.runDateEt\n        })\n    });\n    const payload = await response.json().catch(() => ({} as { status?: string; error?: string }));\n    if (!response.ok) {\n        if (response.status === 409 && String(payload?.status || '') === 'running') {\n            return { status: 'running' };\n        }\n        const reason = typeof payload?.error === 'string' && payload.error.trim()\n            ? payload.error.trim()\n            : `Failed to start divergence scan (HTTP ${response.status})`;\n        throw new Error(reason);\n    }\n    return { status: String(payload?.status || 'started') };\n}\n\nexport async function pauseDivergenceScan(): Promise<{ status: string }> {\n    const response = await fetch('/api/divergence/scan/pause', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    });\n    const payload = await response.json().catch(() => ({} as { status?: string; error?: string }));\n    if (!response.ok) {\n        if (response.status === 409 && typeof payload?.status === 'string') {\n            return { status: payload.status };\n        }\n        const reason = typeof payload?.error === 'string' && payload.error.trim()\n            ? payload.error.trim()\n            : `Failed to pause divergence scan (HTTP ${response.status})`;\n        throw new Error(reason);\n    }\n    return { status: String(payload?.status || 'pause-requested') };\n}\n\nexport async function resumeDivergenceScan(): Promise<{ status: string }> {\n    const response = await fetch('/api/divergence/scan/resume', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    });\n    const payload = await response.json().catch(() => ({} as { status?: string; error?: string }));\n    if (!response.ok) {\n        if (response.status === 409 && typeof payload?.status === 'string') {\n            return { status: payload.status };\n        }\n        const reason = typeof payload?.error === 'string' && payload.error.trim()\n            ? payload.error.trim()\n            : `Failed to resume divergence scan (HTTP ${response.status})`;\n        throw new Error(reason);\n    }\n    return { status: String(payload?.status || 'started') };\n}\n\nexport async function stopDivergenceScan(): Promise<{ status: string }> {\n    const response = await fetch('/api/divergence/scan/stop', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    });\n    const payload = await response.json().catch(() => ({} as { status?: string; error?: string }));\n    if (!response.ok) {\n        if (response.status === 409 && typeof payload?.status === 'string') {\n            return { status: payload.status };\n        }\n        const reason = typeof payload?.error === 'string' && payload.error.trim()\n            ? payload.error.trim()\n            : `Failed to stop divergence scan (HTTP ${response.status})`;\n        throw new Error(reason);\n    }\n    return { status: String(payload?.status || 'stop-requested') };\n}\n\nexport async function startDivergenceTableBuild(): Promise<{ status: string }> {\n    const response = await fetch('/api/divergence/table/run', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n            force: true\n        })\n    });\n    const payload = await response.json().catch(() => ({} as { status?: string; error?: string }));\n    if (!response.ok) {\n        if (response.status === 409 && String(payload?.status || '') === 'running') {\n            return { status: 'running' };\n        }\n        const reason = typeof payload?.error === 'string' && payload.error.trim()\n            ? payload.error.trim()\n            : `Failed to start table build (HTTP ${response.status})`;\n        throw new Error(reason);\n    }\n    return { status: String(payload?.status || 'started') };\n}\n\nexport async function pauseDivergenceTableBuild(): Promise<{ status: string }> {\n    const response = await fetch('/api/divergence/table/pause', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    });\n    const payload = await response.json().catch(() => ({} as { status?: string; error?: string }));\n    if (!response.ok) {\n        if (response.status === 409 && typeof payload?.status === 'string') {\n            return { status: payload.status };\n        }\n        const reason = typeof payload?.error === 'string' && payload.error.trim()\n            ? payload.error.trim()\n            : `Failed to pause table build (HTTP ${response.status})`;\n        throw new Error(reason);\n    }\n    return { status: String(payload?.status || 'pause-requested') };\n}\n\nexport async function resumeDivergenceTableBuild(): Promise<{ status: string }> {\n    const response = await fetch('/api/divergence/table/resume', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    });\n    const payload = await response.json().catch(() => ({} as { status?: string; error?: string }));\n    if (!response.ok) {\n        if (response.status === 409 && typeof payload?.status === 'string') {\n            return { status: payload.status };\n        }\n        const reason = typeof payload?.error === 'string' && payload.error.trim()\n            ? payload.error.trim()\n            : `Failed to resume table build (HTTP ${response.status})`;\n        throw new Error(reason);\n    }\n    return { status: String(payload?.status || 'started') };\n}\n\nexport async function stopDivergenceTableBuild(): Promise<{ status: string }> {\n    const response = await fetch('/api/divergence/table/stop', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    });\n    const payload = await response.json().catch(() => ({} as { status?: string; error?: string }));\n    if (!response.ok) {\n        if (response.status === 409 && typeof payload?.status === 'string') {\n            return { status: payload.status };\n        }\n        const reason = typeof payload?.error === 'string' && payload.error.trim()\n            ? payload.error.trim()\n            : `Failed to stop table build (HTTP ${response.status})`;\n        throw new Error(reason);\n    }\n    return { status: String(payload?.status || 'stop-requested') };\n}\n\nexport async function startDivergenceFetchDailyData(): Promise<{ status: string }> {\n    const response = await fetch('/api/divergence/fetch-daily/run', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    });\n    const payload = await response.json().catch(() => ({} as { status?: string; error?: string }));\n    if (!response.ok) {\n        if (response.status === 409 && String(payload?.status || '') === 'running') {\n            return { status: 'running' };\n        }\n        const reason = typeof payload?.error === 'string' && payload.error.trim()\n            ? payload.error.trim()\n            : `Failed to start fetch-daily run (HTTP ${response.status})`;\n        throw new Error(reason);\n    }\n    return { status: String(payload?.status || 'started') };\n}\n\nexport async function stopDivergenceFetchDailyData(): Promise<{ status: string }> {\n    const response = await fetch('/api/divergence/fetch-daily/stop', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    });\n    const payload = await response.json().catch(() => ({} as { status?: string; error?: string }));\n    if (!response.ok) {\n        if (response.status === 409 && typeof payload?.status === 'string') {\n            return { status: payload.status };\n        }\n        const reason = typeof payload?.error === 'string' && payload.error.trim()\n            ? payload.error.trim()\n            : `Failed to stop fetch-daily run (HTTP ${response.status})`;\n        throw new Error(reason);\n    }\n    return { status: String(payload?.status || 'stop-requested') };\n}\n\nexport async function startDivergenceFetchWeeklyData(): Promise<{ status: string }> {\n    const response = await fetch('/api/divergence/fetch-weekly/run', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    });\n    const payload = await response.json().catch(() => ({} as { status?: string; error?: string }));\n    if (!response.ok) {\n        if (response.status === 409 && String(payload?.status || '') === 'running') {\n            return { status: 'running' };\n        }\n        const reason = typeof payload?.error === 'string' && payload.error.trim()\n            ? payload.error.trim()\n            : `Failed to start fetch-weekly run (HTTP ${response.status})`;\n        throw new Error(reason);\n    }\n    return { status: String(payload?.status || 'started') };\n}\n\nexport async function stopDivergenceFetchWeeklyData(): Promise<{ status: string }> {\n    const response = await fetch('/api/divergence/fetch-weekly/stop', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    });\n    const payload = await response.json().catch(() => ({} as { status?: string; error?: string }));\n    if (!response.ok) {\n        if (response.status === 409 && typeof payload?.status === 'string') {\n            return { status: payload.status };\n        }\n        const reason = typeof payload?.error === 'string' && payload.error.trim()\n            ? payload.error.trim()\n            : `Failed to stop fetch-weekly run (HTTP ${response.status})`;\n        throw new Error(reason);\n    }\n    return { status: String(payload?.status || 'stop-requested') };\n}\n\nexport async function startVDFScan(): Promise<{ status: string }> {\n    const response = await fetch('/api/divergence/vdf-scan/run', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    });\n    const payload = await response.json().catch(() => ({} as { status?: string; error?: string }));\n    if (!response.ok) {\n        if (response.status === 409 && String(payload?.status || '') === 'running') {\n            return { status: 'running' };\n        }\n        const reason = typeof payload?.error === 'string' && payload.error.trim()\n            ? payload.error.trim()\n            : `Failed to start VDF scan (HTTP ${response.status})`;\n        throw new Error(reason);\n    }\n    return { status: String(payload?.status || 'started') };\n}\n\nexport async function stopVDFScan(): Promise<{ status: string }> {\n    const response = await fetch('/api/divergence/vdf-scan/stop', {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    });\n    const payload = await response.json().catch(() => ({} as { status?: string; error?: string }));\n    if (!response.ok) {\n        if (response.status === 409 && typeof payload?.status === 'string') {\n            return { status: payload.status };\n        }\n        const reason = typeof payload?.error === 'string' && payload.error.trim()\n            ? payload.error.trim()\n            : `Failed to stop VDF scan (HTTP ${response.status})`;\n        throw new Error(reason);\n    }\n    return { status: String(payload?.status || 'stop-requested') };\n}\n\nexport async function fetchDivergenceScanStatus(): Promise<DivergenceScanStatus> {\n    const response = await fetch('/api/divergence/scan/status');\n    const payload = await response.json().catch(() => null as any);\n    if (!response.ok || !payload) {\n        const reason = typeof payload?.error === 'string' && payload.error.trim()\n            ? payload.error.trim()\n            : 'Failed to fetch divergence scan status';\n        throw new Error(reason);\n    }\n    return {\n        running: Boolean((payload as any).running),\n        lastScanDateEt: (payload as any).lastScanDateEt ?? null,\n        scanControl: (payload as any).scanControl ?? null,\n        tableBuild: (payload as any).tableBuild ?? null,\n        fetchDailyData: (payload as any).fetchDailyData ?? null,\n        fetchWeeklyData: (payload as any).fetchWeeklyData ?? null,\n        vdfScan: (payload as any).vdfScan ?? null,\n        latestJob: (payload as any).latestJob ?? null\n    };\n}\n", "import { getDateRangeForMode, createAlertSortFn, updateSortButtonUi } from './utils';\nimport {\n    fetchDivergenceSignalsFromApi,\n    toggleDivergenceFavorite,\n    startDivergenceScan,\n    pauseDivergenceScan,\n    resumeDivergenceScan,\n    stopDivergenceScan,\n    startDivergenceTableBuild,\n    pauseDivergenceTableBuild,\n    resumeDivergenceTableBuild,\n    stopDivergenceTableBuild,\n    startDivergenceFetchDailyData,\n    stopDivergenceFetchDailyData,\n    startDivergenceFetchWeeklyData,\n    stopDivergenceFetchWeeklyData,\n    startVDFScan,\n    stopVDFScan,\n    fetchDivergenceScanStatus,\n    DivergenceScanStatus\n} from './divergenceApi';\nimport { setDivergenceSignals, setDivergenceSignalsByTimeframe, getDivergenceSignals } from './divergenceState';\nimport { createAlertCard } from './components';\nimport { hydrateAlertCardDivergenceTables, primeDivergenceSummaryCacheFromAlerts, renderAlertCardDivergenceTablesFromCache } from './divergenceTable';\nimport { refreshActiveTickerDivergenceSummary, isChartActivelyLoading } from './chart';\nimport { SortMode, Alert } from './types';\nimport { createChart } from 'lightweight-charts';\n\nexport type ColumnFeedMode = '1' | '2' | '5' | 'custom';\n\nlet dailyFeedMode: ColumnFeedMode = '1';\nlet weeklyFeedMode: ColumnFeedMode = '1';\nlet dailyCustomFrom = '';\nlet dailyCustomTo = '';\nlet weeklyCustomFrom = '';\nlet weeklyCustomTo = '';\nlet dailySortMode: SortMode = 'score';\nlet weeklySortMode: SortMode = 'score';\nlet dailySortDirection: 'asc' | 'desc' = 'desc';\nlet weeklySortDirection: 'asc' | 'desc' = 'desc';\nconst ALERTS_PAGE_SIZE = 100;\nlet dailyVisibleCount = ALERTS_PAGE_SIZE;\nlet weeklyVisibleCount = ALERTS_PAGE_SIZE;\nlet divergenceScanPollTimer: number | null = null;\nlet divergenceScanPollInFlight = false;\nlet divergenceScanPollConsecutiveErrors = 0;\nconst DIVERGENCE_POLL_ERROR_THRESHOLD = 3;\nlet divergenceFetchDailyLastProcessedTickers = -1;\nlet divergenceFetchWeeklyLastProcessedTickers = -1;\nlet divergenceTableLastUiRefreshAtMs = 0;\nconst DIVERGENCE_TABLE_UI_REFRESH_MIN_MS = 8000;\nlet divergenceTableRunningState = false;\nlet divergenceFetchDailyRunningState = false;\nlet divergenceFetchWeeklyRunningState = false;\nlet allowAutoCardRefreshFromFetchDaily = false;\nlet allowAutoCardRefreshFromFetchWeekly = false;\nlet allowAutoCardRefreshFromVDFScan = false;\nlet vdfScanLastProcessedTickers = -1;\n\n// --- Mini-chart hover overlay state ---\nlet miniChartOverlayEl: HTMLDivElement | null = null;\nlet miniChartInstance: ReturnType<typeof createChart> | null = null;\nlet miniChartHoverTimer: number | null = null;\nlet miniChartAbortController: AbortController | null = null;\nlet miniChartCurrentTicker: string | null = null;\nlet miniChartHoveredCard: HTMLElement | null = null;\nconst miniChartDataCache = new Map<string, Array<{ time: string | number; open: number; high: number; low: number; close: number }>>();\n\nexport function getColumnFeedMode(column: 'daily' | 'weekly'): ColumnFeedMode {\n    return column === 'daily' ? dailyFeedMode : weeklyFeedMode;\n}\n\nexport function setColumnCustomDates(column: 'daily' | 'weekly', from: string, to: string): void {\n    if (column === 'daily') {\n        dailyCustomFrom = from;\n        dailyCustomTo = to;\n    } else {\n        weeklyCustomFrom = from;\n        weeklyCustomTo = to;\n    }\n}\n\nfunction getColumnCustomDates(column: 'daily' | 'weekly'): { from: string; to: string } {\n    return column === 'daily'\n        ? { from: dailyCustomFrom, to: dailyCustomTo }\n        : { from: weeklyCustomFrom, to: weeklyCustomTo };\n}\n\n/** Filter alerts to only the N most recent unique trade dates */\nexport function filterToLatestNDates(alerts: Alert[], n: number): Alert[] {\n    const dates = new Set<string>();\n    for (const a of alerts) {\n        const d = a.signal_trade_date || (a.timestamp ? a.timestamp.slice(0, 10) : null);\n        if (d) dates.add(d);\n    }\n    const sorted = [...dates].sort((a, b) => b.localeCompare(a));\n    const topN = new Set(sorted.slice(0, n));\n    return alerts.filter(a => {\n        const d = a.signal_trade_date || (a.timestamp ? a.timestamp.slice(0, 10) : null);\n        return d ? topN.has(d) : false;\n    });\n}\n\n/** Apply column feed mode date filter */\nfunction applyColumnDateFilter(alerts: Alert[], mode: ColumnFeedMode): Alert[] {\n    if (mode === '1') return filterToLatestNDates(alerts, 1);\n    if (mode === '2') return filterToLatestNDates(alerts, 2);\n    if (mode === '5') return filterToLatestNDates(alerts, 5);\n    return alerts; // 'custom' \u2014 server already filtered\n}\n\nexport function shouldAutoRefreshDivergenceFeed(): boolean {\n    return (divergenceFetchDailyRunningState && allowAutoCardRefreshFromFetchDaily)\n        || (divergenceFetchWeeklyRunningState && allowAutoCardRefreshFromFetchWeekly);\n}\n\nfunction getRunButtonElements(): { button: HTMLButtonElement | null; status: HTMLElement | null } {\n    return {\n        button: document.getElementById('divergence-run-btn') as HTMLButtonElement | null,\n        status: document.getElementById('divergence-run-status')\n    };\n}\n\nfunction getTableRunButtonElements(): { button: HTMLButtonElement | null; status: HTMLElement | null } {\n    return {\n        button: document.getElementById('divergence-run-table-btn') as HTMLButtonElement | null,\n        status: document.getElementById('divergence-table-run-status')\n    };\n}\n\nfunction getFetchDailyButtonElements(): { button: HTMLButtonElement | null; status: HTMLElement | null } {\n    return {\n        button: document.getElementById('divergence-fetch-daily-btn') as HTMLButtonElement | null,\n        status: document.getElementById('divergence-fetch-daily-status')\n    };\n}\n\nfunction getFetchWeeklyButtonElements(): { button: HTMLButtonElement | null; status: HTMLElement | null } {\n    return {\n        button: document.getElementById('divergence-fetch-weekly-btn') as HTMLButtonElement | null,\n        status: document.getElementById('divergence-fetch-weekly-status')\n    };\n}\n\nfunction getRunControlButtons(): {\n    pauseResumeButton: HTMLButtonElement | null;\n    stopButton: HTMLButtonElement | null;\n} {\n    return {\n        pauseResumeButton: document.getElementById('divergence-run-pause-resume-btn') as HTMLButtonElement | null,\n        stopButton: document.getElementById('divergence-run-stop-btn') as HTMLButtonElement | null,\n    };\n}\n\nfunction getTableControlButtons(): {\n    pauseResumeButton: HTMLButtonElement | null;\n    stopButton: HTMLButtonElement | null;\n    manualUpdateButton: HTMLButtonElement | null;\n} {\n    return {\n        pauseResumeButton: document.getElementById('divergence-table-pause-resume-btn') as HTMLButtonElement | null,\n        stopButton: document.getElementById('divergence-table-stop-btn') as HTMLButtonElement | null,\n        manualUpdateButton: document.getElementById('divergence-manual-update-btn') as HTMLButtonElement | null,\n    };\n}\n\nfunction getFetchDailyControlButtons(): {\n    stopButton: HTMLButtonElement | null;\n} {\n    return {\n        stopButton: document.getElementById('divergence-fetch-daily-stop-btn') as HTMLButtonElement | null,\n    };\n}\n\nfunction getFetchWeeklyControlButtons(): {\n    stopButton: HTMLButtonElement | null;\n} {\n    return {\n        stopButton: document.getElementById('divergence-fetch-weekly-stop-btn') as HTMLButtonElement | null,\n    };\n}\n\nfunction setRunButtonState(running: boolean, canResume = false): void {\n    const { button } = getRunButtonElements();\n    if (!button) return;\n    button.disabled = running || canResume;\n    button.classList.toggle('active', running);\n    button.textContent = running ? 'Running' : 'Run Fetch';\n}\n\nfunction setRunStatusText(text: string): void {\n    const { status } = getRunButtonElements();\n    if (!status) return;\n    status.textContent = text;\n}\n\nfunction setTableRunButtonState(running: boolean, canResume = false): void {\n    const { button } = getTableRunButtonElements();\n    if (!button) return;\n    button.disabled = running || canResume;\n    button.classList.toggle('active', running);\n    button.textContent = running ? 'Running' : 'Run Table';\n}\n\nfunction setTableRunStatusText(text: string): void {\n    const { status } = getTableRunButtonElements();\n    if (!status) return;\n    status.textContent = text;\n}\n\nfunction setFetchDailyButtonState(running: boolean, canResume = false): void {\n    const { button } = getFetchDailyButtonElements();\n    if (!button) return;\n    button.disabled = running;\n    button.classList.toggle('active', running);\n    if (canResume && !running) {\n        button.textContent = 'Resume Fetch';\n    } else {\n        button.textContent = 'Fetch Daily';\n    }\n}\n\nfunction setFetchDailyStatusText(text: string): void {\n    const { status } = getFetchDailyButtonElements();\n    if (!status) return;\n    status.textContent = text;\n}\n\nfunction setFetchWeeklyButtonState(running: boolean, canResume = false): void {\n    const { button } = getFetchWeeklyButtonElements();\n    if (!button) return;\n    button.disabled = running;\n    button.classList.toggle('active', running);\n    if (canResume && !running) {\n        button.textContent = 'Resume Fetch';\n    } else {\n        button.textContent = 'Fetch Weekly';\n    }\n}\n\nfunction setFetchWeeklyStatusText(text: string): void {\n    const { status } = getFetchWeeklyButtonElements();\n    if (!status) return;\n    status.textContent = text;\n}\n\nfunction getVDFScanButtonElements(): { button: HTMLButtonElement | null; status: HTMLElement | null } {\n    return {\n        button: document.getElementById('divergence-vdf-scan-btn') as HTMLButtonElement | null,\n        status: document.getElementById('divergence-vdf-scan-status')\n    };\n}\n\nfunction getVDFScanControlButtons(): { stopButton: HTMLButtonElement | null } {\n    return {\n        stopButton: document.getElementById('divergence-vdf-scan-stop-btn') as HTMLButtonElement | null,\n    };\n}\n\nfunction setVDFScanButtonState(running: boolean): void {\n    const { button } = getVDFScanButtonElements();\n    if (!button) return;\n    button.disabled = running;\n    button.classList.toggle('active', running);\n    button.textContent = 'VDF Scan';\n}\n\nfunction setVDFScanStatusText(text: string): void {\n    const { status } = getVDFScanButtonElements();\n    if (!status) return;\n    status.textContent = text;\n}\n\nfunction setVDFScanControlButtonState(status: DivergenceScanStatus | null): void {\n    const { stopButton } = getVDFScanControlButtons();\n    const vdfScan = status?.vdfScan || null;\n    const running = Boolean(vdfScan?.running);\n    const stopRequested = Boolean(vdfScan?.stop_requested);\n    if (stopButton) {\n        stopButton.textContent = '\\u23F9';\n        stopButton.disabled = !running || stopRequested;\n        stopButton.classList.toggle('active', running);\n        stopButton.setAttribute('aria-label', 'Stop VDF Scan');\n        stopButton.title = 'Stop VDF Scan';\n    }\n}\n\nfunction setRunControlButtonState(status: DivergenceScanStatus | null): void {\n    const { pauseResumeButton, stopButton } = getRunControlButtons();\n    const scan = status?.scanControl || null;\n    const running = Boolean(scan?.running || status?.running);\n    const pauseRequested = Boolean(scan?.pause_requested);\n    const canResume = Boolean(scan?.can_resume);\n    const stopRequested = Boolean(scan?.stop_requested);\n    if (pauseResumeButton) {\n        pauseResumeButton.textContent = canResume && !running ? '\u25B6' : '\u23F8';\n        pauseResumeButton.disabled = running ? pauseRequested : !canResume;\n        pauseResumeButton.classList.toggle('active', running || canResume);\n        pauseResumeButton.setAttribute('aria-label', canResume && !running ? 'Resume Run Fetch' : 'Pause Run Fetch');\n        pauseResumeButton.title = canResume && !running ? 'Resume Run Fetch' : 'Pause Run Fetch';\n    }\n    if (stopButton) {\n        stopButton.textContent = '\u23F9';\n        stopButton.disabled = !running || stopRequested;\n        stopButton.classList.toggle('active', running);\n        stopButton.setAttribute('aria-label', 'Stop Run Fetch');\n        stopButton.title = 'Stop Run Fetch';\n    }\n}\n\nfunction setTableControlButtonState(status: DivergenceScanStatus | null): void {\n    const { pauseResumeButton, stopButton, manualUpdateButton } = getTableControlButtons();\n    const table = status?.tableBuild || null;\n    const running = Boolean(table?.running);\n    const pauseRequested = Boolean(table?.pause_requested);\n    const stopRequested = Boolean(table?.stop_requested);\n    const canResume = Boolean(table?.can_resume);\n\n    if (pauseResumeButton) {\n        pauseResumeButton.textContent = canResume && !running ? '\u25B6' : '\u23F8';\n        pauseResumeButton.disabled = running ? pauseRequested : !canResume;\n        pauseResumeButton.classList.toggle('active', running || canResume);\n        pauseResumeButton.setAttribute('aria-label', canResume && !running ? 'Resume Run Table' : 'Pause Run Table');\n        pauseResumeButton.title = canResume && !running ? 'Resume Run Table' : 'Pause Run Table';\n    }\n    if (stopButton) {\n        stopButton.textContent = '\u23F9';\n        stopButton.disabled = !running || stopRequested;\n        stopButton.classList.toggle('active', running);\n        stopButton.setAttribute('aria-label', 'Stop Run Table');\n        stopButton.title = 'Stop Run Table';\n    }\n    if (manualUpdateButton) {\n        manualUpdateButton.disabled = false;\n    }\n}\n\nfunction setFetchDailyControlButtonState(status: DivergenceScanStatus | null): void {\n    const { stopButton } = getFetchDailyControlButtons();\n    const fetchDaily = status?.fetchDailyData || null;\n    const running = Boolean(fetchDaily?.running);\n    const stopRequested = Boolean(fetchDaily?.stop_requested);\n    if (stopButton) {\n        stopButton.textContent = '\u23F9';\n        stopButton.disabled = !running || stopRequested;\n        stopButton.classList.toggle('active', running);\n        stopButton.setAttribute('aria-label', 'Stop Fetch Daily');\n        stopButton.title = 'Stop Fetch Daily';\n    }\n}\n\nfunction setFetchWeeklyControlButtonState(status: DivergenceScanStatus | null): void {\n    const { stopButton } = getFetchWeeklyControlButtons();\n    const fetchWeekly = status?.fetchWeeklyData || null;\n    const running = Boolean(fetchWeekly?.running);\n    const stopRequested = Boolean(fetchWeekly?.stop_requested);\n    if (stopButton) {\n        stopButton.textContent = '\u23F9';\n        stopButton.disabled = !running || stopRequested;\n        stopButton.classList.toggle('active', running);\n        stopButton.setAttribute('aria-label', 'Stop Fetch Weekly');\n        stopButton.title = 'Stop Fetch Weekly';\n    }\n}\n\nfunction toStatusTextFromError(error: unknown): string {\n    const message = String((error as any)?.message || error || '').trim();\n    if (!message) return 'Run failed';\n    if (/not configured/i.test(message)) return 'DB not configured';\n    if (/unauthorized/i.test(message)) return 'Unauthorized';\n    if (/already running|running/i.test(message)) return 'Already running';\n    return message.length > 56 ? `${message.slice(0, 56)}...` : message;\n}\n\nfunction toDateKey(raw?: string | null): string | null {\n    const value = String(raw || '').trim();\n    if (!value) return null;\n    const match = value.match(/^(\\d{4})-(\\d{2})-(\\d{2})/);\n    if (!match) return null;\n    return `${match[1]}-${match[2]}-${match[3]}`;\n}\n\nfunction toDateKeyAsET(raw?: string | null): string | null {\n    const value = String(raw || '').trim();\n    if (!value) return null;\n    const d = new Date(value);\n    if (isNaN(d.getTime())) return null;\n    const parts = d.toLocaleDateString('en-US', { timeZone: 'America/New_York', year: 'numeric', month: '2-digit', day: '2-digit' });\n    const [mm, dd, yyyy] = parts.split('/');\n    if (!mm || !dd || !yyyy) return null;\n    return `${yyyy}-${mm.padStart(2, '0')}-${dd.padStart(2, '0')}`;\n}\n\nfunction dateKeyToMmDd(dateKey: string): string {\n    const parts = dateKey.split('-');\n    if (parts.length !== 3) return '';\n    const month = Number(parts[1]);\n    const day = Number(parts[2]);\n    if (!Number.isFinite(month) || month <= 0 || !Number.isFinite(day) || day <= 0) return '';\n    return `${month}/${day}`;\n}\n\nfunction summarizeLastRunDate(status: DivergenceScanStatus): string {\n    const latest = status.latestJob as (DivergenceScanStatus['latestJob'] & { run_for_date?: string; scanned_trade_date?: string }) | null;\n    const runDateKey =\n        toDateKey(status.lastScanDateEt)\n        || toDateKey(latest?.scanned_trade_date)\n        || toDateKey(latest?.run_for_date)\n        || toDateKey(latest?.finished_at)\n        || toDateKey(latest?.started_at);\n\n    if (!runDateKey) return 'Fetched';\n    const mmdd = dateKeyToMmDd(runDateKey);\n    return mmdd ? `Fetched ${mmdd}` : 'Fetched';\n}\n\nfunction summarizeStatus(status: DivergenceScanStatus): string {\n    const latest = status.latestJob;\n    const scan = status.scanControl || null;\n    if (status.running) {\n        const processed = Number(latest?.processed_symbols || 0);\n        const total = Number(latest?.total_symbols || 0);\n        if (scan?.stop_requested) {\n            if (total > 0) return `Stopping ${processed}/${total}`;\n            return 'Stopping';\n        }\n        if (scan?.pause_requested) {\n            if (total > 0) return `Pausing ${processed}/${total}`;\n            return 'Pausing';\n        }\n        if (total > 0) return `Running ${processed}/${total}`;\n        return 'Running';\n    }\n\n    if (latest?.status === 'paused') {\n        const processed = Number(latest?.processed_symbols || 0);\n        const total = Number(latest?.total_symbols || 0);\n        if (total > 0) return `Paused ${processed}/${total}`;\n        return 'Paused';\n    }\n    if (latest?.status === 'stopped') {\n        return 'Stopped';\n    }\n    if (latest?.status === 'completed') {\n        return summarizeLastRunDate(status);\n    }\n    if (latest?.status === 'failed') {\n        return 'Last run failed';\n    }\n    if (status.lastScanDateEt || latest?.run_for_date || latest?.finished_at || latest?.started_at) {\n        return summarizeLastRunDate(status);\n    }\n    return 'Idle';\n}\n\nfunction summarizeTableStatus(status: DivergenceScanStatus): string {\n    const table = status.tableBuild;\n    if (!table) return 'Table idle';\n    const tableState = String(table.status || '').toLowerCase();\n    const errorTickers = Number(table.error_tickers || 0);\n    if (tableState === 'stopped') {\n        return 'Table stopped';\n    }\n    if (tableState === 'paused') {\n        const processed = Number(table.processed_tickers || 0);\n        const total = Number(table.total_tickers || 0);\n        if (total > 0) return `Paused ${processed}/${total}`;\n        return 'Table paused';\n    }\n    if (table.running) {\n        const processed = Number(table.processed_tickers || 0);\n        const total = Number(table.total_tickers || 0);\n        if (table.stop_requested) {\n            if (total > 0) return `Stopping ${processed}/${total}`;\n            return 'Stopping';\n        }\n        if (table.pause_requested) {\n            if (total > 0) return `Pausing ${processed}/${total}`;\n            return 'Pausing';\n        }\n        if (total > 0) return `Table ${processed}/${total}`;\n        return 'Table running';\n    }\n    if (tableState === 'completed') {\n        const dateKey = toDateKey(table.last_published_trade_date || null);\n        const mmdd = dateKey ? dateKeyToMmDd(dateKey) : '';\n        return mmdd ? `Table ${mmdd}` : 'Table fetched';\n    }\n    if (tableState === 'completed-with-errors') {\n        const dateKey = toDateKey(table.last_published_trade_date || null);\n        const mmdd = dateKey ? dateKeyToMmDd(dateKey) : '';\n        if (mmdd && errorTickers > 0) return `Table ${mmdd} (${errorTickers} errors)`;\n        if (errorTickers > 0) return `Table done (${errorTickers} errors)`;\n        return mmdd ? `Table ${mmdd}` : 'Table fetched';\n    }\n    if (tableState === 'failed') {\n        return 'Table failed';\n    }\n    return 'Table idle';\n}\n\nfunction summarizeFetchDailyStatus(status: DivergenceScanStatus): string {\n    const fetchDaily = status.fetchDailyData;\n    const latest = status.latestJob as (DivergenceScanStatus['latestJob'] & { run_for_date?: string; scanned_trade_date?: string }) | null;\n    const lastRunDateKey =\n        toDateKey(fetchDaily?.last_published_trade_date || null)\n        || toDateKey(status.lastScanDateEt)\n        || toDateKey(latest?.scanned_trade_date)\n        || toDateKey(latest?.run_for_date)\n        || toDateKey(latest?.finished_at)\n        || toDateKey(latest?.started_at);\n    const lastRunMmDd = lastRunDateKey ? dateKeyToMmDd(lastRunDateKey) : '';\n    const ranText = lastRunMmDd ? `Fetched ${lastRunMmDd}` : 'Fetched --';\n    if (!fetchDaily) return ranText;\n    const fetchDailyState = String(fetchDaily.status || '').toLowerCase();\n    if (fetchDailyState === 'stopping') {\n        return 'Stopping';\n    }\n    if (fetchDailyState === 'stopped') {\n        if (fetchDaily.can_resume) {\n            const processed = Number(fetchDaily.processed_tickers || 0);\n            const total = Number(fetchDaily.total_tickers || 0);\n            return total > 0 ? `Stopped ${processed}/${total} (resumable)` : 'Stopped (resumable)';\n        }\n        return 'Stopped';\n    }\n    if (fetchDaily.running) {\n        const processed = Number(fetchDaily.processed_tickers || 0);\n        const total = Number(fetchDaily.total_tickers || 0);\n        const errors = Number(fetchDaily.error_tickers || 0);\n        if (fetchDaily.stop_requested) {\n            return 'Stopping';\n        }\n        if (fetchDailyState === 'running-retry') {\n            return `Retrying ${errors} failed (${processed}/${total})`;\n        }\n        if (fetchDailyState === 'running-ma') {\n            return `MA ${processed}/${total}`;\n        }\n        if (fetchDailyState === 'running-ma-retry') {\n            return `Retrying failed MA (${processed}/${total})`;\n        }\n        return `${processed} / ${total}`;\n    }\n    if (fetchDailyState === 'completed') {\n        return ranText;\n    }\n    if (fetchDailyState === 'completed-with-errors') {\n        return ranText;\n    }\n    if (fetchDailyState === 'failed') {\n        return ranText;\n    }\n    return ranText;\n}\n\nfunction summarizeFetchWeeklyStatus(status: DivergenceScanStatus): string {\n    const fetchWeekly = status.fetchWeeklyData;\n    const latest = status.latestJob as (DivergenceScanStatus['latestJob'] & { run_for_date?: string; scanned_trade_date?: string }) | null;\n    const lastRunDateKey =\n        toDateKey(fetchWeekly?.last_published_trade_date || null)\n        || toDateKey(status.lastScanDateEt)\n        || toDateKey(latest?.scanned_trade_date)\n        || toDateKey(latest?.run_for_date)\n        || toDateKey(latest?.finished_at)\n        || toDateKey(latest?.started_at);\n    const lastRunMmDd = lastRunDateKey ? dateKeyToMmDd(lastRunDateKey) : '';\n    const ranText = lastRunMmDd ? `Fetched ${lastRunMmDd}` : 'Fetched --';\n    if (!fetchWeekly) return ranText;\n    const fetchWeeklyState = String(fetchWeekly.status || '').toLowerCase();\n    if (fetchWeeklyState === 'stopping') {\n        return 'Stopping';\n    }\n    if (fetchWeeklyState === 'stopped') {\n        if (fetchWeekly.can_resume) {\n            const processed = Number(fetchWeekly.processed_tickers || 0);\n            const total = Number(fetchWeekly.total_tickers || 0);\n            return total > 0 ? `Stopped ${processed}/${total} (resumable)` : 'Stopped (resumable)';\n        }\n        return 'Stopped';\n    }\n    if (fetchWeekly.running) {\n        const processed = Number(fetchWeekly.processed_tickers || 0);\n        const total = Number(fetchWeekly.total_tickers || 0);\n        const errors = Number(fetchWeekly.error_tickers || 0);\n        if (fetchWeekly.stop_requested) {\n            return 'Stopping';\n        }\n        if (fetchWeeklyState === 'running-retry') {\n            return `Retrying ${errors} failed (${processed}/${total})`;\n        }\n        if (fetchWeeklyState === 'running-ma') {\n            return `MA ${processed}/${total}`;\n        }\n        if (fetchWeeklyState === 'running-ma-retry') {\n            return `Retrying failed MA (${processed}/${total})`;\n        }\n        return `${processed} / ${total}`;\n    }\n    if (fetchWeeklyState === 'completed') {\n        return ranText;\n    }\n    if (fetchWeeklyState === 'completed-with-errors') {\n        return ranText;\n    }\n    if (fetchWeeklyState === 'failed') {\n        return ranText;\n    }\n    return ranText;\n}\n\nfunction summarizeVDFScanStatus(status: DivergenceScanStatus): string {\n    const scan = status.vdfScan;\n    if (!scan) return 'Ran --';\n    const state = String(scan.status || '').toLowerCase();\n    const lastRunDateKey = toDateKeyAsET(scan.finished_at || scan.started_at || null);\n    const lastRunMmDd = lastRunDateKey ? dateKeyToMmDd(lastRunDateKey) : '';\n    const ranText = lastRunMmDd ? `Ran ${lastRunMmDd}` : 'Ran --';\n    if (state === 'stopping') {\n        return 'Stopping';\n    }\n    if (state === 'stopped') {\n        return 'Stopped';\n    }\n    if (scan.running) {\n        const processed = Number(scan.processed_tickers || 0);\n        const total = Number(scan.total_tickers || 0);\n        const detected = Number(scan.detected_tickers || 0);\n        if (scan.stop_requested) {\n            return 'Stopping';\n        }\n        if (state === 'running-retry') {\n            return `Retrying (${processed}/${total})`;\n        }\n        return `${processed}/${total} (${detected} VDF)`;\n    }\n    if (state === 'completed' || state === 'completed-with-errors') {\n        const detected = Number(scan.detected_tickers || 0);\n        return detected > 0 ? `${ranText} (${detected} VDF)` : ranText;\n    }\n    if (state === 'failed') {\n        return ranText;\n    }\n    return ranText;\n}\n\nfunction clearDivergenceScanPolling(): void {\n  if (divergenceScanPollTimer !== null) {\n    window.clearInterval(divergenceScanPollTimer);\n    divergenceScanPollTimer = null;\n  }\n}\n\nasync function hydrateVisibleDivergenceTables(force = false, noCache = false): Promise<void> {\n    const nowMs = Date.now();\n    if (!force && (nowMs - divergenceTableLastUiRefreshAtMs) < DIVERGENCE_TABLE_UI_REFRESH_MIN_MS) {\n        return;\n    }\n    divergenceTableLastUiRefreshAtMs = nowMs;\n    const containers: HTMLElement[] = [];\n    const ids = ['daily-container', 'weekly-container', 'divergence-daily-container', 'divergence-weekly-container'];\n    for (const id of ids) {\n        const el = document.getElementById(id);\n        if (!el || el.childElementCount === 0) continue;\n        containers.push(el);\n    }\n    if (containers.length > 0) {\n        const shouldForceRefresh = noCache;\n        await Promise.allSettled(\n            containers.map((container) => hydrateAlertCardDivergenceTables(\n                container,\n                undefined,\n                { forceRefresh: shouldForceRefresh, noCache }\n            ))\n        );\n    }\n    refreshActiveTickerDivergenceSummary({ noCache });\n}\n\nfunction refreshDivergenceCardsWhileRunning(force = false, timeframe?: '1d' | '1w'): void {\n    // P2: Defer card refreshes while an active chart load (P0) is in progress.\n    if (isChartActivelyLoading()) return;\n    const nowMs = Date.now();\n    if (!force && (nowMs - divergenceTableLastUiRefreshAtMs) < DIVERGENCE_TABLE_UI_REFRESH_MIN_MS) {\n        return;\n    }\n    divergenceTableLastUiRefreshAtMs = nowMs;\n    if (timeframe) {\n        void fetchDivergenceSignalsByTimeframe(timeframe).then(() => renderDivergenceContainer(timeframe)).catch(() => {});\n    } else {\n        void fetchDivergenceSignals().then(renderDivergenceOverview).catch(() => {});\n    }\n}\n\nasync function pollDivergenceScanStatus(refreshOnComplete: boolean): Promise<void> {\n    if (divergenceScanPollInFlight) return;\n    divergenceScanPollInFlight = true;\n    try {\n        const status = await fetchDivergenceScanStatus();\n        divergenceScanPollConsecutiveErrors = 0;\n        divergenceTableRunningState = Boolean(status.tableBuild?.running);\n        divergenceFetchDailyRunningState = Boolean(status.fetchDailyData?.running);\n        divergenceFetchWeeklyRunningState = Boolean(status.fetchWeeklyData?.running);\n        setRunButtonState(status.running, Boolean(status.scanControl?.can_resume));\n        setRunStatusText(summarizeStatus(status));\n        setRunControlButtonState(status);\n        const tableRunning = divergenceTableRunningState;\n        setTableRunButtonState(tableRunning, Boolean(status.tableBuild?.can_resume));\n        setTableRunStatusText(summarizeTableStatus(status));\n        setTableControlButtonState(status);\n        const fetchDailyRunning = divergenceFetchDailyRunningState;\n        const fetchDailyCanResume = Boolean(status.fetchDailyData?.can_resume);\n        setFetchDailyButtonState(fetchDailyRunning, fetchDailyCanResume);\n        setFetchDailyStatusText(summarizeFetchDailyStatus(status));\n        setFetchDailyControlButtonState(status);\n        const fetchWeeklyRunning = divergenceFetchWeeklyRunningState;\n        const fetchWeeklyCanResume = Boolean(status.fetchWeeklyData?.can_resume);\n        setFetchWeeklyButtonState(fetchWeeklyRunning, fetchWeeklyCanResume);\n        setFetchWeeklyStatusText(summarizeFetchWeeklyStatus(status));\n        setFetchWeeklyControlButtonState(status);\n        const vdfRunning1 = Boolean(status.vdfScan?.running);\n        setVDFScanButtonState(vdfRunning1);\n        setVDFScanStatusText(summarizeVDFScanStatus(status));\n        setVDFScanControlButtonState(status);\n        if (fetchDailyRunning) {\n            allowAutoCardRefreshFromFetchDaily = true;\n            allowAutoCardRefreshFromFetchWeekly = false;\n        } else if (fetchWeeklyRunning) {\n            allowAutoCardRefreshFromFetchWeekly = true;\n            allowAutoCardRefreshFromFetchDaily = false;\n        }\n        if (fetchDailyRunning && allowAutoCardRefreshFromFetchDaily) {\n            const processed = Number(status.fetchDailyData?.processed_tickers || 0);\n            const progressed = processed !== divergenceFetchDailyLastProcessedTickers;\n            divergenceFetchDailyLastProcessedTickers = processed;\n            refreshDivergenceCardsWhileRunning(progressed, '1d');\n        } else {\n            divergenceFetchDailyLastProcessedTickers = -1;\n        }\n        if (fetchWeeklyRunning && allowAutoCardRefreshFromFetchWeekly) {\n            const processed = Number(status.fetchWeeklyData?.processed_tickers || 0);\n            const progressed = processed !== divergenceFetchWeeklyLastProcessedTickers;\n            divergenceFetchWeeklyLastProcessedTickers = processed;\n            refreshDivergenceCardsWhileRunning(progressed, '1w');\n        } else {\n            divergenceFetchWeeklyLastProcessedTickers = -1;\n        }\n        if (vdfRunning1 && allowAutoCardRefreshFromVDFScan) {\n            const processed = Number(status.vdfScan?.processed_tickers || 0);\n            const progressed = processed !== vdfScanLastProcessedTickers;\n            vdfScanLastProcessedTickers = processed;\n            if (progressed) {\n                refreshDivergenceCardsWhileRunning(true);\n            }\n        } else {\n            vdfScanLastProcessedTickers = -1;\n        }\n        if (!fetchDailyRunning && !fetchWeeklyRunning && !vdfRunning1) {\n            divergenceTableLastUiRefreshAtMs = 0;\n        }\n        if (!status.running && !tableRunning && !fetchDailyRunning && !fetchWeeklyRunning && !vdfRunning1) {\n            clearDivergenceScanPolling();\n            if (refreshOnComplete) {\n                if (allowAutoCardRefreshFromFetchDaily) {\n                    await fetchDivergenceSignalsByTimeframe('1d');\n                    renderDivergenceContainer('1d');\n                }\n                if (allowAutoCardRefreshFromFetchWeekly) {\n                    await fetchDivergenceSignalsByTimeframe('1w');\n                    renderDivergenceContainer('1w');\n                }\n                if (allowAutoCardRefreshFromVDFScan) {\n                    await fetchDivergenceSignals();\n                    renderDivergenceOverview();\n                }\n            }\n            allowAutoCardRefreshFromFetchDaily = false;\n            allowAutoCardRefreshFromFetchWeekly = false;\n            allowAutoCardRefreshFromVDFScan = false;\n        }\n    } catch (error) {\n        divergenceScanPollConsecutiveErrors += 1;\n        // Transient errors during active fetches are expected (DB pool\n        // saturated). Keep polling and only show errors after repeated\n        // consecutive failures.\n        if (divergenceScanPollConsecutiveErrors < DIVERGENCE_POLL_ERROR_THRESHOLD) {\n            console.warn(`Scan status poll failed (${divergenceScanPollConsecutiveErrors}/${DIVERGENCE_POLL_ERROR_THRESHOLD}), retrying next cycle`);\n        } else {\n            console.error('Failed to poll divergence scan status:', error);\n            divergenceTableRunningState = false;\n            divergenceFetchDailyRunningState = false;\n            divergenceFetchWeeklyRunningState = false;\n            setRunStatusText(toStatusTextFromError(error));\n            setTableRunStatusText(toStatusTextFromError(error));\n            setFetchDailyStatusText(toStatusTextFromError(error));\n            setFetchWeeklyStatusText(toStatusTextFromError(error));\n            clearDivergenceScanPolling();\n            setRunButtonState(false, false);\n            setRunControlButtonState(null);\n            setTableRunButtonState(false, false);\n            setTableControlButtonState(null);\n            setFetchDailyButtonState(false, false);\n            setFetchDailyControlButtonState(null);\n            setFetchWeeklyButtonState(false, false);\n            setFetchWeeklyControlButtonState(null);\n            setVDFScanButtonState(false);\n            setVDFScanControlButtonState(null);\n            allowAutoCardRefreshFromFetchDaily = false;\n            allowAutoCardRefreshFromFetchWeekly = false;\n        }\n    } finally {\n        divergenceScanPollInFlight = false;\n    }\n}\n\nfunction ensureDivergenceScanPolling(refreshOnComplete: boolean): void {\n    clearDivergenceScanPolling();\n    divergenceScanPollTimer = window.setInterval(() => {\n        pollDivergenceScanStatus(refreshOnComplete);\n    }, 2500);\n}\n\nexport async function syncDivergenceScanUiState(): Promise<void> {\n    try {\n        const status = await fetchDivergenceScanStatus();\n        divergenceTableRunningState = Boolean(status.tableBuild?.running);\n        divergenceFetchDailyRunningState = Boolean(status.fetchDailyData?.running);\n        divergenceFetchWeeklyRunningState = Boolean(status.fetchWeeklyData?.running);\n        setRunButtonState(status.running, Boolean(status.scanControl?.can_resume));\n        setRunStatusText(summarizeStatus(status));\n        setRunControlButtonState(status);\n        const tableRunning = divergenceTableRunningState;\n        setTableRunButtonState(tableRunning, Boolean(status.tableBuild?.can_resume));\n        setTableRunStatusText(summarizeTableStatus(status));\n        setTableControlButtonState(status);\n        const fetchDailyRunning = divergenceFetchDailyRunningState;\n        const fetchDailyCanResume = Boolean(status.fetchDailyData?.can_resume);\n        setFetchDailyButtonState(fetchDailyRunning, fetchDailyCanResume);\n        setFetchDailyStatusText(summarizeFetchDailyStatus(status));\n        setFetchDailyControlButtonState(status);\n        const fetchWeeklyRunning = divergenceFetchWeeklyRunningState;\n        const fetchWeeklyCanResume = Boolean(status.fetchWeeklyData?.can_resume);\n        setFetchWeeklyButtonState(fetchWeeklyRunning, fetchWeeklyCanResume);\n        setFetchWeeklyStatusText(summarizeFetchWeeklyStatus(status));\n        setFetchWeeklyControlButtonState(status);\n        const vdfRunning2 = Boolean(status.vdfScan?.running);\n        setVDFScanButtonState(vdfRunning2);\n        setVDFScanStatusText(summarizeVDFScanStatus(status));\n        setVDFScanControlButtonState(status);\n        if (fetchDailyRunning) {\n            allowAutoCardRefreshFromFetchDaily = true;\n            allowAutoCardRefreshFromFetchWeekly = false;\n        } else if (fetchWeeklyRunning) {\n            allowAutoCardRefreshFromFetchWeekly = true;\n            allowAutoCardRefreshFromFetchDaily = false;\n        }\n        if (fetchDailyRunning && allowAutoCardRefreshFromFetchDaily) {\n            const processed = Number(status.fetchDailyData?.processed_tickers || 0);\n            const progressed = processed !== divergenceFetchDailyLastProcessedTickers;\n            divergenceFetchDailyLastProcessedTickers = processed;\n            refreshDivergenceCardsWhileRunning(progressed, '1d');\n        } else {\n            divergenceFetchDailyLastProcessedTickers = -1;\n        }\n        if (fetchWeeklyRunning && allowAutoCardRefreshFromFetchWeekly) {\n            const processed = Number(status.fetchWeeklyData?.processed_tickers || 0);\n            const progressed = processed !== divergenceFetchWeeklyLastProcessedTickers;\n            divergenceFetchWeeklyLastProcessedTickers = processed;\n            refreshDivergenceCardsWhileRunning(progressed, '1w');\n        } else {\n            divergenceFetchWeeklyLastProcessedTickers = -1;\n        }\n        if (!fetchDailyRunning && !fetchWeeklyRunning) {\n            divergenceTableLastUiRefreshAtMs = 0;\n        }\n        if (status.running || tableRunning || fetchDailyRunning || fetchWeeklyRunning || vdfRunning2) {\n            ensureDivergenceScanPolling(true);\n        } else {\n            clearDivergenceScanPolling();\n            allowAutoCardRefreshFromFetchDaily = false;\n            allowAutoCardRefreshFromFetchWeekly = false;\n        }\n    } catch (error) {\n        console.error('Failed to sync divergence scan UI state:', error);\n        divergenceTableRunningState = false;\n        divergenceFetchDailyRunningState = false;\n        divergenceFetchWeeklyRunningState = false;\n        setRunButtonState(false, false);\n        setRunControlButtonState(null);\n        setRunStatusText(toStatusTextFromError(error));\n        setTableRunButtonState(false, false);\n        setTableRunStatusText(toStatusTextFromError(error));\n        setTableControlButtonState(null);\n        setFetchDailyButtonState(false, false);\n        setFetchDailyStatusText(toStatusTextFromError(error));\n        setFetchDailyControlButtonState(null);\n        setFetchWeeklyButtonState(false, false);\n        setFetchWeeklyStatusText(toStatusTextFromError(error));\n        setFetchWeeklyControlButtonState(null);\n        setVDFScanButtonState(false);\n        setVDFScanControlButtonState(null);\n        allowAutoCardRefreshFromFetchDaily = false;\n        allowAutoCardRefreshFromFetchWeekly = false;\n    }\n}\n\nexport async function runManualDivergenceScan(): Promise<void> {\n    setRunButtonState(true, false);\n    setRunStatusText('Starting...');\n    allowAutoCardRefreshFromFetchDaily = false;\n    try {\n        const started = await startDivergenceScan({\n            force: true,\n            refreshUniverse: true\n        });\n        if (started.status === 'running') {\n            setRunStatusText('Already running');\n        } else {\n            setRunStatusText('Running');\n        }\n        ensureDivergenceScanPolling(true);\n        await pollDivergenceScanStatus(false);\n    } catch (error) {\n        console.error('Failed to start divergence scan:', error);\n        setRunButtonState(false, false);\n        setRunStatusText(toStatusTextFromError(error));\n    }\n}\n\nexport async function runManualDivergenceTableBuild(): Promise<void> {\n    setTableRunButtonState(true, false);\n    setTableRunStatusText('Table starting...');\n    allowAutoCardRefreshFromFetchDaily = false;\n    try {\n        const started = await startDivergenceTableBuild();\n        if (started.status === 'running') {\n            setTableRunStatusText('Table running');\n        } else {\n            setTableRunStatusText('Table running');\n        }\n        ensureDivergenceScanPolling(true);\n        await pollDivergenceScanStatus(false);\n    } catch (error) {\n        console.error('Failed to start divergence table build:', error);\n        setTableRunButtonState(false, false);\n        setTableRunStatusText(toStatusTextFromError(error));\n    }\n}\n\nexport async function runManualDivergenceFetchDailyData(): Promise<void> {\n    setFetchDailyButtonState(true);\n    setFetchDailyStatusText('Starting...');\n    allowAutoCardRefreshFromFetchDaily = true;\n    allowAutoCardRefreshFromFetchWeekly = false;\n    try {\n        const started = await startDivergenceFetchDailyData();\n        if (started.status === 'running') setFetchDailyStatusText('Already running');\n        else if (started.status === 'resumed') setFetchDailyStatusText('Resuming...');\n        ensureDivergenceScanPolling(true);\n        await pollDivergenceScanStatus(false);\n    } catch (error) {\n        console.error('Failed to start fetch-daily run:', error);\n        setFetchDailyButtonState(false);\n        setFetchDailyStatusText(toStatusTextFromError(error));\n    }\n}\n\nexport async function runManualDivergenceFetchWeeklyData(): Promise<void> {\n    setFetchWeeklyButtonState(true);\n    setFetchWeeklyStatusText('Starting...');\n    allowAutoCardRefreshFromFetchWeekly = true;\n    allowAutoCardRefreshFromFetchDaily = false;\n    try {\n        const started = await startDivergenceFetchWeeklyData();\n        if (started.status === 'running') setFetchWeeklyStatusText('Already running');\n        else if (started.status === 'resumed') setFetchWeeklyStatusText('Resuming...');\n        ensureDivergenceScanPolling(true);\n        await pollDivergenceScanStatus(false);\n    } catch (error) {\n        console.error('Failed to start fetch-weekly run:', error);\n        setFetchWeeklyButtonState(false);\n        setFetchWeeklyStatusText(toStatusTextFromError(error));\n    }\n}\n\nexport async function togglePauseResumeManualDivergenceScan(): Promise<void> {\n    try {\n        const status = await fetchDivergenceScanStatus();\n        const running = Boolean(status.scanControl?.running || status.running);\n        const canResume = Boolean(status.scanControl?.can_resume);\n        if (running) {\n            const result = await pauseDivergenceScan();\n            if (result.status === 'pause-requested') {\n                setRunStatusText('Pausing');\n            } else if (result.status === 'paused') {\n                setRunStatusText('Paused');\n            }\n        } else if (canResume) {\n            const result = await resumeDivergenceScan();\n            if (result.status === 'no-resume') {\n                setRunStatusText('Nothing to resume');\n            } else {\n                setRunStatusText('Running');\n                ensureDivergenceScanPolling(true);\n                await pollDivergenceScanStatus(false);\n                return;\n            }\n        }\n        await syncDivergenceScanUiState();\n    } catch (error) {\n        console.error('Failed to toggle scan pause/resume:', error);\n        setRunStatusText(toStatusTextFromError(error));\n    }\n}\n\nexport async function stopManualDivergenceScan(): Promise<void> {\n    try {\n        const result = await stopDivergenceScan();\n        if (result.status === 'stop-requested') {\n            setRunStatusText('Stopping');\n        }\n        await syncDivergenceScanUiState();\n    } catch (error) {\n        console.error('Failed to stop divergence scan:', error);\n        setRunStatusText(toStatusTextFromError(error));\n    }\n}\n\nexport async function togglePauseResumeManualDivergenceTableBuild(): Promise<void> {\n    try {\n        const status = await fetchDivergenceScanStatus();\n        const running = Boolean(status.tableBuild?.running);\n        const canResume = Boolean(status.tableBuild?.can_resume);\n        if (running) {\n            const result = await pauseDivergenceTableBuild();\n            if (result.status === 'pause-requested') {\n                setTableRunStatusText('Pausing');\n            } else if (result.status === 'paused') {\n                setTableRunStatusText('Table paused');\n            }\n        } else if (canResume) {\n            const result = await resumeDivergenceTableBuild();\n            if (result.status === 'no-resume') {\n                setTableRunStatusText('Nothing to resume');\n            } else {\n                setTableRunStatusText('Table running');\n                ensureDivergenceScanPolling(true);\n                await pollDivergenceScanStatus(false);\n                return;\n            }\n        }\n        await syncDivergenceScanUiState();\n    } catch (error) {\n        console.error('Failed to toggle divergence table pause/resume:', error);\n        setTableRunStatusText(toStatusTextFromError(error));\n    }\n}\n\nexport async function stopManualDivergenceTableBuild(): Promise<void> {\n    try {\n        const result = await stopDivergenceTableBuild();\n        if (result.status === 'stop-requested') {\n            setTableRunStatusText('Stopping');\n        }\n        await syncDivergenceScanUiState();\n    } catch (error) {\n        console.error('Failed to stop divergence table build:', error);\n        setTableRunStatusText(toStatusTextFromError(error));\n    }\n}\n\nexport async function stopManualDivergenceFetchDailyData(): Promise<void> {\n    try {\n        const result = await stopDivergenceFetchDailyData();\n        if (result.status === 'stop-requested') {\n            setFetchDailyStatusText('Stopping');\n        }\n        allowAutoCardRefreshFromFetchDaily = false;\n        await syncDivergenceScanUiState();\n    } catch (error) {\n        console.error('Failed to stop fetch-daily run:', error);\n        setFetchDailyStatusText(toStatusTextFromError(error));\n    }\n}\n\nexport async function stopManualDivergenceFetchWeeklyData(): Promise<void> {\n    try {\n        const result = await stopDivergenceFetchWeeklyData();\n        if (result.status === 'stop-requested') {\n            setFetchWeeklyStatusText('Stopping');\n        }\n        allowAutoCardRefreshFromFetchWeekly = false;\n        await syncDivergenceScanUiState();\n    } catch (error) {\n        console.error('Failed to stop fetch-weekly run:', error);\n        setFetchWeeklyStatusText(toStatusTextFromError(error));\n    }\n}\n\nexport async function runManualVDFScan(): Promise<void> {\n    setVDFScanButtonState(true);\n    setVDFScanStatusText('Starting...');\n    allowAutoCardRefreshFromVDFScan = true;\n    allowAutoCardRefreshFromFetchDaily = false;\n    allowAutoCardRefreshFromFetchWeekly = false;\n    try {\n        const started = await startVDFScan();\n        if (started.status === 'running') setVDFScanStatusText('Already running');\n        ensureDivergenceScanPolling(true);\n        await pollDivergenceScanStatus(false);\n    } catch (error) {\n        console.error('Failed to start VDF scan:', error);\n        setVDFScanButtonState(false);\n        setVDFScanStatusText(toStatusTextFromError(error));\n    }\n}\n\nexport async function stopManualVDFScan(): Promise<void> {\n    try {\n        const result = await stopVDFScan();\n        if (result.status === 'stop-requested') {\n            setVDFScanStatusText('Stopping');\n        }\n        allowAutoCardRefreshFromVDFScan = false;\n        await syncDivergenceScanUiState();\n    } catch (error) {\n        console.error('Failed to stop VDF scan:', error);\n        setVDFScanStatusText(toStatusTextFromError(error));\n    }\n}\n\nexport async function hydrateDivergenceTablesNow(): Promise<void> {\n    try {\n        setTableRunStatusText('Updating...');\n        await hydrateVisibleDivergenceTables(true, true);\n        await syncDivergenceScanUiState();\n    } catch (error) {\n        console.error('Failed to hydrate divergence tables:', error);\n        setTableRunStatusText(toStatusTextFromError(error));\n    }\n}\n\nexport async function fetchDivergenceSignals(_force?: boolean): Promise<Alert[]> {\n    try {\n        // Fetch both columns independently using their per-column modes\n        const [daily, weekly] = await Promise.all([\n            fetchDivergenceSignalsByTimeframe('1d'),\n            fetchDivergenceSignalsByTimeframe('1w')\n        ]);\n        const all = [...daily, ...weekly];\n        primeDivergenceSummaryCacheFromAlerts(all);\n        return all;\n    } catch (error) {\n        console.error('Error fetching divergence signals:', error);\n        return [];\n    }\n}\n\nfunction showMoreButtonHtml(shown: number, total: number, timeframe: '1d' | '1w'): string {\n    if (shown >= total) return '';\n    const remaining = total - shown;\n    const nextBatch = Math.min(remaining, ALERTS_PAGE_SIZE);\n    return `<button class=\"tf-btn show-more-btn\" data-timeframe=\"${timeframe}\">\u25BC Show ${nextBatch} more (${shown}/${total})</button>`;\n}\n\nexport function renderDivergenceOverview(): void {\n    const allSignals = getDivergenceSignals();\n    primeDivergenceSummaryCacheFromAlerts(allSignals);\n    dailyVisibleCount = ALERTS_PAGE_SIZE;\n    weeklyVisibleCount = ALERTS_PAGE_SIZE;\n    const dailyContainer = document.getElementById('divergence-daily-container');\n    const weeklyContainer = document.getElementById('divergence-weekly-container');\n    if (!dailyContainer || !weeklyContainer) return;\n\n    let daily = allSignals.filter((a) => (a.timeframe || '').trim() === '1d');\n    let weekly = allSignals.filter((a) => (a.timeframe || '').trim() === '1w');\n\n    // Apply per-column date filter (last N fetch days)\n    daily = applyColumnDateFilter(daily, dailyFeedMode);\n    weekly = applyColumnDateFilter(weekly, weeklyFeedMode);\n\n    if (dailySortMode === 'favorite') {\n        daily = daily.filter(a => a.is_favorite);\n    }\n    if (weeklySortMode === 'favorite') {\n        weekly = weekly.filter(a => a.is_favorite);\n    }\n\n    daily.sort(createAlertSortFn(dailySortMode === 'favorite' ? 'time' : dailySortMode, dailySortDirection));\n    weekly.sort(createAlertSortFn(weeklySortMode === 'favorite' ? 'time' : weeklySortMode, weeklySortDirection));\n\n    const dailySlice = daily.slice(0, dailyVisibleCount);\n    const weeklySlice = weekly.slice(0, weeklyVisibleCount);\n\n    dailyContainer.innerHTML = dailySlice.map(createAlertCard).join('')\n        + showMoreButtonHtml(dailySlice.length, daily.length, '1d');\n    weeklyContainer.innerHTML = weeklySlice.map(createAlertCard).join('')\n        + showMoreButtonHtml(weeklySlice.length, weekly.length, '1w');\n    renderAlertCardDivergenceTablesFromCache(dailyContainer);\n    renderAlertCardDivergenceTablesFromCache(weeklyContainer);\n}\n\n/**\n * Fetch signals for a single timeframe and update only that timeframe's state.\n * Uses per-column feed mode for date range.\n * The other timeframe's signals are left completely untouched.\n */\nexport async function fetchDivergenceSignalsByTimeframe(timeframe: '1d' | '1w'): Promise<Alert[]> {\n    try {\n        const column: 'daily' | 'weekly' = timeframe === '1d' ? 'daily' : 'weekly';\n        const mode = getColumnFeedMode(column);\n        const custom = getColumnCustomDates(column);\n\n        const { startDate, endDate } = getDateRangeForMode(mode, custom.from, custom.to);\n        if (!startDate || !endDate) return [];\n\n        const params = `?start_date=${startDate}&end_date=${endDate}&timeframe=${timeframe}`;\n        const data = await fetchDivergenceSignalsFromApi(params);\n        primeDivergenceSummaryCacheFromAlerts(data);\n        setDivergenceSignalsByTimeframe(timeframe, data);\n        return data;\n    } catch (error) {\n        console.error(`Error fetching divergence signals for ${timeframe}:`, error);\n        return [];\n    }\n}\n\n/**\n * Re-render only a single timeframe container, leaving the other untouched.\n */\nexport function renderDivergenceContainer(timeframe: '1d' | '1w'): void {\n    const allSignals = getDivergenceSignals();\n    const containerId = timeframe === '1d' ? 'divergence-daily-container' : 'divergence-weekly-container';\n    const container = document.getElementById(containerId);\n    if (!container) return;\n\n    const column: 'daily' | 'weekly' = timeframe === '1d' ? 'daily' : 'weekly';\n    const mode = getColumnFeedMode(column);\n    const sortMode = timeframe === '1d' ? dailySortMode : weeklySortMode;\n    const sortDirection = timeframe === '1d' ? dailySortDirection : weeklySortDirection;\n    let signals = allSignals.filter((a) => (a.timeframe || '').trim() === timeframe);\n\n    // Apply per-column date filter (last N fetch days)\n    signals = applyColumnDateFilter(signals, mode);\n\n    if (sortMode === 'favorite') {\n        signals = signals.filter(a => a.is_favorite);\n    }\n\n    signals.sort(createAlertSortFn(sortMode === 'favorite' ? 'time' : sortMode, sortDirection));\n\n    const visibleCount = timeframe === '1d' ? dailyVisibleCount : weeklyVisibleCount;\n    const slice = signals.slice(0, visibleCount);\n\n    container.innerHTML = slice.map(createAlertCard).join('')\n        + showMoreButtonHtml(slice.length, signals.length, timeframe);\n    renderAlertCardDivergenceTablesFromCache(container);\n}\n\n// --- Mini-chart hover helpers ---\n\nfunction destroyMiniChartOverlay(): void {\n    if (miniChartHoverTimer !== null) {\n        window.clearTimeout(miniChartHoverTimer);\n        miniChartHoverTimer = null;\n    }\n    if (miniChartAbortController) {\n        try { miniChartAbortController.abort(); } catch { /* ignore */ }\n        miniChartAbortController = null;\n    }\n    if (miniChartInstance) {\n        try { miniChartInstance.remove(); } catch { /* ignore */ }\n        miniChartInstance = null;\n    }\n    if (miniChartOverlayEl) {\n        miniChartOverlayEl.remove();\n        miniChartOverlayEl = null;\n    }\n    miniChartCurrentTicker = null;\n    miniChartHoveredCard = null;\n}\n\nasync function showMiniChartOverlay(ticker: string, cardRect: DOMRect): Promise<void> {\n    if (miniChartCurrentTicker === ticker && miniChartOverlayEl) return;\n    destroyMiniChartOverlay();\n    miniChartCurrentTicker = ticker;\n\n    // Create overlay element\n    const overlay = document.createElement('div');\n    overlay.className = 'mini-chart-overlay';\n    overlay.style.cssText = `\n        position: fixed;\n        width: 500px;\n        height: 300px;\n        background: #0d1117;\n        border: 1px solid #30363d;\n        border-radius: 6px;\n        z-index: 1000;\n        pointer-events: none;\n        overflow: hidden;\n        box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);\n    `;\n\n    // Position: prefer right of card, fall back to left\n    const OVERLAY_W = 500;\n    const OVERLAY_H = 300;\n    const GAP = 8;\n    let left = cardRect.right + GAP;\n    let top = cardRect.top;\n    if (left + OVERLAY_W > window.innerWidth) {\n        left = cardRect.left - OVERLAY_W - GAP;\n    }\n    if (left < 0) left = GAP;\n    if (top + OVERLAY_H > window.innerHeight) {\n        top = window.innerHeight - OVERLAY_H - GAP;\n    }\n    if (top < 0) top = GAP;\n\n    overlay.style.left = `${left}px`;\n    overlay.style.top = `${top}px`;\n    document.body.appendChild(overlay);\n    miniChartOverlayEl = overlay;\n\n    // Fetch cached daily bars from server (populated during daily/weekly scans)\n    let bars: Array<{ time: string | number; open: number; high: number; low: number; close: number }>;\n    const cached = miniChartDataCache.get(ticker);\n    if (cached) {\n        bars = cached;\n    } else {\n        const controller = new AbortController();\n        miniChartAbortController = controller;\n        try {\n            const res = await fetch(`/api/chart/mini-bars?ticker=${encodeURIComponent(ticker)}`, {\n                signal: controller.signal,\n            });\n            if (!res.ok) throw new Error(`HTTP ${res.status}`);\n            const data = await res.json();\n            bars = Array.isArray(data?.bars) ? data.bars : [];\n            if (bars.length > 0) miniChartDataCache.set(ticker, bars);\n        } catch {\n            if (miniChartCurrentTicker === ticker) destroyMiniChartOverlay();\n            return;\n        }\n        miniChartAbortController = null;\n    }\n\n    // Guard: overlay may have been destroyed during await\n    if (miniChartCurrentTicker !== ticker || !miniChartOverlayEl) return;\n\n    if (bars.length === 0) {\n        destroyMiniChartOverlay();\n        return;\n    }\n\n    // Create lightweight-charts instance\n    const chart = createChart(overlay, {\n        width: 500,\n        height: 300,\n        layout: {\n            background: { color: '#0d1117' },\n            textColor: '#d1d4dc',\n            fontFamily: \"'SF Mono', 'Menlo', 'Monaco', 'Consolas', monospace\",\n            attributionLogo: false,\n        },\n        grid: { vertLines: { visible: false }, horzLines: { visible: false } },\n        rightPriceScale: { visible: false },\n        timeScale: { visible: false },\n        handleScroll: false,\n        handleScale: false,\n        crosshair: {\n            vertLine: { visible: false },\n            horzLine: { visible: false },\n        },\n    });\n    miniChartInstance = chart;\n\n    // Candlestick series\n    const candleSeries = chart.addCandlestickSeries({\n        upColor: '#26a69a',\n        downColor: '#ef5350',\n        borderVisible: false,\n        wickUpColor: '#26a69a',\n        wickDownColor: '#ef5350',\n        priceLineVisible: false,\n        lastValueVisible: false,\n    });\n    candleSeries.setData(bars as any);\n    chart.timeScale().fitContent();\n}\n\nfunction handleFavoriteClick(e: Event): void {\n    const target = e.target as HTMLElement;\n    const starBtn = target.closest('.fav-icon');\n    if (!starBtn) return;\n\n    e.stopPropagation();\n    const id = (starBtn as HTMLElement).dataset.id;\n    const source = 'DataAPI';\n    if (!id) return;\n\n    const allStars = document.querySelectorAll(`.fav-icon[data-id=\"${id}\"][data-source=\"${source}\"]`);\n    const isCurrentlyFilled = starBtn.classList.contains('filled');\n\n    allStars.forEach(star => {\n        const checkmark = star.querySelector('.check-mark') as HTMLElement | null;\n        if (!isCurrentlyFilled) {\n            star.classList.add('filled');\n            if (checkmark) {\n                checkmark.style.visibility = 'visible';\n                checkmark.style.opacity = '1';\n            }\n        } else {\n            star.classList.remove('filled');\n            if (checkmark) {\n                checkmark.style.visibility = 'hidden';\n                checkmark.style.opacity = '0';\n            }\n        }\n    });\n    toggleDivergenceFavorite(Number(id)).then((updatedAlert) => {\n        const all = getDivergenceSignals();\n        const idx = all.findIndex((a) => a.id === updatedAlert.id);\n        if (idx !== -1) {\n            all[idx].is_favorite = updatedAlert.is_favorite;\n            setDivergenceSignals(all);\n        }\n        allStars.forEach(star => {\n            const checkmark = star.querySelector('.check-mark') as HTMLElement | null;\n            if (updatedAlert.is_favorite) {\n                star.classList.add('filled');\n                if (checkmark) {\n                    checkmark.style.visibility = 'visible';\n                    checkmark.style.opacity = '1';\n                }\n            } else {\n                star.classList.remove('filled');\n                if (checkmark) {\n                    checkmark.style.visibility = 'hidden';\n                    checkmark.style.opacity = '0';\n                }\n            }\n        });\n    }).catch(() => {\n        allStars.forEach(star => {\n            const checkmark = star.querySelector('.check-mark') as HTMLElement | null;\n            if (isCurrentlyFilled) {\n                star.classList.add('filled');\n                if (checkmark) {\n                    checkmark.style.visibility = 'visible';\n                    checkmark.style.opacity = '1';\n                }\n            } else {\n                star.classList.remove('filled');\n                if (checkmark) {\n                    checkmark.style.visibility = 'hidden';\n                    checkmark.style.opacity = '0';\n                }\n            }\n        });\n    });\n}\n\nexport function setupDivergenceFeedDelegation(): void {\n    const view = document.getElementById('view-divergence');\n    if (!view) return;\n\n    // Favorite toggle \u2014 attach to both alerts page and ticker page\n    view.addEventListener('click', handleFavoriteClick);\n    const tickerView = document.getElementById('ticker-view');\n    if (tickerView) {\n        tickerView.addEventListener('click', handleFavoriteClick);\n    }\n\n    view.addEventListener('click', (e) => {\n        const target = e.target as HTMLElement;\n        if (target.closest('.fav-icon')) return; // Already handled above\n\n        const card = target.closest('.alert-card');\n        if (card) {\n            const ticker = (card as HTMLElement).dataset.ticker;\n            if (ticker && window.showTickerView) {\n                // Determine context\n                let listContext: 'daily' | 'weekly' | null = null;\n                if (card.closest('#divergence-daily-container')) {\n                    listContext = 'daily';\n                } else if (card.closest('#divergence-weekly-container')) {\n                    listContext = 'weekly';\n                }\n                window.showTickerView(ticker, 'divergence', listContext);\n            }\n        }\n    });\n\n    // Sort Buttons\n    document.querySelectorAll('#view-divergence .divergence-daily-sort .tf-btn').forEach(btn => {\n        btn.addEventListener('click', () => {\n            const mode = (btn as HTMLElement).dataset.sort as SortMode;\n            setDivergenceDailySort(mode);\n        });\n    });\n\n    document.querySelectorAll('#view-divergence .divergence-weekly-sort .tf-btn').forEach(btn => {\n        btn.addEventListener('click', () => {\n            const mode = (btn as HTMLElement).dataset.sort as SortMode;\n            setDivergenceWeeklySort(mode);\n        });\n    });\n\n    // --- Mini-chart hover overlay on alert cards ---\n    // Use capture phase because mouseenter/mouseleave don't bubble.\n    // Guard with relatedTarget so moves between children within the same card\n    // don't destroy/restart the overlay.\n    view.addEventListener('mouseenter', (e: Event) => {\n        const me = e as MouseEvent;\n        const target = me.target as HTMLElement;\n        const card = target.closest('.alert-card') as HTMLElement | null;\n        if (!card) return;\n        const ticker = card.dataset.ticker;\n        if (!ticker) return;\n\n        // If we're already tracking this card (mouse moved between children), skip\n        if (miniChartHoveredCard === card) return;\n        miniChartHoveredCard = card;\n\n        if (miniChartHoverTimer !== null) {\n            window.clearTimeout(miniChartHoverTimer);\n        }\n        miniChartHoverTimer = window.setTimeout(() => {\n            miniChartHoverTimer = null;\n            const rect = card.getBoundingClientRect();\n            showMiniChartOverlay(ticker, rect);\n        }, 1000);\n    }, true);\n\n    view.addEventListener('mouseleave', (e: Event) => {\n        const me = e as MouseEvent;\n        const target = me.target as HTMLElement;\n        const card = target.closest('.alert-card') as HTMLElement | null;\n        if (!card) return;\n        // If the mouse is moving to another element still within this card, ignore\n        const relatedTarget = me.relatedTarget as HTMLElement | null;\n        if (relatedTarget && card.contains(relatedTarget)) return;\n        miniChartHoveredCard = null;\n        destroyMiniChartOverlay();\n    }, true);\n\n    // \"Show more\" pagination button\n    view.addEventListener('click', (e: Event) => {\n        const btn = (e.target as HTMLElement).closest('.show-more-btn') as HTMLElement | null;\n        if (!btn) return;\n        const tf = btn.dataset.timeframe as '1d' | '1w' | undefined;\n        if (!tf) return;\n        if (tf === '1d') {\n            dailyVisibleCount += ALERTS_PAGE_SIZE;\n            renderDivergenceContainer('1d');\n        } else {\n            weeklyVisibleCount += ALERTS_PAGE_SIZE;\n            renderDivergenceContainer('1w');\n        }\n    });\n}\n\nexport function setDivergenceDailySort(mode: SortMode): void {\n    if (mode === dailySortMode && mode !== 'favorite') {\n        dailySortDirection = dailySortDirection === 'desc' ? 'asc' : 'desc';\n    } else {\n        dailySortMode = mode;\n        dailySortDirection = 'desc';\n    }\n    dailyVisibleCount = ALERTS_PAGE_SIZE;\n    updateSortButtonUi('#view-divergence .divergence-daily-sort', dailySortMode, dailySortDirection);\n    renderDivergenceContainer('1d');\n}\n\nexport function setDivergenceWeeklySort(mode: SortMode): void {\n    if (mode === weeklySortMode && mode !== 'favorite') {\n        weeklySortDirection = weeklySortDirection === 'desc' ? 'asc' : 'desc';\n    } else {\n        weeklySortMode = mode;\n        weeklySortDirection = 'desc';\n    }\n    weeklyVisibleCount = ALERTS_PAGE_SIZE;\n    updateSortButtonUi('#view-divergence .divergence-weekly-sort', weeklySortMode, weeklySortDirection);\n    renderDivergenceContainer('1w');\n}\n\nexport function initializeDivergenceSortDefaults(): void {\n    dailySortMode = 'score';\n    dailySortDirection = 'desc';\n    weeklySortMode = 'score';\n    weeklySortDirection = 'desc';\n    dailyFeedMode = '1';\n    weeklyFeedMode = '1';\n    updateSortButtonUi('#view-divergence .divergence-daily-sort', dailySortMode, dailySortDirection);\n    updateSortButtonUi('#view-divergence .divergence-weekly-sort', weeklySortMode, weeklySortDirection);\n}\n// ... existing code ...\n\n/**\n * Set the feed mode for a specific column (daily or weekly) independently.\n * Updates the dropdown UI and optionally re-fetches + re-renders that column.\n */\nexport function setColumnFeedMode(column: 'daily' | 'weekly', mode: ColumnFeedMode, fetchData = true): void {\n    if (column === 'daily') {\n        dailyFeedMode = mode;\n    } else {\n        weeklyFeedMode = mode;\n    }\n\n    // Update button active state for all instances of this column\n    document.querySelectorAll(`.column-tf-controls[data-column=\"${column}\"]`).forEach(controls => {\n        controls.querySelectorAll('.tf-btn[data-tf]').forEach(btn => {\n            const el = btn as HTMLElement;\n            el.classList.toggle('active', el.dataset.tf === mode);\n        });\n    });\n\n    if (fetchData) {\n        const timeframe: '1d' | '1w' = column === 'daily' ? '1d' : '1w';\n        fetchDivergenceSignalsByTimeframe(timeframe).then(() => renderDivergenceContainer(timeframe));\n    }\n}\n\n", "import { getAlerts } from './state';\nimport { getDivergenceSignals } from './divergenceState';\nimport { createAlertCard } from './components';\nimport { primeDivergenceSummaryCacheFromAlerts, renderAlertCardDivergenceTablesFromCache } from './divergenceTable';\nimport { SortMode } from './types';\nimport { createAlertSortFn, updateSortButtonUi } from './utils';\nimport { renderCustomChart } from './chart';\nimport { getColumnFeedMode, filterToLatestNDates, ColumnFeedMode } from './divergenceFeed';\n\nlet tickerDailySortMode: SortMode = 'score';\nlet tickerWeeklySortMode: SortMode = 'score';\nlet tickerDailySortDirection: 'asc' | 'desc' = 'desc';\nlet tickerWeeklySortDirection: 'asc' | 'desc' = 'desc';\n\ninterface RenderTickerViewOptions {\n    refreshCharts?: boolean;\n}\n\nexport function setTickerDailySort(mode: SortMode): void {\n    if (mode === tickerDailySortMode && mode !== 'favorite') {\n        tickerDailySortDirection = tickerDailySortDirection === 'desc' ? 'asc' : 'desc';\n    } else {\n        tickerDailySortMode = mode;\n        tickerDailySortDirection = 'desc';\n    }\n    updateSortButtonUi('.ticker-daily-sort', tickerDailySortMode, tickerDailySortDirection);\n    const tickerContainer = document.getElementById('ticker-view');\n    if (!tickerContainer) return;\n    const currentTicker = tickerContainer.dataset.ticker;\n    if (currentTicker) renderTickerView(currentTicker, { refreshCharts: false });\n}\n\nexport function setTickerWeeklySort(mode: SortMode): void {\n    if (mode === tickerWeeklySortMode && mode !== 'favorite') {\n        tickerWeeklySortDirection = tickerWeeklySortDirection === 'desc' ? 'asc' : 'desc';\n    } else {\n        tickerWeeklySortMode = mode;\n        tickerWeeklySortDirection = 'desc';\n    }\n    updateSortButtonUi('.ticker-weekly-sort', tickerWeeklySortMode, tickerWeeklySortDirection);\n    const tickerContainer = document.getElementById('ticker-view');\n    if (!tickerContainer) return;\n    const currentTicker = tickerContainer.dataset.ticker;\n    if (currentTicker) renderTickerView(currentTicker, { refreshCharts: false });\n}\n\nexport function renderTickerView(ticker: string, options: RenderTickerViewOptions = {}): void {\n    const refreshCharts = options.refreshCharts !== false;\n    const allAlerts = [...getAlerts(), ...getDivergenceSignals()];\n    primeDivergenceSummaryCacheFromAlerts(allAlerts);\n    const alerts = allAlerts.filter(a => a.ticker === ticker);\n    \n    let daily = alerts.filter(a => (a.timeframe || '').trim() === '1d');\n    let weekly = alerts.filter(a => (a.timeframe || '').trim() === '1w');\n\n    // Apply per-column date filter (last N fetch days)\n    const applyTickerDateFilter = (alerts: typeof daily, mode: ColumnFeedMode) => {\n        if (mode === '1') return filterToLatestNDates(alerts, 1);\n        if (mode === '2') return filterToLatestNDates(alerts, 2);\n        if (mode === '5') return filterToLatestNDates(alerts, 5);\n        return alerts;\n    };\n    daily = applyTickerDateFilter(daily, getColumnFeedMode('daily'));\n    weekly = applyTickerDateFilter(weekly, getColumnFeedMode('weekly'));\n\n    if (tickerDailySortMode === 'favorite') {\n        daily = daily.filter(a => a.is_favorite);\n    }\n    if (tickerWeeklySortMode === 'favorite') {\n        weekly = weekly.filter(a => a.is_favorite);\n    }\n\n    daily.sort(createAlertSortFn(tickerDailySortMode === 'favorite' ? 'time' : tickerDailySortMode, tickerDailySortDirection));\n    weekly.sort(createAlertSortFn(tickerWeeklySortMode === 'favorite' ? 'time' : tickerWeeklySortMode, tickerWeeklySortDirection));\n    \n    // renderAvg removed\n    \n    const dailyContainer = document.getElementById('ticker-daily-container');\n    if (dailyContainer) {\n        dailyContainer.innerHTML = daily.map(createAlertCard).join('');\n        if (daily.length > 0) renderAlertCardDivergenceTablesFromCache(dailyContainer);\n    }\n\n    const weeklyContainer = document.getElementById('ticker-weekly-container');\n    if (weeklyContainer) {\n        weeklyContainer.innerHTML = weekly.map(createAlertCard).join('');\n        if (weekly.length > 0) renderAlertCardDivergenceTablesFromCache(weeklyContainer);\n    }\n\n    if (refreshCharts) {\n        renderCustomChart(ticker);\n    }\n}\n", "import { getAppTimeZone } from './timezone';\n\n// Chart.js is loaded globally via CDN in index.html\ndeclare const Chart: any;\n\ninterface BreadthDataPoint {\n    date: string;\n    spy: number;\n    comparison: number;\n}\n\nlet breadthChart: any = null;\nlet currentTimeframeDays = 5;\nlet currentMetric: 'SVIX' | 'RSP' | 'MAGS' = 'SVIX';\n\nexport function getCurrentBreadthTimeframe(): number {\n    return currentTimeframeDays;\n}\n\nexport function getCurrentBreadthMetric(): string {\n    return currentMetric;\n}\n\ninterface BreadthResponse {\n    intraday: boolean;\n    points: BreadthDataPoint[];\n}\n\nasync function fetchBreadthData(ticker: string, days: number): Promise<BreadthResponse> {\n    const response = await fetch(`/api/breadth?ticker=${ticker}&days=${days}`);\n    if (!response.ok) {\n        throw new Error('Failed to fetch breadth data');\n    }\n    return response.json();\n}\n\nfunction normalize(values: number[]): number[] {\n    if (values.length === 0) return [];\n    const base = values[0];\n    if (base === 0) return values.map(() => 100);\n    return values.map(v => (v / base) * 100);\n}\n\nfunction renderBreadthChart(data: BreadthDataPoint[], compLabel: string, intraday: boolean): void {\n    const canvas = document.getElementById('breadth-chart') as HTMLCanvasElement;\n    if (!canvas) return;\n    const appTimeZone = getAppTimeZone();\n\n    // Destroy previous chart\n    if (breadthChart) {\n        breadthChart.destroy();\n        breadthChart = null;\n    }\n\n    const intradayDayCount = intraday\n        ? new Set(\n            data.map(d =>\n                new Date(d.date).toLocaleDateString('en-US', {\n                    timeZone: appTimeZone,\n                })\n            )\n        ).size\n        : 0;\n\n    const labels = data.map(d => {\n        if (intraday) {\n            const date = new Date(d.date);\n            if (intradayDayCount > 1) {\n                return date.toLocaleDateString('en-US', {\n                    month: 'numeric',\n                    day: 'numeric',\n                    timeZone: appTimeZone\n                });\n            }\n            return date.toLocaleTimeString('en-US', {\n                hour: 'numeric',\n                minute: '2-digit',\n                timeZone: appTimeZone\n            });\n        }\n        const date = new Date(d.date + 'T00:00:00');\n        return date.toLocaleDateString('en-US', {\n            month: 'short',\n            day: 'numeric',\n            timeZone: appTimeZone\n        });\n    });\n\n    const spyRaw = data.map(d => d.spy);\n    const compRaw = data.map(d => d.comparison);\n\n    const spyNorm = normalize(spyRaw);\n    const compNorm = normalize(compRaw);\n\n    // Fill colors: green when SPY < comparison (healthy breadth), red otherwise\n\n    breadthChart = new Chart(canvas, {\n        type: 'line',\n        data: {\n            labels,\n            datasets: [\n                {\n                    label: 'SPY',\n                    data: spyNorm,\n                    borderColor: '#58a6ff',\n                    backgroundColor: 'transparent',\n                    borderWidth: 2.5,\n                    pointRadius: spyNorm.length > 15 ? 0 : 3,\n                    pointHoverRadius: 5,\n                    tension: 0.3,\n                    order: 1,\n                    fill: false,\n                },\n                {\n                    label: compLabel,\n                    data: compNorm,\n                    borderColor: '#d2a8ff',\n                    backgroundColor: 'transparent',\n                    borderWidth: 2.5,\n                    pointRadius: compNorm.length > 15 ? 0 : 3,\n                    pointHoverRadius: 5,\n                    tension: 0.3,\n                    order: 2,\n                    // Fill to the SPY dataset (index 0)\n                    fill: {\n                        target: 0,\n                        above: 'rgba(63, 185, 80, 0.18)',   // comparison above SPY \u2192 SPY < comparison \u2192 green\n                        below: 'rgba(248, 81, 73, 0.18)',   // comparison below SPY \u2192 SPY > comparison \u2192 red\n                    },\n                },\n            ],\n        },\n        options: {\n            responsive: true,\n            maintainAspectRatio: false,\n            interaction: {\n                mode: 'index',\n                intersect: false,\n            },\n            plugins: {\n                legend: {\n                    labels: {\n                        color: '#c9d1d9',\n                        font: { size: 12 },\n                        usePointStyle: true,\n                        pointStyle: 'line',\n                    },\n                },\n                tooltip: {\n                    backgroundColor: 'rgba(22, 27, 34, 0.95)',\n                    borderColor: '#30363d',\n                    borderWidth: 1,\n                    titleColor: '#c9d1d9',\n                    bodyColor: '#8b949e',\n                    padding: 12,\n                    callbacks: {\n                        label: function(context: any) {\n                            const val = context.parsed.y.toFixed(2);\n                            return `${context.dataset.label}: ${val}`;\n                        }\n                    }\n                },\n                filler: {\n                    propagate: true,\n                },\n            },\n            scales: {\n                x: {\n                    ticks: {\n                        color: '#8b949e',\n                        maxRotation: 0,\n                        autoSkip: true,\n                        maxTicksLimit: 10,\n                        font: { size: 11 },\n                    },\n                    grid: {\n                        color: 'rgba(48, 54, 61, 0.3)',\n                    },\n                },\n                y: {\n                    ticks: {\n                        color: '#8b949e',\n                        font: { size: 11 },\n                        callback: function(value: number | string) {\n                            return (value as number).toFixed(1);\n                        },\n                    },\n                    grid: {\n                        color: 'rgba(48, 54, 61, 0.3)',\n                    },\n                },\n            },\n        },\n    });\n}\n\nasync function loadBreadth(): Promise<void> {\n\n    const error = document.getElementById('breadth-error');\n\n    if (error) error.style.display = 'none';\n\n    try {\n        const response = await fetchBreadthData(currentMetric, currentTimeframeDays);\n\n\n        if (response.points.length === 0) {\n            if (error) {\n                error.textContent = 'No data available for this timeframe';\n                error.style.display = 'block';\n            }\n            return;\n        }\n\n        renderBreadthChart(response.points, currentMetric, response.intraday);\n    } catch (err) {\n        console.error('Breadth load error:', err);\n\n        if (error) {\n            error.textContent = 'Failed to load breadth data';\n            error.style.display = 'block';\n        }\n    }\n}\n\nexport function setBreadthTimeframe(days: number): void {\n    currentTimeframeDays = days;\n\n    // Update active button\n    document.querySelectorAll('#breadth-tf-btns .tf-btn').forEach(btn => {\n        btn.classList.toggle('active', Number((btn as HTMLElement).dataset.days) === days);\n    });\n\n    loadBreadth();\n}\n\nexport function setBreadthMetric(metric: 'SVIX' | 'RSP' | 'MAGS'): void {\n    currentMetric = metric;\n\n    // Update active button\n    document.querySelectorAll('#breadth-metric-btns .tf-btn').forEach(btn => {\n        btn.classList.toggle('active', (btn as HTMLElement).dataset.metric === metric);\n    });\n\n    loadBreadth();\n}\n\nexport function initBreadth(): void {\n    loadBreadth();\n}\n", "interface RunTickerMetrics {\n    total?: number;\n    processed?: number;\n    errors?: number;\n    processedPerSecond?: number;\n}\n\ninterface RunApiMetrics {\n    calls?: number;\n    failures?: number;\n    rateLimited?: number;\n    timedOut?: number;\n    p95LatencyMs?: number;\n    avgLatencyMs?: number;\n}\n\ninterface RunDbMetrics {\n    flushCount?: number;\n    summaryRows?: number;\n    signalRows?: number;\n    avgFlushMs?: number;\n}\n\ninterface RunMetricsSnapshot {\n    runId?: string;\n    runType?: string;\n    status?: string;\n    phase?: string;\n    startedAt?: string;\n    finishedAt?: string | null;\n    durationSeconds?: number;\n    tickers?: RunTickerMetrics;\n    api?: RunApiMetrics;\n    db?: RunDbMetrics;\n    failedTickers?: string[];\n    retryRecovered?: string[];\n}\n\ninterface RunMetricsPayload {\n    generatedAt?: string;\n    schedulerEnabled?: boolean;\n    config?: {\n        divergenceSourceInterval?: string;\n        divergenceLookbackDays?: number;\n        divergenceConcurrencyConfigured?: number;\n        divergenceFlushSize?: number;\n        dataApiBase?: string;\n        dataApiTimeoutMs?: number;\n        dataApiMaxRequestsPerSecond?: number;\n        dataApiRateBucketCapacity?: number;\n    };\n    statuses?: {\n        fetchDaily?: { status?: string; running?: boolean; processed_tickers?: number; total_tickers?: number } | null;\n        fetchWeekly?: { status?: string; running?: boolean; processed_tickers?: number; total_tickers?: number } | null;\n        vdfScan?: { status?: string; running?: boolean; processed_tickers?: number; total_tickers?: number; detected_tickers?: number } | null;\n    };\n    runs?: {\n        fetchDaily?: RunMetricsSnapshot | null;\n        fetchWeekly?: RunMetricsSnapshot | null;\n        vdfScan?: RunMetricsSnapshot | null;\n    };\n    history?: RunMetricsSnapshot[];\n}\n\nlet logsPollTimer: number | null = null;\nlet logsRefreshInFlight = false;\n\nfunction escapeHtml(value: unknown): string {\n    return String(value ?? '')\n        .replace(/&/g, '&amp;')\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&#39;');\n}\n\nfunction fmtNumber(value: unknown, digits = 0): string {\n    const num = Number(value);\n    if (!Number.isFinite(num)) return '--';\n    return num.toFixed(Math.max(0, digits));\n}\n\nfunction fmtStatus(value: unknown): string {\n    const raw = String(value || '').trim();\n    if (!raw) return 'idle';\n    return raw;\n}\n\nfunction fmtIsoToLocal(value: unknown): string {\n    const raw = String(value || '').trim();\n    if (!raw) return '--';\n    const parsed = new Date(raw);\n    if (Number.isNaN(parsed.getTime())) return '--';\n    return parsed.toLocaleString();\n}\n\nfunction buildRunCardHtml(\n    title: string,\n    run: RunMetricsSnapshot | null | undefined,\n    statusFallback: { status?: string; running?: boolean; processed_tickers?: number; total_tickers?: number } | null | undefined\n): string {\n    const statusText = fmtStatus(run?.status || statusFallback?.status || (statusFallback?.running ? 'running' : 'idle'));\n    const processed = Number(run?.tickers?.processed ?? statusFallback?.processed_tickers ?? 0);\n    const total = Number(run?.tickers?.total ?? statusFallback?.total_tickers ?? 0);\n    const errors = Number(run?.tickers?.errors ?? 0);\n    const p95 = fmtNumber(run?.api?.p95LatencyMs, 1);\n    const avg = fmtNumber(run?.api?.avgLatencyMs, 1);\n    const calls = fmtNumber(run?.api?.calls, 0);\n    const failures = fmtNumber(run?.api?.failures, 0);\n    const rateLimited = fmtNumber(run?.api?.rateLimited, 0);\n    const flushes = fmtNumber(run?.db?.flushCount, 0);\n    const summaryRows = fmtNumber(run?.db?.summaryRows, 0);\n    const signalRows = fmtNumber(run?.db?.signalRows, 0);\n    const duration = fmtNumber(run?.durationSeconds, 1);\n    const phase = escapeHtml(run?.phase || '--');\n\n    const failedList = Array.isArray(run?.failedTickers) ? run.failedTickers : [];\n    const recoveredList = Array.isArray(run?.retryRecovered) ? run.retryRecovered : [];\n    const failedCount = failedList.length;\n    const recoveredCount = recoveredList.length;\n\n    let failedSection = '';\n    if (failedCount > 0 || recoveredCount > 0) {\n        const failedItems = failedList.map(t => `<span class=\"log-failed-ticker\">${escapeHtml(t)}</span>`).join('');\n        const recoveredItems = recoveredList.map(t => `<span class=\"log-recovered-ticker\">${escapeHtml(t)}</span>`).join('');\n        failedSection = `\n          <details class=\"log-failed-details\">\n            <summary class=\"log-failed-summary\">\n              ${failedCount > 0 ? `${failedCount} failed` : ''}${failedCount > 0 && recoveredCount > 0 ? ', ' : ''}${recoveredCount > 0 ? `${recoveredCount} recovered via retry` : ''}\n            </summary>\n            <div class=\"log-failed-body\">\n              ${failedCount > 0 ? `<div class=\"log-failed-label\">Failed:</div><div class=\"log-failed-list\">${failedItems}</div>` : ''}\n              ${recoveredCount > 0 ? `<div class=\"log-recovered-label\">Recovered:</div><div class=\"log-failed-list\">${recoveredItems}</div>` : ''}\n            </div>\n          </details>\n        `;\n    }\n\n    return `\n      <article class=\"log-run-card\">\n        <div class=\"log-run-card-title\">\n          <span>${escapeHtml(title)}</span>\n          <span class=\"log-run-card-status\">${escapeHtml(statusText)}</span>\n        </div>\n        <div class=\"log-run-metrics\">\n          <span class=\"log-metric-key\">Tickers</span><span class=\"log-metric-val\">${processed}/${total || 0}</span>\n          <span class=\"log-metric-key\">Errors</span><span class=\"log-metric-val\">${errors}</span>\n          <span class=\"log-metric-key\">API calls</span><span class=\"log-metric-val\">${calls}</span>\n          <span class=\"log-metric-key\">API fail</span><span class=\"log-metric-val\">${failures}</span>\n          <span class=\"log-metric-key\">429 count</span><span class=\"log-metric-val\">${rateLimited}</span>\n          <span class=\"log-metric-key\">API p95 ms</span><span class=\"log-metric-val\">${p95}</span>\n          <span class=\"log-metric-key\">API avg ms</span><span class=\"log-metric-val\">${avg}</span>\n          <span class=\"log-metric-key\">DB flushes</span><span class=\"log-metric-val\">${flushes}</span>\n          <span class=\"log-metric-key\">Summary rows</span><span class=\"log-metric-val\">${summaryRows}</span>\n          <span class=\"log-metric-key\">Signal rows</span><span class=\"log-metric-val\">${signalRows}</span>\n          <span class=\"log-metric-key\">Duration s</span><span class=\"log-metric-val\">${duration}</span>\n          <span class=\"log-metric-key\">Phase</span><span class=\"log-metric-val\">${phase}</span>\n        </div>\n        ${failedSection}\n      </article>\n    `;\n}\n\nfunction buildConfigCardHtml(payload: RunMetricsPayload): string {\n    const config = payload.config || {};\n    const source = escapeHtml(config.divergenceSourceInterval || '--');\n    const lookback = fmtNumber(config.divergenceLookbackDays, 0);\n    const concurrency = fmtNumber(config.divergenceConcurrencyConfigured, 0);\n    const flushSize = fmtNumber(config.divergenceFlushSize, 0);\n    const rps = fmtNumber(config.dataApiMaxRequestsPerSecond, 0);\n    const bucket = fmtNumber(config.dataApiRateBucketCapacity, 0);\n    const timeout = fmtNumber(config.dataApiTimeoutMs, 0);\n    const scheduler = payload.schedulerEnabled ? 'on' : 'off';\n\n    return `\n      <article class=\"log-run-card\">\n        <div class=\"log-run-card-title\">\n          <span>Runtime Config</span>\n          <span class=\"log-run-card-status\">${escapeHtml(scheduler)}</span>\n        </div>\n        <div class=\"log-run-metrics\">\n          <span class=\"log-metric-key\">Source</span><span class=\"log-metric-val\">${source}</span>\n          <span class=\"log-metric-key\">Lookback d</span><span class=\"log-metric-val\">${lookback}</span>\n          <span class=\"log-metric-key\">Concurrency</span><span class=\"log-metric-val\">${concurrency}</span>\n          <span class=\"log-metric-key\">Flush size</span><span class=\"log-metric-val\">${flushSize}</span>\n          <span class=\"log-metric-key\">API max rps</span><span class=\"log-metric-val\">${rps}</span>\n          <span class=\"log-metric-key\">Bucket cap</span><span class=\"log-metric-val\">${bucket}</span>\n          <span class=\"log-metric-key\">Timeout ms</span><span class=\"log-metric-val\">${timeout}</span>\n        </div>\n      </article>\n    `;\n}\n\nfunction renderRunCards(payload: RunMetricsPayload): void {\n    const host = document.getElementById('logs-run-cards');\n    if (!host) return;\n    const cards = [\n        buildRunCardHtml('Fetch Daily', payload.runs?.fetchDaily, payload.statuses?.fetchDaily),\n        buildRunCardHtml('Fetch Weekly', payload.runs?.fetchWeekly, payload.statuses?.fetchWeekly),\n        buildRunCardHtml('VDF Scan', payload.runs?.vdfScan, payload.statuses?.vdfScan),\n        buildConfigCardHtml(payload)\n    ];\n    host.innerHTML = cards.join('');\n}\n\nfunction renderHistory(payload: RunMetricsPayload): void {\n    const host = document.getElementById('logs-history-container');\n    if (!host) return;\n    const history = Array.isArray(payload.history) ? payload.history : [];\n    if (history.length === 0) {\n        host.innerHTML = '<div class=\"loading\">No run history yet</div>';\n        return;\n    }\n    host.innerHTML = history.slice(0, 15).map((run) => {\n        const processed = Number(run?.tickers?.processed || 0);\n        const total = Number(run?.tickers?.total || 0);\n        const errors = Number(run?.tickers?.errors || 0);\n        const calls = Number(run?.api?.calls || 0);\n        const p95 = fmtNumber(run?.api?.p95LatencyMs, 1);\n        const failedList = Array.isArray(run?.failedTickers) ? run.failedTickers : [];\n        const recoveredList = Array.isArray(run?.retryRecovered) ? run.retryRecovered : [];\n        const failedCount = failedList.length;\n        const recoveredCount = recoveredList.length;\n\n        let failedSection = '';\n        if (failedCount > 0 || recoveredCount > 0) {\n            const failedItems = failedList.map(t => `<span class=\"log-failed-ticker\">${escapeHtml(t)}</span>`).join('');\n            const recoveredItems = recoveredList.map(t => `<span class=\"log-recovered-ticker\">${escapeHtml(t)}</span>`).join('');\n            failedSection = `\n              <details class=\"log-failed-details\">\n                <summary class=\"log-failed-summary\">\n                  ${failedCount > 0 ? `${failedCount} failed` : ''}${failedCount > 0 && recoveredCount > 0 ? ', ' : ''}${recoveredCount > 0 ? `${recoveredCount} recovered` : ''}\n                </summary>\n                <div class=\"log-failed-body\">\n                  ${failedCount > 0 ? `<div class=\"log-failed-label\">Failed:</div><div class=\"log-failed-list\">${failedItems}</div>` : ''}\n                  ${recoveredCount > 0 ? `<div class=\"log-recovered-label\">Recovered:</div><div class=\"log-failed-list\">${recoveredItems}</div>` : ''}\n                </div>\n              </details>\n            `;\n        }\n\n        return `\n          <article class=\"log-history-entry\">\n            <div class=\"log-history-header\">\n              <span>${escapeHtml(String(run?.runType || 'run'))}</span>\n              <span>${escapeHtml(fmtStatus(run?.status))}</span>\n            </div>\n            <div class=\"log-history-sub\">\n              ${escapeHtml(fmtIsoToLocal(run?.startedAt))} |\n              tickers ${processed}/${total}${errors > 0 ? ` (${errors} err)` : ''} |\n              api ${calls} |\n              p95 ${p95}ms\n            </div>\n            ${failedSection}\n          </article>\n        `;\n    }).join('');\n}\n\nasync function fetchRunMetricsPayload(): Promise<RunMetricsPayload> {\n    const response = await fetch('/api/logs/run-metrics', { cache: 'no-store' });\n    if (!response.ok) {\n        throw new Error(`Failed to fetch run metrics (HTTP ${response.status})`);\n    }\n    return response.json() as Promise<RunMetricsPayload>;\n}\n\nexport async function refreshLogsView(): Promise<void> {\n    if (logsRefreshInFlight) return;\n    logsRefreshInFlight = true;\n    try {\n        const payload = await fetchRunMetricsPayload();\n        renderRunCards(payload);\n        renderHistory(payload);\n    } catch (error) {\n        const host = document.getElementById('logs-history-container');\n        if (host) host.innerHTML = '<div class=\"loading\">Failed to load logs</div>';\n        console.error('Failed to refresh logs view:', error);\n    } finally {\n        logsRefreshInFlight = false;\n    }\n}\n\nexport function startLogsPolling(): void {\n    if (logsPollTimer !== null) return;\n    logsPollTimer = window.setInterval(() => {\n        refreshLogsView().catch(() => {});\n    }, 5000);\n}\n\nexport function stopLogsPolling(): void {\n    if (logsPollTimer === null) return;\n    window.clearInterval(logsPollTimer);\n    logsPollTimer = null;\n}\n\nexport function initLogsView(): void {\n    const refreshBtn = document.getElementById('logs-refresh-btn');\n    refreshBtn?.addEventListener('click', () => {\n        refreshLogsView().catch(() => {});\n    });\n}\n", "import { renderTickerView, setTickerDailySort, setTickerWeeklySort } from './ticker';\nimport { initBreadth, setBreadthTimeframe, setBreadthMetric } from './breadth';\nimport { initChartControls, cancelChartLoading } from './chart';\nimport {\n    initLogsView,\n    refreshLogsView,\n    startLogsPolling,\n    stopLogsPolling\n} from './logs';\nimport {\n    fetchDivergenceSignals,\n    renderDivergenceOverview,\n    setupDivergenceFeedDelegation,\n    runManualDivergenceFetchDailyData,\n    stopManualDivergenceFetchDailyData,\n    runManualDivergenceFetchWeeklyData,\n    stopManualDivergenceFetchWeeklyData,\n    runManualVDFScan,\n    stopManualVDFScan,\n    syncDivergenceScanUiState,\n    initializeDivergenceSortDefaults,\n    setColumnFeedMode,\n    setColumnCustomDates,\n    ColumnFeedMode\n} from './divergenceFeed';\nimport { SortMode, TickerListContext } from './types';\nimport {\n    getAppTimeZone,\n    getAppTimeZoneOptions,\n    onAppTimeZoneChange,\n    setAppTimeZone\n} from './timezone';\n\nlet currentView: 'logs' | 'divergence' | 'breadth' = 'divergence'; \nlet divergenceDashboardScrollY = 0;\nlet tickerOriginView: 'divergence' = 'divergence';\nlet tickerListContext: TickerListContext = null;\nlet appInitialized = false;\n\nconst SITE_LOCK_LENGTH = 8;\n \n\n// Expose globals for HTML onclick attributes\n// Note: We declared the Window interface in liveFeed.ts (or global.d.ts ideally), \n// but we need to assign them here.\nwindow.setTickerDailySort = setTickerDailySort;\nwindow.setTickerWeeklySort = setTickerWeeklySort;\n\nexport function getTickerListContext(): TickerListContext {\n    return tickerListContext;\n}\n\nexport function getTickerOriginView(): 'divergence' {\n    return tickerOriginView;\n}\n\nwindow.showTickerView = function(ticker: string, sourceView: 'divergence' = 'divergence', listContext: TickerListContext = null) {\n    tickerOriginView = sourceView;\n    tickerListContext = listContext;\n\n    divergenceDashboardScrollY = window.scrollY;\n\n    if (currentView !== 'divergence') {\n        switchView('divergence');\n    }\n    setActiveNavTab('divergence');\n\n    const tickerView = document.getElementById('ticker-view');\n    if (tickerView) {\n        cancelChartLoading();\n        tickerView.dataset.ticker = ticker;\n        document.getElementById('dashboard-view')?.classList.add('hidden');\n        document.getElementById('view-divergence')?.classList.add('hidden');\n        tickerView.classList.remove('hidden');\n        renderTickerView(ticker);\n        window.scrollTo(0, 0);\n    }\n}\n\nwindow.showOverview = function() {\n    cancelChartLoading();\n    const tickerView = document.getElementById('ticker-view');\n    if (tickerView) delete tickerView.dataset.ticker;\n\n    switchView('divergence');\n    window.scrollTo(0, divergenceDashboardScrollY);\n}\n\nfunction switchView(view: 'logs' | 'divergence' | 'breadth') {\n    currentView = view;\n    setActiveNavTab(view);\n\n    // Hide all views\n    document.getElementById('view-logs')?.classList.add('hidden');\n    document.getElementById('view-divergence')?.classList.add('hidden');\n    document.getElementById('view-breadth')?.classList.add('hidden');\n\n    // Also hide ticker view when switching main views\n    document.getElementById('ticker-view')?.classList.add('hidden');\n    cancelChartLoading();\n\n    stopLogsPolling();\n\n    // Close any open dropdowns\n    closeAllHeaderDropdowns();\n\n    // Show the selected view and controls\n    if (view === 'logs') {\n        document.getElementById('view-logs')?.classList.remove('hidden');\n        refreshLogsView().catch(() => {});\n        startLogsPolling();\n    } else if (view === 'divergence') {\n        document.getElementById('view-divergence')?.classList.remove('hidden');\n        fetchDivergenceSignals(true).then(renderDivergenceOverview);\n        syncDivergenceScanUiState();\n    } else if (view === 'breadth') {\n        document.getElementById('view-breadth')?.classList.remove('hidden');\n        initBreadth();\n    }\n}\n\nfunction closeAllHeaderDropdowns(): void {\n    document.getElementById('header-nav-dropdown')?.classList.add('hidden');\n    document.getElementById('header-nav-dropdown')?.classList.remove('open');\n}\n\nfunction setActiveNavTab(view: 'logs' | 'live' | 'divergence' | 'breadth'): void {\n    document.querySelectorAll('.header-nav-item').forEach((b) => b.classList.remove('active'));\n    document.querySelector(`.header-nav-item[data-view=\"${view}\"]`)?.classList.add('active');\n}\n\n\nfunction initSearch() {\n    const toggleBtn = document.getElementById('search-toggle');\n    const input = document.getElementById('search-input') as HTMLInputElement;\n    const container = document.getElementById('search-container');\n    \n    if (!toggleBtn || !input || !container) return;\n    \n    toggleBtn.addEventListener('click', (e) => {\n        e.stopPropagation();\n        const isActive = input.classList.contains('active');\n        if (isActive) {\n            input.classList.remove('active');\n            input.blur();\n        } else {\n            input.classList.add('active');\n            input.focus();\n        }\n    });\n\n    container.addEventListener('click', () => {\n        if (!input.classList.contains('active')) {\n            input.classList.add('active');\n            input.focus();\n        }\n    });\n\n    input.addEventListener('keydown', (e) => {\n        if (e.key === 'Enter') {\n            const ticker = input.value.trim().toUpperCase();\n            if (ticker) {\n                window.showTickerView(ticker);\n                input.value = ''; \n                input.blur();\n                input.classList.remove('active'); \n            }\n        }\n    });\n\n    // Type-to-search functionality\n    document.addEventListener('keydown', (e) => {\n        // Ignore if focus is already on an input or other editable element\n        if (document.activeElement instanceof HTMLInputElement || \n            document.activeElement instanceof HTMLTextAreaElement ||\n            (document.activeElement as HTMLElement).isContentEditable) {\n            return;\n        }\n        \n        // Ignore modifier keys and non-character keys\n        if (e.ctrlKey || e.altKey || e.metaKey || e.key.length > 1) return;\n\n        // Check for alphanumeric characters\n        if (/^[a-zA-Z0-9]$/.test(e.key)) {\n            if (!input.classList.contains('active')) {\n                input.classList.add('active');\n            }\n            input.focus();\n            // Note: Focusing during keydown usually allows the keypress to naturally enter the input.\n        }\n    });\n}\n\n\ndeclare global {\n    interface Window {\n        setTickerDailySort: (mode: SortMode) => void;\n        setTickerWeeklySort: (mode: SortMode) => void;\n        showTickerView: (ticker: string, sourceView?: 'divergence', listContext?: TickerListContext) => void;\n        showOverview: () => void;\n    }\n}\n\nasync function refreshViewAfterTimeZoneChange(): Promise<void> {\n    if (currentView === 'divergence') {\n        await fetchDivergenceSignals(true);\n        renderDivergenceOverview();\n        return;\n    }\n\n\n\n\n\n    if (currentView === 'breadth') {\n        initBreadth();\n        return;\n    }\n\n    if (currentView === 'logs') {\n        await refreshLogsView();\n    }\n}\n\nfunction initGlobalSettingsPanel() {\n    const container = document.getElementById('global-settings-container');\n    const toggleBtn = document.getElementById('global-settings-toggle') as HTMLButtonElement | null;\n    const panel = document.getElementById('global-settings-panel');\n    let timezoneSelect = document.getElementById('global-timezone-select') as HTMLSelectElement | null;\n\n    if (!container || !toggleBtn || !panel) return;\n\n    const removeLegacyV3Row = () => {\n        panel.querySelectorAll<HTMLElement>('.global-settings-toggle-row').forEach((node) => node.remove());\n        const legacyById = panel.querySelector('#global-enable-v3-fetch, #enable-v3-fetch');\n        if (legacyById) {\n            (legacyById.closest('.global-settings-row') || legacyById).remove();\n        }\n        const allTextNodes = panel.querySelectorAll<HTMLElement>('label, span, div');\n        allTextNodes.forEach((node) => {\n            const text = String(node.textContent || '').trim().toLowerCase();\n            if (text !== 'enable v3 fetch') return;\n            (node.closest('.global-settings-row') || node).remove();\n        });\n    };\n\n    const ensureTimezoneSelect = (): HTMLSelectElement => {\n        if (timezoneSelect) return timezoneSelect;\n        const row = document.createElement('div');\n        row.className = 'global-settings-row global-settings-timezone-row';\n        const label = document.createElement('label');\n        label.className = 'global-settings-label';\n        label.htmlFor = 'global-timezone-select';\n        label.textContent = 'Timezone';\n        const select = document.createElement('select');\n        select.id = 'global-timezone-select';\n        select.className = 'glass-input global-settings-select';\n        select.setAttribute('aria-label', 'Timezone');\n        row.append(label, select);\n        panel.append(row);\n        timezoneSelect = select;\n        return select;\n    };\n\n    removeLegacyV3Row();\n    timezoneSelect = ensureTimezoneSelect();\n    const timezoneSelectEl = timezoneSelect;\n\n    const closePanel = () => {\n        panel.classList.add('hidden');\n        toggleBtn.classList.remove('active');\n    };\n\n    const openPanel = () => {\n        panel.classList.remove('hidden');\n        toggleBtn.classList.add('active');\n        timezoneSelectEl.value = getAppTimeZone();\n    };\n\n    const options = getAppTimeZoneOptions();\n    timezoneSelectEl.innerHTML = options\n        .map((option) => `<option value=\"${option.value}\">${option.label}</option>`)\n        .join('');\n    timezoneSelectEl.value = getAppTimeZone();\n    timezoneSelectEl.addEventListener('change', () => {\n        setAppTimeZone(timezoneSelectEl.value);\n    });\n\n    onAppTimeZoneChange((nextTimeZone) => {\n        timezoneSelectEl.value = nextTimeZone;\n        refreshViewAfterTimeZoneChange().catch((error) => {\n            console.error('Failed to refresh UI after timezone change:', error);\n        });\n    });\n\n    toggleBtn.addEventListener('click', (event) => {\n        event.stopPropagation();\n        if (panel.classList.contains('hidden')) {\n            openPanel();\n            syncDivergenceScanUiState().catch(() => {});\n        } else {\n            closePanel();\n        }\n    });\n\n    panel.addEventListener('click', (event) => {\n        event.stopPropagation();\n    });\n\n    document.addEventListener('click', (event) => {\n        const target = event.target as HTMLElement | null;\n        if (!target) return;\n        if (target.closest('#global-settings-container')) return;\n        closePanel();\n    });\n\n}\n\nasync function checkServerSession(): Promise<boolean> {\n    try {\n        const res = await fetch('/api/auth/check');\n        return res.ok;\n    } catch {\n        return false;\n    }\n}\n\nasync function verifyPasscodeOnServer(passcode: string): Promise<boolean> {\n    try {\n        const res = await fetch('/api/auth/verify', {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify({ passcode }),\n        });\n        return res.ok;\n    } catch {\n        return false;\n    }\n}\n\nasync function initializeSiteLock(onUnlock: () => void): Promise<void> {\n    const overlay = document.getElementById('site-lock-overlay') as HTMLElement | null;\n    if (!overlay) {\n        onUnlock();\n        return;\n    }\n    if (!overlay.dataset.doubleTapBound) {\n        overlay.addEventListener('dblclick', (event) => {\n            event.preventDefault();\n        });\n        overlay.dataset.doubleTapBound = '1';\n    }\n\n    const panel = overlay.querySelector('.site-lock-panel') as HTMLElement | null;\n    const statusEl = document.getElementById('site-lock-status') as HTMLElement | null;\n    const dotEls = Array.from(overlay.querySelectorAll('.site-lock-dot')) as HTMLElement[];\n    const digitButtons = Array.from(overlay.querySelectorAll('[data-lock-digit]')) as HTMLButtonElement[];\n    const actionButtons = Array.from(overlay.querySelectorAll('[data-lock-action]')) as HTMLButtonElement[];\n\n    // Check if we already have a valid server session\n    if (await checkServerSession()) {\n        overlay.classList.add('hidden');\n        document.body.classList.remove('site-locked');\n        onUnlock();\n        return;\n    }\n\n    document.body.classList.add('site-locked');\n    overlay.classList.remove('hidden');\n\n    let entered = '';\n    let verifying = false;\n\n    const updateDots = () => {\n        for (let i = 0; i < dotEls.length; i++) {\n            dotEls[i].classList.toggle('filled', i < entered.length);\n        }\n    };\n\n    const setStatus = (message: string) => {\n        if (!statusEl) return;\n        statusEl.textContent = message;\n    };\n\n    const clearEntry = () => {\n        entered = '';\n        updateDots();\n    };\n\n    const handleSuccess = () => {\n        overlay.classList.add('hidden');\n        document.body.classList.remove('site-locked');\n        window.removeEventListener('keydown', onKeyDown, true);\n        onUnlock();\n    };\n\n    const handleFailure = () => {\n        setStatus('');\n        clearEntry();\n        if (panel) {\n            panel.classList.remove('shake');\n            // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n            panel.offsetWidth;\n            panel.classList.add('shake');\n        }\n        window.setTimeout(() => {\n            if (panel) panel.classList.remove('shake');\n        }, 320);\n    };\n\n    const verifyIfComplete = async () => {\n        if (entered.length < SITE_LOCK_LENGTH || verifying) return;\n        verifying = true;\n        const passcode = entered;\n        const ok = await verifyPasscodeOnServer(passcode);\n        verifying = false;\n        if (ok) {\n            handleSuccess();\n        } else {\n            handleFailure();\n        }\n    };\n\n    const appendDigit = (digit: string) => {\n        if (!/^[0-9]$/.test(digit)) return;\n        if (entered.length >= SITE_LOCK_LENGTH) return;\n        entered += digit;\n        setStatus('');\n        updateDots();\n        void verifyIfComplete();\n    };\n\n    const backspace = () => {\n        if (!entered.length) return;\n        entered = entered.slice(0, -1);\n        setStatus('');\n        updateDots();\n    };\n\n    digitButtons.forEach((button) => {\n        button.addEventListener('click', () => {\n            appendDigit(String(button.dataset.lockDigit || ''));\n        });\n    });\n\n    actionButtons.forEach((button) => {\n        button.addEventListener('click', () => {\n            const action = String(button.dataset.lockAction || '');\n            if (action === 'clear') {\n                clearEntry();\n                setStatus('');\n                return;\n            }\n            if (action === 'back') {\n                backspace();\n            }\n        });\n    });\n\n    const onKeyDown = (event: KeyboardEvent) => {\n        if (overlay.classList.contains('hidden')) return;\n        const key = event.key;\n        if (/^[0-9]$/.test(key)) {\n            event.preventDefault();\n            appendDigit(key);\n            return;\n        }\n        if (key === 'Backspace') {\n            event.preventDefault();\n            backspace();\n            return;\n        }\n        if (key === 'Escape') {\n            event.preventDefault();\n            clearEntry();\n            setStatus('');\n        }\n    };\n    window.addEventListener('keydown', onKeyDown, true);\n\n    updateDots();\n}\n\nfunction initHeaderNavDropdown(): void {\n    const toggle = document.getElementById('header-nav-toggle');\n    const dropdown = document.getElementById('header-nav-dropdown');\n    if (!toggle || !dropdown) return;\n\n    toggle.addEventListener('click', (e) => {\n        e.stopPropagation();\n        closeAllColumnCustomPanels();\n\n        const isVisible = dropdown.classList.contains('open');\n        if (isVisible) {\n            dropdown.classList.remove('open');\n            setTimeout(() => dropdown.classList.add('hidden'), 150);\n        } else {\n            dropdown.classList.remove('hidden');\n            requestAnimationFrame(() => dropdown.classList.add('open'));\n        }\n    });\n\n    dropdown.addEventListener('click', (e) => {\n        const item = (e.target as HTMLElement).closest('.header-nav-item') as HTMLElement | null;\n        if (!item) return;\n        const view = item.dataset.view as 'logs' | 'divergence' | 'breadth';\n        if (view) {\n            switchView(view);\n            dropdown.classList.remove('open');\n            setTimeout(() => dropdown.classList.add('hidden'), 150);\n        }\n    });\n}\n\nfunction initColumnTimeframeButtons(): void {\n    // Event delegation for all column tf buttons\n    document.addEventListener('click', (e) => {\n        const target = e.target as HTMLElement;\n\n        // Timeframe button click (1, 2, 5, custom)\n        const tfBtn = target.closest('.column-tf-controls .tf-btn[data-tf]') as HTMLElement | null;\n        if (tfBtn) {\n            const controls = tfBtn.closest('.column-tf-controls') as HTMLElement | null;\n            if (!controls) return;\n            const column = controls.dataset.column as 'daily' | 'weekly';\n            const mode = tfBtn.dataset.tf as ColumnFeedMode;\n            if (!column || !mode) return;\n\n            if (mode === 'custom') {\n                // Toggle custom panel visibility\n                const panel = controls.querySelector('.column-tf-custom-panel') as HTMLElement | null;\n                if (panel) {\n                    const isVisible = !panel.classList.contains('hidden');\n                    closeAllColumnCustomPanels();\n                    if (!isVisible) {\n                        panel.classList.remove('hidden');\n                        requestAnimationFrame(() => panel.classList.add('open'));\n                    }\n                }\n                // Mark C as active without fetching\n                setColumnFeedMode(column, mode, false);\n                return;\n            }\n\n            closeAllColumnCustomPanels();\n            setColumnFeedMode(column, mode);\n            return;\n        }\n\n        // Apply button click inside custom panel\n        const applyBtn = target.closest('.column-tf-apply') as HTMLElement | null;\n        if (applyBtn) {\n            const panel = applyBtn.closest('.column-tf-custom-panel') as HTMLElement | null;\n            if (panel) applyCustomDatePanel(panel);\n            return;\n        }\n\n        // Click on date input inside custom panel \u2014 don't close\n        if (target.closest('.column-tf-custom-panel')) return;\n\n        // Click outside \u2014 close all custom panels\n        if (!target.closest('.column-tf-controls')) {\n            closeAllColumnCustomPanels();\n        }\n    });\n\n    // Auto-format date inputs (mm/dd/yyyy) with auto-advance\n    document.addEventListener('input', handleDateAutoFormat);\n    document.addEventListener('keydown', handleDateKeydown);\n}\n\nfunction parseMmDdYyyy(value: string): string | null {\n    const m = value.match(/^(\\d{2})\\/(\\d{2})\\/(\\d{4})$/);\n    if (!m) return null;\n    return `${m[3]}-${m[1]}-${m[2]}`;\n}\n\nfunction handleDateAutoFormat(e: Event): void {\n    const input = e.target as HTMLInputElement;\n    if (!input || !(input.classList.contains('column-tf-from') || input.classList.contains('column-tf-to'))) return;\n\n    const raw = input.value;\n    let digits = raw.replace(/\\D/g, '');\n    if (digits.length > 8) digits = digits.slice(0, 8);\n\n    let formatted = '';\n    if (digits.length <= 2) {\n        formatted = digits;\n    } else if (digits.length <= 4) {\n        formatted = digits.slice(0, 2) + '/' + digits.slice(2);\n    } else {\n        formatted = digits.slice(0, 2) + '/' + digits.slice(2, 4) + '/' + digits.slice(4);\n    }\n\n    input.value = formatted;\n\n    if (formatted.length === 10 && input.classList.contains('column-tf-from')) {\n        const panel = input.closest('.column-tf-custom-panel');\n        const toInput = panel?.querySelector('.column-tf-to') as HTMLInputElement | null;\n        if (toInput && !toInput.value) {\n            toInput.focus();\n        }\n    }\n}\n\nfunction handleDateKeydown(e: KeyboardEvent): void {\n    const input = e.target as HTMLInputElement;\n    if (!input || !(input.classList.contains('column-tf-from') || input.classList.contains('column-tf-to'))) return;\n\n    if (e.key === 'Enter') {\n        e.preventDefault();\n        const panel = input.closest('.column-tf-custom-panel');\n        const applyBtn = panel?.querySelector('.column-tf-apply') as HTMLElement | null;\n        applyBtn?.click();\n    }\n}\n\nfunction applyCustomDatePanel(panel: HTMLElement): void {\n    const controls = panel.closest('.column-tf-controls') as HTMLElement | null;\n    if (!controls) return;\n    const column = controls.dataset.column as 'daily' | 'weekly';\n    const fromInput = panel.querySelector('.column-tf-from') as HTMLInputElement | null;\n    const toInput = panel.querySelector('.column-tf-to') as HTMLInputElement | null;\n    const fromVal = parseMmDdYyyy(fromInput?.value || '');\n    const toVal = parseMmDdYyyy(toInput?.value || '');\n    if (column && fromVal && toVal) {\n        setColumnCustomDates(column, fromVal, toVal);\n        setColumnFeedMode(column, 'custom');\n    }\n    closeAllColumnCustomPanels();\n}\n\nfunction closeAllColumnCustomPanels(): void {\n    document.querySelectorAll('.column-tf-custom-panel').forEach(panel => {\n        panel.classList.remove('open');\n        panel.classList.add('hidden');\n    });\n}\n\nfunction bootstrapApplication(): void {\n    if (appInitialized) return;\n    appInitialized = true;\n\n    // Back button (in chart controls bar)\n    document.getElementById('ticker-back-btn')?.addEventListener('click', window.showOverview);\n\n    // Global settings panel controls\n    document.getElementById('divergence-fetch-daily-btn')?.addEventListener('click', () => {\n        runManualDivergenceFetchDailyData();\n    });\n    document.getElementById('divergence-fetch-daily-stop-btn')?.addEventListener('click', () => {\n        stopManualDivergenceFetchDailyData();\n    });\n    document.getElementById('divergence-fetch-weekly-btn')?.addEventListener('click', () => {\n        runManualDivergenceFetchWeeklyData();\n    });\n    document.getElementById('divergence-fetch-weekly-stop-btn')?.addEventListener('click', () => {\n        stopManualDivergenceFetchWeeklyData();\n    });\n    document.getElementById('divergence-vdf-scan-btn')?.addEventListener('click', () => {\n        runManualVDFScan();\n    });\n    document.getElementById('divergence-vdf-scan-stop-btn')?.addEventListener('click', () => {\n        stopManualVDFScan();\n    });\n\n    // Ticker View Daily Sort Buttons\n    document.querySelectorAll('.ticker-daily-sort .tf-btn').forEach(btn => {\n        btn.addEventListener('click', () => {\n            const mode = (btn as HTMLElement).dataset.sort as SortMode;\n            setTickerDailySort(mode);\n        });\n    });\n\n    // Ticker View Weekly Sort Buttons\n    document.querySelectorAll('.ticker-weekly-sort .tf-btn').forEach(btn => {\n        btn.addEventListener('click', () => {\n            const mode = (btn as HTMLElement).dataset.sort as SortMode;\n            setTickerWeeklySort(mode);\n        });\n    });\n\n\n    // Breadth Controls\n    document.querySelectorAll('#breadth-tf-btns .tf-btn').forEach(btn => {\n        btn.addEventListener('click', () => {\n            const days = Number((btn as HTMLElement).dataset.days);\n            setBreadthTimeframe(days);\n        });\n    });\n\n    document.querySelectorAll('#breadth-metric-btns .tf-btn').forEach(btn => {\n        btn.addEventListener('click', () => {\n            const metric = (btn as HTMLElement).dataset.metric as 'SVIX' | 'RSP' | 'MAGS';\n            setBreadthMetric(metric);\n            const subtitle = document.getElementById('breadth-subtitle');\n            if (subtitle) subtitle.textContent = `SPY vs ${metric} \u2014 Normalized`;\n        });\n    });\n\n    // Header navigation dropdown & column timeframe dropdowns\n    initHeaderNavDropdown();\n    initColumnTimeframeButtons();\n\n    // Close header dropdowns on outside click\n    document.addEventListener('click', (e) => {\n        const target = e.target as HTMLElement | null;\n        if (!target) return;\n        if (target.closest('#header-nav-container')) return;\n        closeAllHeaderDropdowns();\n    });\n\n    // Initial Load\n    initializeDivergenceSortDefaults();\n    syncDivergenceScanUiState().catch(() => {});\n    switchView('divergence');\n\n    // Setup Search\n    initGlobalSettingsPanel();\n    initSearch();\n    initLogsView();\n\n    // Setup Event Delegation\n    setupDivergenceFeedDelegation();\n\n    // Mobile Collapse Toggle (only on mobile)\n    setupMobileCollapse();\n\n    // Initialize Chart Controls\n    initChartControls();\n\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    initializeSiteLock(() => {\n        bootstrapApplication();\n    });\n});\n\nfunction setupMobileCollapse(): void {\n    const attachCollapseHandler = (root: HTMLElement | null, allowedContainerSelector: string): void => {\n        if (!root) return;\n        root.addEventListener('click', (e) => {\n            // Only activate on mobile-like viewport widths.\n            if (window.innerWidth > 768) return;\n\n            const target = e.target as HTMLElement | null;\n            if (!target) return;\n            const heading = target.closest('h2');\n            if (!heading) return;\n            const isInHeader = heading.closest('.column-header') || heading.closest('.header-title-group');\n            if (!isInHeader) return;\n\n            const column = heading.closest('.column');\n            if (!column) return;\n            if (!column.closest(allowedContainerSelector)) return;\n\n            column.classList.toggle('collapsed');\n        });\n    };\n\n    // Alerts page (default) dashboard columns.\n    attachCollapseHandler(document.getElementById('view-divergence'), '#divergence-dashboard-view');\n}\n"],
  "mappings": "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",
  "names": ["a", "a", "b", "a", "b", "Observable", "o", "DevicePixelContentBoxBinding", "size", "l", "entry", "CanvasRenderingTarget2D", "f", "e", "i", "t", "s", "r", "h", "l", "a", "o", "_", "n", "u", "c", "d", "f", "v", "p", "m", "b", "w", "g", "M", "x", "S", "k", "y", "C", "T", "P", "R", "D", "V", "O", "B", "A", "I", "z", "p", "ms", "a", "b", "rsiByTime", "d", "_", "x", "y", "p", "window", "j", "rs", "a", "b", "ms", "h", "x", "_", "y", "xs", "xe", "c", "w", "z", "d", "e", "a", "d", "b", "d", "a", "candleSeries", "e", "me", "allAlerts", "a", "alerts", "v", "d", "date", "escapeHtml", "b", "e", "m"]
}
